import{a as de,b as be,c as CE,d as qt,e as SE,f as AE,g as Kt,i as _f,j as wf,m as NE,n as Df}from"./chunk-K5CSBBV3.js";var Xt={};SE(Xt,{__addDisposableResource:()=>Qf,__assign:()=>yi,__asyncDelegator:()=>zf,__asyncGenerator:()=>_i,__asyncValues:()=>wi,__await:()=>tt,__awaiter:()=>v,__classPrivateFieldGet:()=>Yf,__classPrivateFieldIn:()=>Jf,__classPrivateFieldSet:()=>Zf,__createBinding:()=>Ei,__decorate:()=>Rf,__disposeResources:()=>Xf,__esDecorate:()=>Pf,__exportStar:()=>Uf,__extends:()=>Of,__generator:()=>Bf,__importDefault:()=>Kf,__importStar:()=>qf,__makeTemplateObject:()=>Wf,__metadata:()=>Vf,__param:()=>kf,__propKey:()=>Ff,__read:()=>wc,__rest:()=>ht,__rewriteRelativeImportExtension:()=>eh,__runInitializers:()=>Lf,__setFunctionName:()=>jf,__spread:()=>$f,__spreadArray:()=>Gf,__spreadArrays:()=>Hf,__values:()=>vi,default:()=>jE});function Of(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ec(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function ht(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Rf(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function kf(t,e){return function(n,r){e(n,r,t)}}function Pf(t,e,n,r,o,i){function s(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,l=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,f=n.length-1;f>=0;f--){var p={};for(var y in r)p[y]=y==="access"?{}:r[y];for(var y in r.access)p.access[y]=r.access[y];p.addInitializer=function(m){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(m||null))};var g=(0,n[f])(a==="accessor"?{get:l.get,set:l.set}:l[c],p);if(a==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=s(g.get))&&(l.get=d),(d=s(g.set))&&(l.set=d),(d=s(g.init))&&o.unshift(d)}else(d=s(g))&&(a==="field"?o.unshift(d):l[c]=d)}u&&Object.defineProperty(u,r.name,l),h=!0}function Lf(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function Ff(t){return typeof t=="symbol"?t:"".concat(t)}function jf(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Vf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function v(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Bf(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Uf(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ei(e,t,n)}function vi(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function $f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(wc(arguments[e]));return t}function Hf(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function Gf(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function tt(t){return this instanceof tt?(this.v=t,this):new tt(t)}function _i(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(o[f]=function(y){return new Promise(function(g,m){i.push([f,y,g,m])>1||c(f,y)})},p&&(o[f]=p(o[f])))}function c(f,p){try{u(r[f](p))}catch(y){h(i[0][3],y)}}function u(f){f.value instanceof tt?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function zf(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=t[o]?function(s){return(n=!n)?{value:tt(t[o](s)),done:!1}:i?i(s):s}:i}}function wi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vi=="function"?vi(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}function Wf(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function qf(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=_c(t),r=0;r<n.length;r++)n[r]!=="default"&&Ei(e,t,n[r]);return LE(e,t),e}function Kf(t){return t&&t.__esModule?t:{default:t}}function Yf(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Zf(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function Jf(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Qf(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}function Xf(t){function e(i){t.error=t.hasError?new FE(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,function(s){return e(s),o()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function eh(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,i,s){return r?e?".jsx":".js":o&&(!i||!s)?n:o+i+"."+s.toLowerCase()+"js"}):t}var Ec,yi,Ei,LE,_c,FE,jE,W=CE(()=>{Ec=function(t,e){return Ec=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Ec(t,e)};yi=function(){return yi=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yi.apply(this,arguments)};Ei=Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};LE=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},_c=function(t){return _c=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},_c(t)};FE=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};jE={__extends:Of,__assign:yi,__rest:ht,__decorate:Rf,__param:kf,__esDecorate:Pf,__runInitializers:Lf,__propKey:Ff,__setFunctionName:jf,__metadata:Vf,__awaiter:v,__generator:Bf,__createBinding:Ei,__exportStar:Uf,__values:vi,__read:wc,__spread:$f,__spreadArrays:Hf,__spreadArray:Gf,__await:tt,__asyncGenerator:_i,__asyncDelegator:zf,__asyncValues:wi,__makeTemplateObject:Wf,__importStar:qf,__importDefault:Kf,__classPrivateFieldGet:Yf,__classPrivateFieldSet:Zf,__classPrivateFieldIn:Jf,__addDisposableResource:Qf,__disposeResources:Xf,__rewriteRelativeImportExtension:eh}});var jd=qt(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});var Ld=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Fd.default=Ld});var Ud=qt(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});var av=(W(),Kt(Xt)),sS=av.__importDefault((Df(),Kt(NE))),aS=av.__importDefault(jd()),Vd=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=sS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,c,u;let l=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){let I=await i.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=I:d=JSON.parse(I))}let g=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");g&&m&&m.length>1&&(h=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(d=[],l=null,f=200,p="OK")}catch{i.status===404&&g===""?(f=204,p="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((u=l?.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&this.shouldThrowOnError)throw new aS.default(l)}return{error:l,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};Bd.default=Vd});var Gd=qt(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});var cS=(W(),Kt(Xt)),uS=cS.__importDefault(Ud()),$d=class extends uS.default{select(e){let n=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Hd.default=$d});var Sa=qt(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});var lS=(W(),Kt(Xt)),dS=lS.__importDefault(Gd()),fS=new RegExp("[,()]"),zd=class extends dS.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&fS.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Wd.default=zd});var Yd=qt(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});var hS=(W(),Kt(Xt)),Go=hS.__importDefault(Sa()),qd=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,n){let{head:r=!1,count:o}=n??{},i=r?"HEAD":"GET",s=!1,a=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),o&&this.headers.append("Prefer",`count=${o}`),new Go.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Go.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Go.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Go.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Go.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Kd.default=qd});var uv=qt(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});var cv=(W(),Kt(Xt)),pS=cv.__importDefault(Yd()),gS=cv.__importDefault(Sa()),Zd=class t{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){let n=new URL(`${this.url}/${e}`);return new pS.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${e}`),u;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",u=n);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new gS.default({method:a,url:c,headers:l,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Jd.default=Zd});var mv=qt(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.PostgrestError=we.PostgrestBuilder=we.PostgrestTransformBuilder=we.PostgrestFilterBuilder=we.PostgrestQueryBuilder=we.PostgrestClient=void 0;var br=(W(),Kt(Xt)),lv=br.__importDefault(uv());we.PostgrestClient=lv.default;var dv=br.__importDefault(Yd());we.PostgrestQueryBuilder=dv.default;var fv=br.__importDefault(Sa());we.PostgrestFilterBuilder=fv.default;var hv=br.__importDefault(Gd());we.PostgrestTransformBuilder=hv.default;var pv=br.__importDefault(Ud());we.PostgrestBuilder=pv.default;var gv=br.__importDefault(jd());we.PostgrestError=gv.default;we.default={PostgrestClient:lv.default,PostgrestQueryBuilder:dv.default,PostgrestFilterBuilder:fv.default,PostgrestTransformBuilder:hv.default,PostgrestBuilder:pv.default,PostgrestError:gv.default}});function x(t){return typeof t=="function"}function cc(t){return x(t?.lift)}function k(t){return e=>{if(cc(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function St(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ai=St(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Yt(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(x(r))try{r()}catch(i){e=i instanceof ai?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{bf(i)}catch(s){e=e??[],s instanceof ai?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ai(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bf(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Yt(n,e)}remove(e){let{_finalizers:n}=this;n&&Yt(n,e),e instanceof t&&e._removeParent(this)}};te.EMPTY=(()=>{let t=new te;return t.closed=!0,t})();var uc=te.EMPTY;function ci(t){return t instanceof te||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function bf(t){x(t)?t():t.unsubscribe()}var $e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vn={setTimeout(t,e,...n){let{delegate:r}=Vn;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Vn;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ui(t){Vn.setTimeout(()=>{let{onUnhandledError:e}=$e;if(e)e(t);else throw t})}function Zt(){}var If=lc("C",void 0,void 0);function Tf(t){return lc("E",void 0,t)}function Cf(t){return lc("N",t,void 0)}function lc(t,e,n){return{kind:t,value:e,error:n}}var Jt=null;function Bn(t){if($e.useDeprecatedSynchronousErrorHandling){let e=!Jt;if(e&&(Jt={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Jt;if(Jt=null,n)throw r}}else t()}function Sf(t){$e.useDeprecatedSynchronousErrorHandling&&Jt&&(Jt.errorThrown=!0,Jt.error=t)}var Qt=class extends te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ci(e)&&e.add(this)):this.destination=OE}static create(e,n,r){return new Un(e,n,r)}next(e){this.isStopped?fc(Cf(e),this):this._next(e)}error(e){this.isStopped?fc(Tf(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fc(If,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xE=Function.prototype.bind;function dc(t,e){return xE.call(t,e)}var hc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){li(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){li(r)}else li(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){li(n)}}},Un=class extends Qt{constructor(e,n,r){super();let o;if(x(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&$e.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&dc(e.next,i),error:e.error&&dc(e.error,i),complete:e.complete&&dc(e.complete,i)}):o=e}this.destination=new hc(o)}};function li(t){$e.useDeprecatedSynchronousErrorHandling?Sf(t):ui(t)}function ME(t){throw t}function fc(t,e){let{onStoppedNotification:n}=$e;n&&Vn.setTimeout(()=>n(t,e))}var OE={closed:!0,next:Zt,error:ME,complete:Zt};function R(t,e,n,r,o){return new pc(t,e,n,r,o)}var pc=class extends Qt{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ve(t,e){return k((n,r)=>{let o=0;n.subscribe(R(r,i=>{r.next(t.call(e,i,o++))}))})}var $n=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ne(t){return t}function RE(...t){return gc(t)}function gc(t){return t.length===0?Ne:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var P=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=PE(n)?n:new Un(n,r,o);return Bn(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Af(r),new r((o,i)=>{let s=new Un({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[$n](){return this}pipe(...n){return gc(n)(this)}toPromise(n){return n=Af(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Af(t){var e;return(e=t??$e.Promise)!==null&&e!==void 0?e:Promise}function kE(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}function PE(t){return t&&t instanceof Qt||kE(t)&&ci(t)}function mc(){return k((t,e)=>{let n=null;t._refCount++;let r=R(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var yc=class extends P{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,cc(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new te;let n=this.getSubject();e.add(this.source.subscribe(R(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=te.EMPTY)}return e}refCount(){return mc()(this)}};var Nf=St(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var et=(()=>{class t extends P{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new di(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Nf}next(n){Bn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Bn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?uc:(this.currentObservers=null,i.push(n),new te(()=>{this.currentObservers=null,Yt(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new P;return n.source=this,n}}return t.create=(e,n)=>new di(e,n),t})(),di=class extends et{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:uc}};var Pr=class extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vc={now(){return(vc.delegate||Date).now()},delegate:void 0};var fi=class extends te{constructor(e,n){super()}schedule(e,n=0){return this}};var Lr={setInterval(t,e,...n){let{delegate:r}=Lr;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Lr;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var hi=class extends fi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Lr.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Lr.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,o;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Yt(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Hn=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Hn.now=vc.now;var pi=class extends Hn{constructor(e,n=Hn.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Fr=new pi(hi),xf=Fr;var jr=new P(t=>t.complete());function gi(t){return t&&x(t.schedule)}function Mf(t){return t[t.length-1]}function mi(t){return x(Mf(t))?t.pop():void 0}function At(t){return gi(Mf(t))?t.pop():void 0}W();var Di=t=>t&&typeof t.length=="number"&&typeof t!="function";function bi(t){return x(t?.then)}function Ii(t){return x(t[$n])}function Ti(t){return Symbol.asyncIterator&&x(t?.[Symbol.asyncIterator])}function Ci(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function VE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Si=VE();function Ai(t){return x(t?.[Si])}W();function Ni(t){return _i(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield tt(n.read());if(o)return yield tt(void 0);yield yield tt(r)}}finally{n.releaseLock()}})}function xi(t){return x(t?.getReader)}function Y(t){if(t instanceof P)return t;if(t!=null){if(Ii(t))return BE(t);if(Di(t))return UE(t);if(bi(t))return $E(t);if(Ti(t))return th(t);if(Ai(t))return HE(t);if(xi(t))return GE(t)}throw Ci(t)}function BE(t){return new P(e=>{let n=t[$n]();if(x(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UE(t){return new P(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function $E(t){return new P(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ui)})}function HE(t){return new P(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function th(t){return new P(e=>{zE(t,e).catch(n=>e.error(n))})}function GE(t){return th(Ni(t))}function zE(t,e){var n,r,o,i;return v(this,void 0,void 0,function*(){try{for(n=wi(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function fe(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Mi(t,e=0){return k((n,r)=>{n.subscribe(R(r,o=>fe(r,t,()=>r.next(o),e),()=>fe(r,t,()=>r.complete(),e),o=>fe(r,t,()=>r.error(o),e)))})}function Oi(t,e=0){return k((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function nh(t,e){return Y(t).pipe(Oi(e),Mi(e))}function rh(t,e){return Y(t).pipe(Oi(e),Mi(e))}function oh(t,e){return new P(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function ih(t,e){return new P(n=>{let r;return fe(n,e,()=>{r=t[Si](),fe(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>x(r?.return)&&r.return()})}function Ri(t,e){if(!t)throw new Error("Iterable cannot be null");return new P(n=>{fe(n,e,()=>{let r=t[Symbol.asyncIterator]();fe(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function sh(t,e){return Ri(Ni(t),e)}function ah(t,e){if(t!=null){if(Ii(t))return nh(t,e);if(Di(t))return oh(t,e);if(bi(t))return rh(t,e);if(Ti(t))return Ri(t,e);if(Ai(t))return ih(t,e);if(xi(t))return sh(t,e)}throw Ci(t)}function Nt(t,e){return e?ah(t,e):Y(t)}function ki(...t){let e=At(t);return Nt(t,e)}function WE(t,e){let n=x(t)?t:()=>t,r=o=>o.error(n());return new P(e?o=>e.schedule(r,0,o):r)}function qE(t){return!!t&&(t instanceof P||x(t.lift)&&x(t.subscribe))}var en=St(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Pi(t){return t instanceof Date&&!isNaN(t)}var KE=St(t=>function(n=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function YE(t,e){let{first:n,each:r,with:o=ZE,scheduler:i=e??Fr,meta:s=null}=Pi(t)?{first:t}:typeof t=="number"?{each:t}:t;if(n==null&&r==null)throw new TypeError("No timeout provided.");return k((a,c)=>{let u,l,d=null,h=0,f=p=>{l=fe(c,i,()=>{try{u.unsubscribe(),Y(o({meta:s,lastValue:d,seen:h})).subscribe(c)}catch(y){c.error(y)}},p)};u=a.subscribe(R(c,p=>{l?.unsubscribe(),h++,c.next(d=p),r>0&&f(r)},void 0,void 0,()=>{l?.closed||l?.unsubscribe(),d=null})),!h&&f(n!=null?typeof n=="number"?n:+n-i.now():r)})}function ZE(t){throw new KE(t)}var{isArray:JE}=Array;function QE(t,e){return JE(e)?t(...e):t(e)}function Li(t){return ve(e=>QE(t,e))}var{isArray:XE}=Array,{getPrototypeOf:e_,prototype:t_,keys:n_}=Object;function Fi(t){if(t.length===1){let e=t[0];if(XE(e))return{args:e,keys:null};if(r_(e)){let n=n_(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function r_(t){return t&&typeof t=="object"&&e_(t)===t_}function ji(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function o_(...t){let e=At(t),n=mi(t),{args:r,keys:o}=Fi(t);if(r.length===0)return Nt([],e);let i=new P(i_(r,e,o?s=>ji(o,s):Ne));return n?i.pipe(Li(n)):i}function i_(t,e,n=Ne){return r=>{ch(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)ch(e,()=>{let u=Nt(t[c],e),l=!1;u.subscribe(R(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ch(t,e,n){t?fe(n,t,e):e()}function uh(t,e,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=y=>u<r?p(y):c.push(y),p=y=>{i&&e.next(y),u++;let g=!1;Y(n(y,l++)).subscribe(R(e,m=>{o?.(m),i?f(m):e.next(m)},()=>{g=!0},void 0,()=>{if(g)try{for(u--;c.length&&u<r;){let m=c.shift();s?fe(e,s,()=>p(m)):p(m)}h()}catch(m){e.error(m)}}))};return t.subscribe(R(e,f,()=>{d=!0,h()})),()=>{a?.()}}function pt(t,e,n=1/0){return x(e)?pt((r,o)=>ve((i,s)=>e(r,i,o,s))(Y(t(r,o))),n):(typeof e=="number"&&(n=e),k((r,o)=>uh(r,o,t,n)))}function Dc(t=1/0){return pt(Ne,t)}function lh(){return Dc(1)}function Gn(...t){return lh()(Nt(t,At(t)))}function s_(t){return new P(e=>{Y(t()).subscribe(e)})}function a_(...t){let e=mi(t),{args:n,keys:r}=Fi(t),o=new P(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;Y(n[l]).subscribe(R(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?ji(r,a):a),i.complete())}))}});return e?o.pipe(Li(e)):o}function dh(t=0,e,n=xf){let r=-1;return e!=null&&(gi(e)?n=e:r=e),new P(o=>{let i=Pi(t)?+t-n.now():t;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function tn(t,e){return k((n,r)=>{let o=0;n.subscribe(R(r,i=>t.call(e,i,o++)&&r.next(i)))})}function bc(t){return k((e,n)=>{let r=null,o=!1,i;r=e.subscribe(R(n,void 0,void 0,s=>{i=Y(t(s,bc(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function fh(t,e,n,r,o){return(i,s)=>{let a=n,c=e,u=0;i.subscribe(R(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Ic(t,e){return x(e)?pt(t,e,1):pt(t,1)}function Vr(t){return k((e,n)=>{let r=!1;e.subscribe(R(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function zn(t){return t<=0?()=>jr:k((e,n)=>{let r=0;e.subscribe(R(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function hh(){return k((t,e)=>{t.subscribe(R(e,Zt))})}function ph(t){return ve(()=>t)}function Tc(t,e){return e?n=>Gn(e.pipe(zn(1),hh()),n.pipe(Tc(t))):pt((n,r)=>Y(t(n,r)).pipe(zn(1),ph(n)))}function c_(t,e=Fr){let n=dh(t,e);return Tc(()=>n)}function Vi(t=u_){return k((e,n)=>{let r=!1;e.subscribe(R(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function u_(){return new en}function Cc(t){return k((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function l_(t,e){let n=arguments.length>=2;return r=>r.pipe(t?tn((o,i)=>t(o,i,r)):Ne,zn(1),n?Vr(e):Vi(()=>new en))}function Sc(t){return t<=0?()=>jr:k((e,n)=>{let r=[];e.subscribe(R(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function d_(t,e){let n=arguments.length>=2;return r=>r.pipe(t?tn((o,i)=>t(o,i,r)):Ne,Sc(1),n?Vr(e):Vi(()=>new en))}function f_(t,e){return k(fh(t,e,arguments.length>=2,!0))}function h_(...t){let e=At(t);return k((n,r)=>{(e?Gn(t,n,e):Gn(t,n)).subscribe(r)})}function Ac(t,e){return k((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(R(r,c=>{o?.unsubscribe();let u=0,l=i++;Y(t(c,l)).subscribe(o=R(r,d=>r.next(e?e(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function p_(t){return k((e,n)=>{Y(t).subscribe(R(n,()=>n.complete(),Zt)),!n.closed&&e.subscribe(n)})}function gh(t,e,n){let r=x(t)||e||n?{next:t,error:e,complete:n}:t;return r?k((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(R(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ne}var Nc;function Bi(){return Nc}function nt(t){let e=Nc;return Nc=t,e}var mh=Symbol("NotFound");function Wn(t){return t===mh||t?.name==="\u0275NotFound"}var he=null,Ui=!1,xc=1,g_=null,pe=Symbol("SIGNAL");function A(t){let e=he;return he=t,e}function zi(){return he}var qn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Kn(t){if(Ui)throw new Error("");if(he===null)return;he.consumerOnSignalRead(t);let e=he.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=he.recomputing;if(r&&(n=e!==void 0?e.nextProducer:he.producers,n!==void 0&&n.producer===t)){he.producersTail=n,n.lastReadVersion=t.version;return}let o=t.consumersTail;if(o!==void 0&&o.consumer===he&&(!r||y_(o,he)))return;let i=Zn(he),s={producer:t,consumer:he,nextProducer:n,prevConsumer:o,lastReadVersion:t.version,nextConsumer:void 0};he.producersTail=s,e!==void 0?e.nextProducer=s:he.producers=s,i&&_h(t,s)}function yh(){xc++}function Wi(t){if(!(Zn(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===xc)){if(!t.producerMustRecompute(t)&&!$r(t)){Gi(t);return}t.producerRecomputeValue(t),Gi(t)}}function Mc(t){if(t.consumers===void 0)return;let e=Ui;Ui=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||m_(r)}}finally{Ui=e}}function Oc(){return he?.consumerAllowSignalWrites!==!1}function m_(t){t.dirty=!0,Mc(t),t.consumerMarkedDirty?.(t)}function Gi(t){t.dirty=!1,t.lastCleanEpoch=xc}function Yn(t){return t&&vh(t),A(t)}function vh(t){t.producersTail=void 0,t.recomputing=!0}function Ur(t,e){A(e),t&&Eh(t)}function Eh(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Zn(t))do n=Rc(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function $r(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Wi(n),r!==n.version))return!0}return!1}function Hr(t){if(Zn(t)){let e=t.producers;for(;e!==void 0;)e=Rc(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function _h(t,e){let n=t.consumersTail,r=Zn(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let o=t.producers;o!==void 0;o=o.nextProducer)_h(o.producer,o)}function Rc(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!Zn(e)){let i=e.producers;for(;i!==void 0;)i=Rc(i)}return n}function Zn(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function qi(t){g_?.(t)}function y_(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ki(t,e){return Object.is(t,e)}function Yi(t,e){let n=Object.create(v_);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Wi(n),Kn(n),n.value===Br)throw n.error;return n.value};return r[pe]=n,qi(n),r}var $i=Symbol("UNSET"),Hi=Symbol("COMPUTING"),Br=Symbol("ERRORED"),v_=be(de({},qn),{value:$i,dirty:!0,error:null,equal:Ki,kind:"computed",producerMustRecompute(t){return t.value===$i||t.value===Hi},producerRecomputeValue(t){if(t.value===Hi)throw new Error("");let e=t.value;t.value=Hi;let n=Yn(t),r,o=!1;try{r=t.computation(),A(null),o=e!==$i&&e!==Br&&r!==Br&&t.equal(e,r)}catch(i){r=Br,t.error=i}finally{Ur(t,n)}if(o){t.value=e;return}t.value=r,t.version++}});function E_(){throw new Error}var wh=E_;function Dh(t){wh(t)}function kc(t){wh=t}var __=null;function Pc(t,e){let n=Object.create(Zi);n.value=t,e!==void 0&&(n.equal=e);let r=()=>bh(n);return r[pe]=n,qi(n),[r,s=>Jn(n,s),s=>Lc(n,s)]}function bh(t){return Kn(t),t.value}function Jn(t,e){Oc()||Dh(t),t.equal(t.value,e)||(t.value=e,w_(t))}function Lc(t,e){Oc()||Dh(t),Jn(t,e(t.value))}var Zi=be(de({},qn),{equal:Ki,value:void 0,kind:"signal"});function w_(t){t.version++,yh(),Mc(t),__?.(t)}function Ih(t){let e=A(null);try{return t()}finally{A(e)}}var es="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",T=class extends Error{code;constructor(e,n){super(qr(e,n)),this.code=e}};function D_(t){return`NG0${Math.abs(t)}`}function qr(t,e){return`${D_(t)}${e?": "+e:""}`}var rt=globalThis;function j(t){for(let e in t)if(t[e]===j)return e;throw Error("")}function Sh(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(mt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function ts(t,e){return t?e?`${t} ${e}`:t:e||""}var b_=j({__forward_ref__:j});function ns(t){return t.__forward_ref__=ns,t.toString=function(){return mt(this())},t}function ue(t){return Kc(t)?t():t}function Kc(t){return typeof t=="function"&&t.hasOwnProperty(b_)&&t.__forward_ref__===ns}function F(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yr(t){return T_(t,rs)}function I_(t){return Yr(t)!==null}function T_(t,e){return t.hasOwnProperty(e)&&t[e]||null}function C_(t){let e=t?.[rs]??null;return e||null}function jc(t){return t&&t.hasOwnProperty(Qi)?t[Qi]:null}var rs=j({\u0275prov:j}),Qi=j({\u0275inj:j}),O=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=F({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Yc(t){return t&&!!t.\u0275providers}var Zc=j({\u0275cmp:j}),Jc=j({\u0275dir:j}),Qc=j({\u0275pipe:j}),Xc=j({\u0275mod:j}),zr=j({\u0275fac:j}),un=j({__NG_ELEMENT_ID__:j}),Th=j({__NG_ENV_ID__:j});function He(t){return typeof t=="string"?t:t==null?"":String(t)}function Ah(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():He(t)}var Nh=j({ngErrorCode:j}),S_=j({ngErrorMessage:j}),A_=j({ngTokenPath:j});function eu(t,e){return xh("",-200,e)}function os(t,e){throw new T(-201,!1)}function xh(t,e,n){let r=new T(e,t);return r[Nh]=e,r[S_]=t,n&&(r[A_]=n),r}function N_(t){return t[Nh]}var Vc;function Mh(){return Vc}function Ee(t){let e=Vc;return Vc=t,e}function tu(t,e,n){let r=Yr(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;os(t,"Injector")}var x_={},nn=x_,M_="__NG_DI_FLAG__",Bc=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=rn(n)||0;try{return this.injector.get(e,r&8?null:nn,r)}catch(o){if(Wn(o))return o;throw o}}};function O_(t,e=0){let n=Bi();if(n===void 0)throw new T(-203,!1);if(n===null)return tu(t,void 0,e);{let r=R_(e),o=n.retrieve(t,r);if(Wn(o)){if(r.optional)return null;throw o}return o}}function B(t,e=0){return(Mh()||O_)(ue(t),e)}function D(t,e){return B(t,rn(e))}function rn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function R_(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Uc(t){let e=[];for(let n=0;n<t.length;n++){let r=ue(t[n]);if(Array.isArray(r)){if(r.length===0)throw new T(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=k_(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(B(o,i))}else e.push(B(r))}return e}function k_(t){return t[M_]}function xt(t,e){let n=t.hasOwnProperty(zr);return n?t[zr]:null}function Oh(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function Rh(t){return t.flat(Number.POSITIVE_INFINITY)}function is(t,e){t.forEach(n=>Array.isArray(n)?is(n,e):e(n))}function nu(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zr(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function kh(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function ss(t,e,n){let r=Xn(t,e);return r>=0?t[r|1]=n:(r=~r,kh(t,r,e,n)),r}function as(t,e){let n=Xn(t,e);if(n>=0)return t[n|1]}function Xn(t,e){return P_(t,e,1)}function P_(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var Rt={},_e=[],ln=new O(""),ru=new O("",-1),ou=new O(""),Wr=class{get(e,n=nn){if(n===nn){let o=xh("",-201);throw o.name="\u0275NotFound",o}return n}};function iu(t){return t[Xc]||null}function kt(t){return t[Zc]||null}function su(t){return t[Jc]||null}function Ph(t){return t[Qc]||null}function cs(t){return{\u0275providers:t}}function Lh(...t){return{\u0275providers:au(!0,t),\u0275fromNgModule:!0}}function au(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return is(e,s=>{let a=s;Xi(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Fh(o,i),n}function Fh(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];cu(o,i=>{e(i,r)})}}function Xi(t,e,n,r){if(t=ue(t),!t)return!1;let o=null,i=jc(t),s=!i&&kt(t);if(!i&&!s){let c=t.ngModule;if(i=jc(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Xi(u,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{is(i.imports,l=>{Xi(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Fh(u,e)}if(!a){let u=xt(o)||(()=>new o);e({provide:o,useFactory:u,deps:_e},o),e({provide:ou,useValue:o,multi:!0},o),e({provide:ln,useValue:()=>B(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=t;cu(c,l=>{e(l,u)})}}else return!1;return o!==t&&t.providers!==void 0}function cu(t,e){for(let n of t)Yc(n)&&(n=n.\u0275providers),Array.isArray(n)?cu(n,e):e(n)}var L_=j({provide:String,useValue:j});function jh(t){return t!==null&&typeof t=="object"&&L_ in t}function F_(t){return!!(t&&t.useExisting)}function j_(t){return!!(t&&t.useFactory)}function on(t){return typeof t=="function"}function Vh(t){return!!t.useClass}var uu=new O(""),Ji={},Ch={},Fc;function Jr(){return Fc===void 0&&(Fc=new Wr),Fc}var Ie=class{},sn=class extends Ie{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Hc(e,s=>this.processProvider(s)),this.records.set(ru,Qn(void 0,this)),o.has("environment")&&this.records.set(Ie,Qn(void 0,this));let i=this.records.get(uu);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(ou,_e,{self:!0}))}retrieve(e,n){let r=rn(n)||0;try{return this.get(e,nn,r)}catch(o){if(Wn(o))return o;throw o}}destroy(){Gr(this),this._destroyed=!0;let e=A(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),A(e)}}onDestroy(e){return Gr(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Gr(this);let n=nt(this),r=Ee(void 0),o;try{return e()}finally{nt(n),Ee(r)}}get(e,n=nn,r){if(Gr(this),e.hasOwnProperty(Th))return e[Th](this);let o=rn(r),i,s=nt(this),a=Ee(void 0);try{if(!(o&4)){let u=this.records.get(e);if(u===void 0){let l=H_(e)&&Yr(e);l&&this.injectableDefInScope(l)?u=Qn($c(e),Ji):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,o)}let c=o&2?Jr():this.parent;return n=o&8&&n===nn?null:n,c.get(e,n)}catch(c){let u=N_(c);throw u===-200||u===-201?new T(u,null):c}finally{Ee(a),nt(s)}}resolveInjectorInitializers(){let e=A(null),n=nt(this),r=Ee(void 0),o;try{let i=this.get(ln,_e,{self:!0});for(let s of i)s()}finally{nt(n),Ee(r),A(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(mt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ue(e);let n=on(e)?e:ue(e&&e.provide),r=B_(e);if(!on(e)&&e.multi===!0){let o=this.records.get(n);o||(o=Qn(void 0,Ji,!0),o.factory=()=>Uc(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let o=A(null);try{if(n.value===Ch)throw eu(mt(e));return n.value===Ji&&(n.value=Ch,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&$_(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{A(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ue(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function $c(t){let e=Yr(t),n=e!==null?e.factory:xt(t);if(n!==null)return n;if(t instanceof O)throw new T(204,!1);if(t instanceof Function)return V_(t);throw new T(204,!1)}function V_(t){if(t.length>0)throw new T(204,!1);let n=C_(t);return n!==null?()=>n.factory(t):()=>new t}function B_(t){if(jh(t))return Qn(void 0,t.useValue);{let e=lu(t);return Qn(e,Ji)}}function lu(t,e,n){let r;if(on(t)){let o=ue(t);return xt(o)||$c(o)}else if(jh(t))r=()=>ue(t.useValue);else if(j_(t))r=()=>t.useFactory(...Uc(t.deps||[]));else if(F_(t))r=(o,i)=>B(ue(t.useExisting),i!==void 0&&i&8?8:void 0);else{let o=ue(t&&(t.useClass||t.provide));if(U_(t))r=()=>new o(...Uc(t.deps));else return xt(o)||$c(o)}return r}function Gr(t){if(t.destroyed)throw new T(205,!1)}function Qn(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function U_(t){return!!t.deps}function $_(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function H_(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Hc(t,e){for(let n of t)Array.isArray(n)?Hc(n,e):n&&Yc(n)?Hc(n.\u0275providers,e):e(n)}function er(t,e){let n;t instanceof sn?(Gr(t),n=t):n=new Bc(t);let r,o=nt(n),i=Ee(void 0);try{return e()}finally{nt(o),Ee(i)}}function Bh(){return Mh()!==void 0||Bi()!=null}var Ge=0,b=1,N=2,oe=3,Re=4,ke=5,tr=6,nr=7,X=8,Pt=9,ot=10,G=11,rr=12,du=13,dn=14,xe=15,Lt=16,fn=17,it=18,Qr=19,fu=20,gt=21,us=22,Xr=23,Me=24,ls=25,hn=26,J=27,Uh=1,hu=6,Ft=7,eo=8,pn=9,ne=10;function st(t){return Array.isArray(t)&&typeof t[Uh]=="object"}function ze(t){return Array.isArray(t)&&t[Uh]===!0}function pu(t){return(t.flags&4)!==0}function jt(t){return t.componentOffset>-1}function to(t){return(t.flags&1)===1}function at(t){return!!t.template}function or(t){return(t[N]&512)!==0}function gn(t){return(t[N]&256)===256}var gu="svg",$h="math";function Pe(t){for(;Array.isArray(t);)t=t[Ge];return t}function mu(t,e){return Pe(e[t])}function We(t,e){return Pe(e[t.index])}function no(t,e){return t.data[e]}function ds(t,e){return t[e]}function yu(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Le(t,e){let n=e[t];return st(n)?n:n[Ge]}function Hh(t){return(t[N]&4)===4}function fs(t){return(t[N]&128)===128}function Gh(t){return ze(t[oe])}function Fe(t,e){return e==null?null:t[e]}function vu(t){t[fn]=0}function Eu(t){t[N]&1024||(t[N]|=1024,fs(t)&&oo(t))}function zh(t,e){for(;t>0;)e=e[dn],t--;return e}function ro(t){return!!(t[N]&9216||t[Me]?.dirty)}function hs(t){t[ot].changeDetectionScheduler?.notify(8),t[N]&64&&(t[N]|=1024),ro(t)&&oo(t)}function oo(t){t[ot].changeDetectionScheduler?.notify(0);let e=Mt(t);for(;e!==null&&!(e[N]&8192||(e[N]|=8192,!fs(e)));)e=Mt(e)}function _u(t,e){if(gn(t))throw new T(911,!1);t[gt]===null&&(t[gt]=[]),t[gt].push(e)}function Wh(t,e){if(t[gt]===null)return;let n=t[gt].indexOf(e);n!==-1&&t[gt].splice(n,1)}function Mt(t){let e=t[oe];return ze(e)?e[oe]:e}function wu(t){return t[nr]??=[]}function Du(t){return t.cleanup??=[]}function qh(t,e,n,r){let o=wu(e);o.push(n),t.firstCreatePass&&Du(t).push(r,o.length-1)}var M={lFrame:cp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Gc=!1;function Kh(){return M.lFrame.elementDepthCount}function Yh(){M.lFrame.elementDepthCount++}function bu(){M.lFrame.elementDepthCount--}function Iu(){return M.bindingsEnabled}function Zh(){return M.skipHydrationRootTNode!==null}function Tu(t){return M.skipHydrationRootTNode===t}function Cu(){M.skipHydrationRootTNode=null}function S(){return M.lFrame.lView}function Q(){return M.lFrame.tView}function Jh(t){return M.lFrame.contextLView=t,t[X]}function Qh(t){return M.lFrame.contextLView=null,t}function ae(){let t=Su();for(;t!==null&&t.type===64;)t=t.parent;return t}function Su(){return M.lFrame.currentTNode}function Xh(){let t=M.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ir(t,e){let n=M.lFrame;n.currentTNode=t,n.isParent=e}function Au(){return M.lFrame.isParent}function ep(){M.lFrame.isParent=!1}function tp(){return M.lFrame.contextLView}function Nu(){return Gc}function xu(t){let e=Gc;return Gc=t,e}function sr(){let t=M.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Mu(){return M.lFrame.bindingIndex}function np(t){return M.lFrame.bindingIndex=t}function yt(){return M.lFrame.bindingIndex++}function io(t){let e=M.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rp(){return M.lFrame.inI18n}function op(t,e){let n=M.lFrame;n.bindingIndex=n.bindingRootIndex=t,ps(e)}function ip(){return M.lFrame.currentDirectiveIndex}function ps(t){M.lFrame.currentDirectiveIndex=t}function sp(t){let e=M.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Ou(){return M.lFrame.currentQueryIndex}function gs(t){M.lFrame.currentQueryIndex=t}function G_(t){let e=t[b];return e.type===2?e.declTNode:e.type===1?t[ke]:null}function Ru(t,e,n){if(n&4){let o=e,i=t;for(;o=o.parent,o===null&&!(n&1);)if(o=G_(i),o===null||(i=i[dn],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=M.lFrame=ap();return r.currentTNode=e,r.lView=t,!0}function ms(t){let e=ap(),n=t[b];M.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ap(){let t=M.lFrame,e=t===null?null:t.child;return e===null?cp(t):e}function cp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function up(){let t=M.lFrame;return M.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ku=up;function ys(){let t=up();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lp(t){return(M.lFrame.contextLView=zh(t,M.lFrame.contextLView))[X]}function qe(){return M.lFrame.selectedIndex}function Vt(t){M.lFrame.selectedIndex=t}function so(){let t=M.lFrame;return no(t.tView,t.selectedIndex)}function dp(){M.lFrame.currentNamespace=gu}function fp(){z_()}function z_(){M.lFrame.currentNamespace=null}function hp(){return M.lFrame.currentNamespace}var pp=!0;function vs(){return pp}function Es(t){pp=t}function zc(t,e=null,n=null,r){let o=Pu(t,e,n,r);return o.resolveInjectorInitializers(),o}function Pu(t,e=null,n=null,r,o=new Set){let i=[n||_e,Lh(t)];return r=r||(typeof t=="object"?void 0:mt(t)),new sn(i,e||Jr(),r||null,o)}var an=class t{static THROW_IF_NOT_FOUND=nn;static NULL=new Wr;static create(e,n){if(Array.isArray(e))return zc({name:""},n,e,"");{let r=e.name??"";return zc({name:r},e.parent,e.providers,r)}}static \u0275prov=F({token:t,providedIn:"any",factory:()=>B(ru)});static __NG_ELEMENT_ID__=-1},mn=new O(""),ao=(()=>{class t{static __NG_ELEMENT_ID__=W_;static __NG_ENV_ID__=n=>n}return t})(),Wc=class extends ao{_lView;constructor(e){super(),this._lView=e}get destroyed(){return gn(this._lView)}onDestroy(e){let n=this._lView;return _u(n,e),()=>Wh(n,e)}};function W_(){return new Wc(S())}var cn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ct=new O("",{providedIn:"root",factory:()=>{let t=D(Ie),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(cn),e.handleError(n))}}}),gp={provide:ln,useValue:()=>void D(cn),multi:!0};function Lu(t){return typeof t=="function"&&t[pe]!==void 0}function _s(t,e){let[n,r,o]=Pc(t,e?.equal),i=n,s=i[pe];return i.set=r,i.update=o,i.asReadonly=mp.bind(i),i}function mp(){let t=this[pe];if(t.readonlyFn===void 0){let e=()=>this();e[pe]=t,t.readonlyFn=e}return t.readonlyFn}function Fu(t){return Lu(t)&&typeof t.set=="function"}var Ot=class{},ws=new O("",{providedIn:"root",factory:()=>!1});var ju=new O(""),Vu=new O(""),Bt=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Pr(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new P(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=F({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ds=(()=>{class t{internalPendingTasks=D(Bt);scheduler=D(Ot);errorHandler=D(ct);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=F({token:t,providedIn:"root",factory:()=>new t})}return t})();function co(...t){}var Bu=(()=>{class t{static \u0275prov=F({token:t,providedIn:"root",factory:()=>new qc})}return t})(),qc=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function _o(t){return{toString:t}.toString()}function ew(t){return typeof t=="function"}var Rs=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Zp(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Jp=(()=>{let t=()=>Qp;return t.ngInherit=!0,t})();function Qp(t){return t.type.prototype.ngOnChanges&&(t.setInput=nw),tw}function tw(){let t=eg(this),e=t?.current;if(e){let n=t.previous;if(n===Rt)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nw(t,e,n,r,o){let i=this.declaredInputs[r],s=eg(t)||rw(t,{previous:Rt,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new Rs(u&&u.currentValue,n,c===Rt),Zp(t,e,o,n)}var Xp="__ngSimpleChanges__";function eg(t){return t[Xp]||null}function rw(t,e){return t[Xp]=e}var yp=[];var H=function(t,e=null,n){for(let r=0;r<yp.length;r++){let o=yp[r];o(t,e,n)}};function ow(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=Qp(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function tg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function As(t,e,n){ng(t,e,3,n)}function Ns(t,e,n,r){(t[N]&3)===n&&ng(t,e,n,r)}function Uu(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function ng(t,e,n,r){let o=r!==void 0?t[fn]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[fn]+=65536),(a<i||i==-1)&&(iw(t,n,e,c),t[fn]=(t[fn]&4294901760)+c+2),c++}function vp(t,e){H(4,t,e);let n=A(null);try{e.call(t)}finally{A(n),H(5,t,e)}}function iw(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[N]>>14<t[fn]>>16&&(t[N]&3)===e&&(t[N]+=16384,vp(a,i)):vp(a,i)}var cr=-1,vn=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function sw(t){return(t.flags&8)!==0}function aw(t){return(t.flags&16)!==0}function cw(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];uw(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function rg(t){return t===3||t===4||t===6}function uw(t){return t.charCodeAt(0)===64}function ur(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Ep(t,n,o,null,e[++r]):Ep(t,n,o,null,null))}}return t}function Ep(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}function og(t){return t!==cr}function ks(t){return t&32767}function lw(t){return t>>16}function Ps(t,e){let n=lw(t),r=e;for(;n>0;)r=r[dn],n--;return r}var Qu=!0;function Ls(t){let e=Qu;return Qu=t,e}var dw=256,ig=dw-1,sg=5,fw=0,ut={};function hw(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(un)&&(r=n[un]),r==null&&(r=n[un]=fw++);let o=r&ig,i=1<<o;e.data[t+(o>>sg)]|=i}function Fs(t,e){let n=ag(t,e);if(n!==-1)return n;let r=e[b];r.firstCreatePass&&(t.injectorIndex=e.length,$u(r.data,t),$u(e,null),$u(r.blueprint,null));let o=jl(t,e),i=t.injectorIndex;if(og(o)){let s=ks(o),a=Ps(o,e),c=a[b].data;for(let u=0;u<8;u++)e[i+u]=a[s+u]|c[s+u]}return e[i+8]=o,i}function $u(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ag(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jl(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=fg(o),r===null)return cr;if(n++,o=o[dn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return cr}function Xu(t,e,n){hw(t,e,n)}function pw(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(rg(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===e)return n[o+1];o=o+2}}}return null}function cg(t,e,n){if(n&8||t!==void 0)return t;os(e,"NodeInjector")}function ug(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=t[Pt],i=Ee(void 0);try{return o?o.get(e,r,n&8):tu(e,r,n&8)}finally{Ee(i)}}return cg(r,e,n)}function lg(t,e,n,r=0,o){if(t!==null){if(e[N]&2048&&!(r&2)){let s=Ew(t,e,n,r,ut);if(s!==ut)return s}let i=dg(t,e,n,r,ut);if(i!==ut)return i}return ug(e,n,r,o)}function dg(t,e,n,r,o){let i=mw(n);if(typeof i=="function"){if(!Ru(e,t,r))return r&1?cg(o,n,r):ug(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))os(n);else return s}finally{ku()}}else if(typeof i=="number"){let s=null,a=ag(t,e),c=cr,u=r&1?e[xe][ke]:null;for((a===-1||r&4)&&(c=a===-1?jl(t,e):e[a+8],c===cr||!wp(r,!1)?a=-1:(s=e[b],a=ks(c),e=Ps(c,e)));a!==-1;){let l=e[b];if(_p(i,a,l.data)){let d=gw(a,e,n,s,r,u);if(d!==ut)return d}c=e[a+8],c!==cr&&wp(r,e[b].data[a+8]===u)&&_p(i,a,e)?(s=l,a=ks(c),e=Ps(c,e)):a=-1}}return o}function gw(t,e,n,r,o,i){let s=e[b],a=s.data[t+8],c=r==null?jt(a)&&Qu:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=xs(a,s,n,c,u);return l!==null?fo(e,s,l,a,o):ut}function xs(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,c=t.directiveStart,u=t.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&at(f)&&f.type===n)return c}return null}function fo(t,e,n,r,o){let i=t[n],s=e.data;if(i instanceof vn){let a=i;if(a.resolving){let f=Ah(s[n]);throw eu(f)}let c=Ls(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?Ee(a.injectImpl):null,h=Ru(t,r,0);try{i=t[n]=a.factory(void 0,o,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&ow(n,s[n],e)}finally{d!==null&&Ee(d),Ls(c),a.resolving=!1,ku()}}return i}function mw(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(un)?t[un]:void 0;return typeof e=="number"?e>=0?e&ig:yw:e}function _p(t,e,n){let r=1<<t;return!!(n[e+(t>>sg)]&r)}function wp(t,e){return!(t&2)&&!(t&1&&e)}var yn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return lg(this._tNode,this._lView,e,rn(r),n)}};function yw(){return new yn(ae(),S())}function vw(t){return _o(()=>{let e=t.prototype.constructor,n=e[zr]||el(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[zr]||el(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function el(t){return Kc(t)?()=>{let e=el(ue(t));return e&&e()}:xt(t)}function Ew(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[N]&2048&&!or(s);){let a=dg(i,s,n,r|2,ut);if(a!==ut)return a;let c=i.parent;if(!c){let u=s[fu];if(u){let l=u.get(n,ut,r);if(l!==ut)return l}c=fg(s),s=s[dn]}i=c}return o}function fg(t){let e=t[b],n=e.type;return n===2?e.declTNode:n===1?t[ke]:null}function Vl(t){return pw(ae(),t)}function _w(){return gr(ae(),S())}function gr(t,e){return new wn(We(t,e))}var wn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=_w}return t})();function ww(t){return t instanceof wn?t.nativeElement:t}function Dw(){return this._results[Symbol.iterator]()}var js=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new et}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Rh(e);(this._changesDetected=!Oh(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Dw};function hg(t){return(t.flags&128)===128}var Bl=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Bl||{}),pg=new Map,bw=0;function Iw(){return bw++}function Tw(t){pg.set(t[Qr],t)}function tl(t){pg.delete(t[Qr])}var Dp="__ngContext__";function lr(t,e){st(e)?(t[Dp]=e[Qr],Tw(e)):t[Dp]=e}function gg(t){return yg(t[rr])}function mg(t){return yg(t[Re])}function yg(t){for(;t!==null&&!ze(t);)t=t[Re];return t}var nl;function Cw(t){nl=t}function vg(){if(nl!==void 0)return nl;if(typeof document<"u")return document;throw new T(210,!1)}var Sw=new O("",{providedIn:"root",factory:()=>Aw}),Aw="ng",Eg=new O(""),Nw=new O("",{providedIn:"platform",factory:()=>"unknown"});var xw=new O("",{providedIn:"root",factory:()=>vg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Mw="h",Ow="b";var _g="r";var wg="di";var Dg=!1,bg=new O("",{providedIn:"root",factory:()=>Dg});var Rw=(t,e,n,r)=>{};function kw(t,e,n,r){Rw(t,e,n,r)}function Ul(t){return(t.flags&32)===32}var Pw=()=>null;function Ig(t,e,n=!1){return Pw(t,e,n)}function Tg(t,e){let n=t.contentQueries;if(n!==null){let r=A(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];gs(i),a.contentQueries(2,e[s],s)}}}finally{A(r)}}}function rl(t,e,n){gs(0);let r=A(null);try{e(t,n)}finally{A(r)}}function Cg(t,e,n){if(pu(e)){let r=A(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{A(r)}}}var dr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(dr||{}),bs;function Lw(){if(bs===void 0&&(bs=null,rt.trustedTypes))try{bs=rt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bs}function Xs(t){return Lw()?.createHTML(t)||t}var Is;function Fw(){if(Is===void 0&&(Is=null,rt.trustedTypes))try{Is=rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Is}function bp(t){return Fw()?.createScriptURL(t)||t}var Et=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${es})`}},ol=class extends Et{getTypeName(){return"HTML"}},il=class extends Et{getTypeName(){return"Style"}},sl=class extends Et{getTypeName(){return"Script"}},al=class extends Et{getTypeName(){return"URL"}},cl=class extends Et{getTypeName(){return"ResourceURL"}};function wo(t){return t instanceof Et?t.changingThisBreaksApplicationSecurity:t}function $l(t,e){let n=Sg(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${es})`)}return n===e}function Sg(t){return t instanceof Et&&t.getTypeName()||null}function jw(t){return new ol(t)}function Vw(t){return new il(t)}function Bw(t){return new sl(t)}function Uw(t){return new al(t)}function $w(t){return new cl(t)}function Hw(t){let e=new ll(t);return Gw()?new ul(e):e}var ul=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Xs(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},ll=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Xs(e),n}};function Gw(){try{return!!new window.DOMParser().parseFromString(Xs(""),"text/html")}catch{return!1}}var zw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hl(t){return t=String(t),t.match(zw)?t:"unsafe:"+t}function _t(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Do(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Ag=_t("area,br,col,hr,img,wbr"),Ng=_t("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xg=_t("rp,rt"),Ww=Do(xg,Ng),qw=Do(Ng,_t("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kw=Do(xg,_t("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ip=Do(Ag,qw,Kw,Ww),Mg=_t("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yw=_t("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zw=_t("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Jw=Do(Mg,Yw,Zw),Qw=_t("script,style,template"),dl=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,o=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){o.push(n),n=tD(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=eD(n);if(i){n=i;break}n=o.pop()}}return this.buf.join("")}startElement(e){let n=Tp(e).toLowerCase();if(!Ip.hasOwnProperty(n))return this.sanitizedSomething=!0,!Qw.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let o=0;o<r.length;o++){let i=r.item(o),s=i.name,a=s.toLowerCase();if(!Jw.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;Mg[a]&&(c=Hl(c)),this.buf.push(" ",s,'="',Cp(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=Tp(e).toLowerCase();Ip.hasOwnProperty(n)&&!Ag.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Cp(e))}};function Xw(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function eD(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Og(e);return e}function tD(t){let e=t.firstChild;if(e&&Xw(t,e))throw Og(e);return e}function Tp(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Og(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var nD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rD=/([^\#-~ |!])/g;function Cp(t){return t.replace(/&/g,"&amp;").replace(nD,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(rD,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ts;function oD(t,e){let n=null;try{Ts=Ts||Hw(t);let r=e?String(e):"";n=Ts.getInertBodyElement(r);let o=5,i=r;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=Ts.getInertBodyElement(r)}while(r!==i);let a=new dl().sanitizeChildren(Sp(n)||n);return Xs(a)}finally{if(n){let r=Sp(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function Sp(t){return"content"in t&&iD(t)?t.content:null}function iD(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ea=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(ea||{});function Rg(t){let e=Pg();return e?e.sanitize(ea.URL,t)||"":$l(t,"URL")?wo(t):Hl(He(t))}function kg(t){let e=Pg();if(e)return bp(e.sanitize(ea.RESOURCE_URL,t)||"");if($l(t,"ResourceURL"))return bp(wo(t));throw new T(904,!1)}function sD(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?kg:Rg}function aD(t,e,n){return sD(e,n)(t)}function Pg(){let t=S();return t&&t[ot].sanitizer}function Lg(t){return t instanceof Function?t():t}function cD(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var Fg="ng-template";function uD(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&cD(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Gl(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Gl(t){return t.type===4&&t.value!==Fg}function lD(t,e,n){let r=t.type===4&&!n?Fg:t.value;return e===r}function dD(t,e,n){let r=4,o=t.attrs,i=o!==null?pD(o):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ke(r)&&!Ke(c))return!1;if(s&&Ke(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!lD(t,c,n)||c===""&&e.length===1){if(Ke(r))return!1;s=!0}}else if(r&8){if(o===null||!uD(t,o,c,n)){if(Ke(r))return!1;s=!0}}else{let u=e[++a],l=fD(c,o,Gl(t),n);if(l===-1){if(Ke(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(Ke(r))return!1;s=!0}}}}return Ke(r)||s}function Ke(t){return(t&1)===0}function fD(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return gD(e,t)}function hD(t,e,n=!1){for(let r=0;r<e.length;r++)if(dD(t,e[r],n))return!0;return!1}function pD(t){for(let e=0;e<t.length;e++){let n=t[e];if(rg(n))return e}return t.length}function gD(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ap(t,e){return t?":not("+e.trim()+")":e}function mD(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Ke(s)&&(e+=Ap(i,o),o=""),r=s,i=i||!Ke(r);n++}return o!==""&&(e+=Ap(i,o)),e}function yD(t){return t.map(mD).join(",")}function vD(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!Ke(o))break;o=i}r++}return n.length&&e.push(1,...n),e}var ce={};function ED(t,e){return t.createText(e)}function _D(t,e,n){t.setValue(e,n)}function jg(t,e,n){return t.createElement(e,n)}function Vs(t,e,n,r,o){t.insertBefore(e,n,r,o)}function Vg(t,e,n){t.appendChild(e,n)}function Np(t,e,n,r,o){r!==null?Vs(t,e,n,r,o):Vg(t,e,n)}function Bg(t,e,n,r){t.removeChild(null,e,n,r)}function wD(t,e,n){t.setAttribute(e,"style",n)}function DD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ug(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&cw(t,e,r),o!==null&&DD(t,e,o),i!==null&&wD(t,e,i)}function zl(t,e,n,r,o,i,s,a,c,u,l){let d=J+r,h=d+o,f=bD(d,h),p=typeof u=="function"?u():u;return f[b]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function bD(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ce);return n}function ID(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=zl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Wl(t,e,n,r,o,i,s,a,c,u,l){let d=e.blueprint.slice();return d[Ge]=o,d[N]=r|4|128|8|64|1024,(u!==null||t&&t[N]&2048)&&(d[N]|=2048),vu(d),d[oe]=d[dn]=t,d[X]=n,d[ot]=s||t&&t[ot],d[G]=a||t&&t[G],d[Pt]=c||t&&t[Pt]||null,d[ke]=i,d[Qr]=Iw(),d[tr]=l,d[fu]=u,d[xe]=e.type==2?t[xe]:d,d}function TD(t,e,n){let r=We(e,t),o=ID(n),i=t[ot].rendererFactory,s=ql(t,Wl(t,o,null,$g(n),r,e,null,i.createRenderer(r,n),null,null,null));return t[e.index]=s}function $g(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Hg(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function ql(t,e){return t[rr]?t[du][Re]=e:t[rr]=e,t[du]=e,e}function CD(t=1){Gg(Q(),S(),qe()+t,!1)}function Gg(t,e,n,r){if(!r)if((e[N]&3)===3){let i=t.preOrderCheckHooks;i!==null&&As(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Ns(e,i,0,n)}Vt(n)}var ta=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(ta||{});function fl(t,e,n,r){let o=A(null);try{let[i,s,a]=t.inputs[n],c=null;(s&ta.SignalBased)!==0&&(c=e[i][pe]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,i):Zp(e,c,i,r)}finally{A(o)}}var ho=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(ho||{}),SD;function Kl(t,e){return SD(t,e)}var Bs=new Set,Yl=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Yl||{}),Zl=new O(""),xp=new Set;function mr(t){xp.has(t)||(xp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var zg=!1,hl=class extends et{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Bh()&&(this.destroyRef=D(ao,{optional:!0})??void 0,this.pendingTasks=D(Bt,{optional:!0})??void 0)}emit(e){let n=A(null);try{super.next(e)}finally{A(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof te&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},vt=hl;function Wg(t){let e,n;function r(){t=co;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Mp(t){return queueMicrotask(()=>t()),()=>{t=co}}var Jl="isAngularZone",Us=Jl+"_ID",AD=0,Te=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new vt(!1);onMicrotaskEmpty=new vt(!1);onStable=new vt(!1);onError=new vt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=zg}=e;if(typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,MD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Jl)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,ND,co,co);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ND={};function Ql(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xD(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Wg(()=>{t.callbackScheduled=!1,pl(t),t.isCheckStableRunning=!0,Ql(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),pl(t)}function MD(t){let e=()=>{xD(t)},n=AD++;t._inner=t._inner.fork({name:"angular",properties:{[Jl]:!0,[Us]:n,[Us+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(OD(c))return r.invokeTask(i,s,a,c);try{return Op(t),r.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Rp(t)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return Op(t),r.invoke(i,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!RD(c)&&e(),Rp(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,pl(t),Ql(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function pl(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Op(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Rp(t){t._nesting--,Ql(t)}var $s=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new vt;onMicrotaskEmpty=new vt;onStable=new vt;onError=new vt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function OD(t){return qg(t,"__ignore_ng_zone__")}function RD(t){return qg(t,"__scheduler_tick__")}function qg(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Kg=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=F({token:t,providedIn:"root",factory:()=>new t})}return t})();var kD=new O("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Yg(t,e){let n=t.get(kD);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function PD(t,e){for(let[n,r]of e)Yg(t,r.animateFns)}function kp(t,e,n,r){let o=t?.[hn]?.enter;e!==null&&o&&o.has(n.index)&&PD(r,o)}function ar(t,e,n,r,o,i,s,a){if(o!=null){let c,u=!1;ze(o)?c=o:st(o)&&(u=!0,o=o[Ge]);let l=Pe(o);t===0&&r!==null?(kp(a,r,i,n),s==null?Vg(e,r,l):Vs(e,r,l,s||null,!0)):t===1&&r!==null?(kp(a,r,i,n),Vs(e,r,l,s||null,!0)):t===2?Pp(a,i,n,d=>{Bg(e,l,u,d)}):t===3&&Pp(a,i,n,()=>{e.destroyNode(l)}),c!=null&&KD(e,t,n,c,i,r,s)}}function LD(t,e){Zg(t,e),e[Ge]=null,e[ke]=null}function FD(t,e,n,r,o,i){r[Ge]=o,r[ke]=e,ra(t,r,n,1,o,i)}function Zg(t,e){e[ot].changeDetectionScheduler?.notify(9),ra(t,e,e[G],2,null,null)}function jD(t){let e=t[rr];if(!e)return Hu(t[b],t);for(;e;){let n=null;if(st(e))n=e[rr];else{let r=e[ne];r&&(n=r)}if(!n){for(;e&&!e[Re]&&e!==t;)st(e)&&Hu(e[b],e),e=e[oe];e===null&&(e=t),st(e)&&Hu(e[b],e),n=e&&e[Re]}e=n}}function Xl(t,e){let n=t[pn],r=n.indexOf(e);n.splice(r,1)}function na(t,e){if(gn(e))return;let n=e[G];n.destroyNode&&ra(t,e,n,3,null,null),jD(e)}function Hu(t,e){if(gn(e))return;let n=A(null);try{e[N]&=-129,e[N]|=256,e[Me]&&Hr(e[Me]),UD(t,e),BD(t,e),e[b].type===1&&e[G].destroy();let r=e[Lt];if(r!==null&&ze(e[oe])){r!==e[oe]&&Xl(r,e);let o=e[it];o!==null&&o.detachView(t)}tl(e)}finally{A(n)}}function Pp(t,e,n,r){let o=t?.[hn];if(o==null||o.leave==null||!o.leave.has(e.index))return r(!1);if(o.skipLeaveAnimations)return o.skipLeaveAnimations=!1,r(!1);t&&Bs.add(t),Yg(n,()=>{if(o.leave&&o.leave.has(e.index)){let s=o.leave.get(e.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}o.running=Promise.allSettled(a),VD(t,r)}else t&&Bs.delete(t),r(!1)})}function VD(t,e){let n=t[hn]?.running;if(n){n.then(()=>{t[hn].running=void 0,Bs.delete(t),e(!0)});return}e(!1)}function BD(t,e){let n=t.cleanup,r=e[nr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[nr]=null);let o=e[gt];if(o!==null){e[gt]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=e[Xr];if(i!==null){e[Xr]=null;for(let s of i)s.destroy()}}function UD(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof vn)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];H(4,a,c);try{c.call(a)}finally{H(5,a,c)}}else{H(4,o,i);try{i.call(o)}finally{H(5,o,i)}}}}}function $D(t,e,n){return HD(t,e.parent,n)}function HD(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Ge];if(jt(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===dr.None||o===dr.Emulated)return null}return We(r,n)}function GD(t,e,n){return WD(t,e,n)}function zD(t,e,n){return t.type&40?We(t,n):null}var WD=zD,Lp;function ed(t,e,n,r){let o=$D(t,r,e),i=e[G],s=r.parent||e[ke],a=GD(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Np(i,o,n[c],a,!1);else Np(i,o,n,a,!1);Lp!==void 0&&Lp(i,r,e,n,o)}function uo(t,e){if(e!==null){let n=e.type;if(n&3)return We(e,t);if(n&4)return gl(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return uo(t,r);{let o=t[e.index];return ze(o)?gl(-1,o):Pe(o)}}else{if(n&128)return uo(t,e.next);if(n&32)return Kl(e,t)()||Pe(t[e.index]);{let r=Jg(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=Mt(t[xe]);return uo(o,r)}else return uo(t,e.next)}}}return null}function Jg(t,e){if(e!==null){let r=t[xe][ke],o=e.projection;return r.projection[o]}return null}function gl(t,e){let n=ne+t+1;if(n<e.length){let r=e[n],o=r[b].firstChild;if(o!==null)return uo(r,o)}return e[Ft]}function td(t,e,n,r,o,i,s){for(;n!=null;){let a=r[Pt];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&lr(Pe(c),r),n.flags|=2),!Ul(n))if(u&8)td(t,e,n.child,r,o,i,!1),ar(e,t,a,o,c,n,i,r);else if(u&32){let l=Kl(n,r),d;for(;d=l();)ar(e,t,a,o,d,n,i,r);ar(e,t,a,o,c,n,i,r)}else u&16?qD(t,e,r,n,o,i):ar(e,t,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function ra(t,e,n,r,o,i){td(n,r,t.firstChild,e,o,i,!1)}function qD(t,e,n,r,o,i){let s=n[xe],c=s[ke].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ar(e,t,n[Pt],o,l,r,i,n)}else{let u=c,l=s[oe];hg(r)&&(u.flags|=128),td(t,e,u,l,o,i,!0)}}function KD(t,e,n,r,o,i,s){let a=r[Ft],c=Pe(r);a!==c&&ar(e,t,n,i,a,o,s);for(let u=ne;u<r.length;u++){let l=r[u];ra(l[b],l,t,e,i,a)}}function YD(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:ho.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ho.Important),t.setStyle(n,r,o,i))}}function Qg(t,e,n,r,o){let i=qe(),s=r&2;try{Vt(-1),s&&e.length>J&&Gg(t,e,J,!1),H(s?2:0,o,n),n(r,o)}finally{Vt(i),H(s?3:1,o,n)}}function nd(t,e,n){tb(t,e,n),(n.flags&64)===64&&nb(t,e,n)}function oa(t,e,n=We){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function ZD(t,e,n,r){let i=r.get(bg,Dg)||n===dr.ShadowDom,s=t.selectRootElement(e,i);return JD(s),s}function JD(t){QD(t)}var QD=()=>null;function XD(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xg(t,e,n,r,o,i){let s=e[b];if(rd(t,s,e,n,r)){jt(t)&&eb(e,t.index);return}t.type&3&&(n=XD(n)),em(t,e,n,r,o,i)}function em(t,e,n,r,o,i){if(t.type&3){let s=We(t,e);r=i!=null?i(r,t.value||"",n):r,o.setProperty(s,n,r)}else t.type&12}function eb(t,e){let n=Le(e,t);n[N]&16||(n[N]|=64)}function tb(t,e,n){let r=n.directiveStart,o=n.directiveEnd;jt(n)&&TD(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Fs(n,e);let i=n.initialInputs;for(let s=r;s<o;s++){let a=t.data[s],c=fo(e,t,s,n);if(lr(c,e),i!==null&&sb(e,s-r,c,a,n,i),at(a)){let u=Le(n.index,e);u[X]=fo(e,t,s,n)}}}function nb(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=ip();try{Vt(i);for(let a=r;a<o;a++){let c=t.data[a],u=e[a];ps(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&rb(c,u)}}finally{Vt(-1),ps(s)}}function rb(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function tm(t,e){let n=t.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];hD(e,i.selectors,!1)&&(r??=[],at(i)?r.unshift(i):r.push(i))}return r}function ob(t,e,n,r,o,i){let s=We(t,e);ib(e[G],s,i,t.value,n,r,o)}function ib(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let a=s==null?He(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}function sb(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];fl(r,n,c,u)}}function nm(t,e,n,r,o){let i=J+n,s=e[b],a=o(s,e,t,r,n);e[i]=a,ir(t,!0);let c=t.type===2;return c?(Ug(e[G],a,t),(Kh()===0||to(t))&&lr(a,e),Yh()):lr(a,e),vs()&&(!c||!Ul(t))&&ed(s,e,a,t),t}function rm(t){let e=t;return Au()?ep():(e=e.parent,ir(e,!1)),e}function ab(t,e){let n=t[Pt];if(!n)return;let r;try{r=n.get(ct,null)}catch{r=null}r?.(e)}function rd(t,e,n,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=e.data[u];fl(d,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=e.data[c];fl(l,u,r,o),a=!0}return a}function cb(t,e){let n=Le(e,t),r=n[b];ub(r,n);let o=n[Ge];o!==null&&n[tr]===null&&(n[tr]=Ig(o,n[Pt])),H(18),od(r,n,n[X]),H(19,n[X])}function ub(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function od(t,e,n){ms(e);try{let r=t.viewQuery;r!==null&&rl(1,r,n);let o=t.template;o!==null&&Qg(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[it]?.finishViewCreation(t),t.staticContentQueries&&Tg(t,e),t.staticViewQueries&&rl(2,t.viewQuery,n);let i=t.components;i!==null&&lb(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,ys()}}function lb(t,e){for(let n=0;n<e.length;n++)cb(t,e[n])}function ia(t,e,n,r){let o=A(null);try{let i=e.tView,a=t[N]&4096?4096:16,c=Wl(t,i,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Lt]=u;let l=t[it];return l!==null&&(c[it]=l.createEmbeddedView(i)),od(i,c,n),c}finally{A(o)}}function po(t,e){return!e||e.firstChild===null||hg(t)}function go(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(Pe(i)),ze(i)&&om(i,r);let s=n.type;if(s&8)go(t,e,n.child,r);else if(s&32){let a=Kl(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Jg(e,n);if(Array.isArray(a))r.push(...a);else{let c=Mt(e[xe]);go(c[b],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function om(t,e){for(let n=ne;n<t.length;n++){let r=t[n],o=r[b].firstChild;o!==null&&go(r[b],r,o,e)}t[Ft]!==t[Ge]&&e.push(t[Ft])}function im(t){if(t[ls]!==null){for(let e of t[ls])e.impl.addSequence(e);t[ls].length=0}}var sm=[];function db(t){return t[Me]??fb(t)}function fb(t){let e=sm.pop()??Object.create(pb);return e.lView=t,e}function hb(t){t.lView[Me]!==t&&(t.lView=null,sm.push(t))}var pb=be(de({},qn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{oo(t.lView)},consumerOnSignalRead(){this.lView[Me]=this}});function gb(t){let e=t[Me]??Object.create(mb);return e.lView=t,e}var mb=be(de({},qn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Mt(t.lView);for(;e&&!am(e[b]);)e=Mt(e);e&&Eu(e)},consumerOnSignalRead(){this.lView[Me]=this}});function am(t){return t.type!==2}function cm(t){if(t[Xr]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Xr])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[N]&8192)}}var yb=100;function um(t,e=0){let r=t[ot].rendererFactory,o=!1;o||r.begin?.();try{vb(t,e)}finally{o||r.end?.()}}function vb(t,e){let n=Nu();try{xu(!0),ml(t,e);let r=0;for(;ro(t);){if(r===yb)throw new T(103,!1);r++,ml(t,1)}}finally{xu(n)}}function Eb(t,e,n,r){if(gn(e))return;let o=e[N],i=!1,s=!1;ms(e);let a=!0,c=null,u=null;i||(am(t)?(u=db(e),c=Yn(u)):zi()===null?(a=!1,u=gb(e),c=Yn(u)):e[Me]&&(Hr(e[Me]),e[Me]=null));try{vu(e),np(t.bindingStartIndex),n!==null&&Qg(t,e,n,2,r);let l=(o&3)===3;if(!i)if(l){let f=t.preOrderCheckHooks;f!==null&&As(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Ns(e,f,0,null),Uu(e,0)}if(s||_b(e),cm(e),lm(e,0),t.contentQueries!==null&&Tg(t,e),!i)if(l){let f=t.contentCheckHooks;f!==null&&As(e,f)}else{let f=t.contentHooks;f!==null&&Ns(e,f,1),Uu(e,1)}Db(t,e);let d=t.components;d!==null&&fm(e,d,0);let h=t.viewQuery;if(h!==null&&rl(2,h,r),!i)if(l){let f=t.viewCheckHooks;f!==null&&As(e,f)}else{let f=t.viewHooks;f!==null&&Ns(e,f,2),Uu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[us]){for(let f of e[us])f();e[us]=null}i||(im(e),e[N]&=-73)}catch(l){throw i||oo(e),l}finally{u!==null&&(Ur(u,c),a&&hb(u)),ys()}}function lm(t,e){for(let n=gg(t);n!==null;n=mg(n))for(let r=ne;r<n.length;r++){let o=n[r];dm(o,e)}}function _b(t){for(let e=gg(t);e!==null;e=mg(e)){if(!(e[N]&2))continue;let n=e[pn];for(let r=0;r<n.length;r++){let o=n[r];Eu(o)}}}function wb(t,e,n){H(18);let r=Le(e,t);dm(r,n),H(19,r[X])}function dm(t,e){fs(t)&&ml(t,e)}function ml(t,e){let r=t[b],o=t[N],i=t[Me],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&$r(i)),s||=!1,i&&(i.dirty=!1),t[N]&=-9217,s)Eb(r,t,r.template,t[X]);else if(o&8192){let a=A(null);try{cm(t),lm(t,1);let c=r.components;c!==null&&fm(t,c,1),im(t)}finally{A(a)}}}function fm(t,e,n){for(let r=0;r<e.length;r++)wb(t,e[r],n)}function Db(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Vt(~o);else{let i=o,s=n[++r],a=n[++r];op(s,i);let c=e[i];H(24,c),a(2,c),H(25,c)}}}finally{Vt(-1)}}function id(t,e){let n=Nu()?64:1088;for(t[ot].changeDetectionScheduler?.notify(e);t;){t[N]|=n;let r=Mt(t);if(or(t)&&!r)return t;t=r}return null}function hm(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function pm(t,e){let n=ne+e;if(n<t.length)return t[n]}function sa(t,e,n,r=!0){let o=e[b];if(bb(o,e,t,n),r){let s=gl(n,t),a=e[G],c=a.parentNode(t[Ft]);c!==null&&FD(o,t[ke],a,e,c,s)}let i=e[tr];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function gm(t,e){let n=mo(t,e);return n!==void 0&&na(n[b],n),n}function mo(t,e){if(t.length<=ne)return;let n=ne+e,r=t[n];if(r){let o=r[Lt];o!==null&&o!==t&&Xl(o,r),e>0&&(t[n-1][Re]=r[Re]);let i=Zr(t,ne+e);LD(r[b],r);let s=i[it];s!==null&&s.detachView(i[b]),r[oe]=null,r[Re]=null,r[N]&=-129}return r}function bb(t,e,n,r){let o=ne+r,i=n.length;r>0&&(n[o-1][Re]=e),r<i-ne?(e[Re]=n[o],nu(n,ne+r,e)):(n.push(e),e[Re]=null),e[oe]=n;let s=e[Lt];s!==null&&n!==s&&mm(s,e);let a=e[it];a!==null&&a.insertView(t),hs(e),e[N]|=128}function mm(t,e){let n=t[pn],r=e[oe];if(st(r))t[N]|=2;else{let o=r[oe][xe];e[xe]!==o&&(t[N]|=2)}n===null?t[pn]=[e]:n.push(e)}var Ut=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[b];return go(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[X]}set context(e){this._lView[X]=e}get destroyed(){return gn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[oe];if(ze(e)){let n=e[eo],r=n?n.indexOf(this):-1;r>-1&&(mo(e,r),Zr(n,r))}this._attachedToViewContainer=!1}na(this._lView[b],this._lView)}onDestroy(e){_u(this._lView,e)}markForCheck(){id(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[N]&=-129}reattach(){hs(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,um(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=or(this._lView),n=this._lView[Lt];n!==null&&!e&&Xl(n,this._lView),Zg(this._lView[b],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e;let n=or(this._lView),r=this._lView[Lt];r!==null&&!n&&mm(r,this._lView),hs(this._lView)}};var fr=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Ib;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=ia(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Ut(i)}}return t})();function Ib(){return sd(ae(),S())}function sd(t,e){return t.type&4?new fr(e,t,gr(t,e)):null}function bo(t,e,n,r,o){let i=t.data[e];if(i===null)i=Tb(t,e,n,r,o),rp()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Xh();i.injectorIndex=s===null?-1:s.injectorIndex}return ir(i,!0),i}function Tb(t,e,n,r,o){let i=Su(),s=Au(),a=s?i:i&&i.parent,c=t.data[e]=Sb(t,a,n,e,r,o);return Cb(t,c,i,s),c}function Cb(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Sb(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return Zh()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var EP=new RegExp(`^(\\d+)*(${Ow}|${Mw})*(.*)`);function Ab(t){let e=t[hu]??[],r=t[oe][G],o=[];for(let i of e)i.data[wg]!==void 0?o.push(i):Nb(i,r);t[hu]=o}function Nb(t,e){let n=0,r=t.firstChild;if(r){let o=t.data[_g];for(;n<o;){let i=r.nextSibling;Bg(e,r,!1),r=i,n++}}}var xb=()=>null,Mb=()=>null;function yl(t,e){return xb(t,e)}function ym(t,e,n){return Mb(t,e,n)}var vm=class{},aa=class{},vl=class{resolveComponentFactory(e){throw new T(917,!1)}},Io=class{static NULL=new vl},yo=class{},ad=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Ob()}return t})();function Ob(){let t=S(),e=ae(),n=Le(e.index,t);return(st(n)?n:t)[G]}var Em=(()=>{class t{static \u0275prov=F({token:t,providedIn:"root",factory:()=>null})}return t})();var Ms={},El=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let o=this.injector.get(e,Ms,r);return o!==Ms||n===Ms?o:this.parentInjector.get(e,n,r)}};function Hs(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=ts(o,a);else if(i==2){let c=a,u=e[++s];r=ts(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function Ze(t,e=0){let n=S();if(n===null)return B(t,e);let r=ae();return lg(r,n,ue(t),e)}function _m(t,e,n,r,o){let i=r===null?null:{"":-1},s=o(t,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}Pb(t,e,n,a,i,c,u)}i!==null&&r!==null&&Rb(n,r,i)}function Rb(t,e,n){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new T(-301,!1);r.push(e[o],i)}}function kb(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Pb(t,e,n,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&at(f)&&(c=!0,kb(t,n,h)),Xu(Fs(n,e),t,f.type)}Ub(n,t.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=Hg(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=ur(n.mergedAttrs,f.hostAttrs),Fb(t,n,e,d,f),Bb(d,f,o),s!==null&&s.has(f)){let[y,g]=s.get(f);n.directiveToIndex.set(f.type,[d,y+n.directiveStart,g+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}Lb(t,n,i)}function Lb(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=t.data[r];if(n===null||!n.has(o))Fp(0,e,o,r),Fp(1,e,o,r),Vp(e,r,!1);else{let i=n.get(o);jp(0,e,i,r),jp(1,e,i,r),Vp(e,r,!0)}}}function Fp(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),wm(e,i)}}function jp(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),wm(e,s)}}function wm(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Vp(t,e,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!n&&o===null||n&&i===null||Gl(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===e){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Fb(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=xt(o.type,!0)),s=new vn(i,at(o),Ze,null);t.blueprint[r]=s,n[r]=s,jb(t,e,r,Hg(t,n,o.hostVars,ce),o)}function jb(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Vb(s)!=a&&s.push(a),s.push(n,r,i)}}function Vb(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Bb(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;at(e)&&(n[""]=t)}}function Ub(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Dm(t,e,n,r,o,i,s,a){let c=e[b],u=c.consts,l=Fe(u,s),d=bo(c,t,n,r,l);return i&&_m(c,e,d,Fe(u,a),o),d.mergedAttrs=ur(d.mergedAttrs,d.attrs),d.attrs!==null&&Hs(d,d.attrs,!1),d.mergedAttrs!==null&&Hs(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function bm(t,e){tg(t,e),pu(e)&&t.queries.elementEnd(e)}function $b(t,e,n,r,o,i){let s=e.consts,a=Fe(s,o),c=bo(e,t,n,r,a);if(c.mergedAttrs=ur(c.mergedAttrs,c.attrs),i!=null){let u=Fe(s,i);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&Hs(c,c.attrs,!1),c.mergedAttrs!==null&&Hs(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ca(t,e,n){return t[e]=n}function Hb(t,e){return t[e]}function Ce(t,e,n){if(n===ce)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function cd(t,e,n,r){let o=Ce(t,e,n);return Ce(t,e+1,r)||o}function Im(t,e,n,r,o){let i=cd(t,e,n,r);return Ce(t,e+2,o)||i}function Os(t,e,n){return function r(o){let i=jt(t)?Le(t.index,e):e;id(i,5);let s=e[X],a=Bp(e,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Bp(e,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Bp(t,e,n,r){let o=A(null);try{return H(6,e,n),n(r)!==!1}catch(i){return ab(t,i),!1}finally{H(7,e,n),A(o)}}function Tm(t,e,n,r,o,i,s,a){let c=to(t),u=!1,l=null;if(!r&&c&&(l=zb(e,n,i,t.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=We(t,n),h=r?r(d):d;kw(n,h,i,a);let f=o.listen(h,i,a);if(!Gb(i)){let p=r?y=>r(Pe(y[t.index])):t.index;Cm(p,e,n,i,a,f,!1)}}return u}function Gb(t){return t.startsWith("animation")||t.startsWith("transition")}function zb(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[nr],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function Cm(t,e,n,r,o,i,s){let a=e.firstCreatePass?Du(e):null,c=wu(n),u=c.length;c.push(o,i),a&&a.push(r,t,u,(u+1)*(s?-1:1))}function Up(t,e,n,r,o,i){let s=e[n],a=e[b],u=a.data[n].outputs[r],d=s[u].subscribe(i);Cm(t.index,a,e,o,i,d,!0)}var _l=Symbol("BINDING");var Gs=class extends Io{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=kt(e);return new hr(n,this.ngModule)}};function Wb(t){return Object.keys(t).map(e=>{let[n,r,o]=t[e],i={propName:n,templateName:e,isSignal:(r&ta.SignalBased)!==0};return o&&(i.transform=o),i})}function qb(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Kb(t,e,n){let r=e instanceof Ie?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new El(n,r):n}function Yb(t){let e=t.get(yo,null);if(e===null)throw new T(407,!1);let n=t.get(Em,null),r=t.get(Ot,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Zb(t,e){let n=Sm(t);return jg(e,n,n==="svg"?gu:n==="math"?$h:null)}function Sm(t){return(t.selectors[0][0]||"div").toLowerCase()}var hr=class extends aa{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Wb(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=qb(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yD(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,o,i,s){H(22);let a=A(null);try{let c=this.componentDef,u=Jb(r,c,s,i),l=Kb(c,o||this.ngModule,e),d=Yb(l),h=d.rendererFactory.createRenderer(null,c),f=r?ZD(h,r,c.encapsulation,l):Zb(c,h),p=s?.some($p)||i?.some(m=>typeof m!="function"&&m.bindings.some($p)),y=Wl(null,u,null,512|$g(c),null,null,d,h,l,null,Ig(f,l,!0));y[J]=f,ms(y);let g=null;try{let m=Dm(J,y,2,"#host",()=>u.directiveRegistry,!0,0);Ug(h,f,m),lr(f,y),nd(u,y,m),Cg(u,m,y),bm(u,m),n!==void 0&&Xb(m,this.ngContentSelectors,n),g=Le(m.index,y),y[X]=g[X],od(u,y,null)}catch(m){throw g!==null&&tl(g),tl(y),m}finally{H(23),ys()}return new zs(this.componentType,y,!!p)}finally{A(a)}}};function Jb(t,e,n,r){let o=t?["ng-version","20.3.9"]:vD(e.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[_l].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let h of d.bindings){a+=h[_l].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[e];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,h=su(d);c.push(h)}return zl(0,null,Qb(i,s),1,a,c,null,null,null,[o],null)}function Qb(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function $p(t){let e=t[_l].kind;return e==="input"||e==="twoWay"}var zs=class extends vm{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=no(n[b],J),this.location=gr(this._tNode,n),this.instance=Le(this._tNode.index,n)[X],this.hostView=this.changeDetectorRef=new Ut(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView,i=rd(r,o[b],o,e,n);this.previousInputValues.set(e,n);let s=Le(r.index,o);id(s,1)}get injector(){return new yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Xb(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var To=(()=>{class t{static __NG_ELEMENT_ID__=eI}return t})();function eI(){let t=ae();return Nm(t,S())}var tI=To,Am=class extends tI{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return gr(this._hostTNode,this._hostLView)}get injector(){return new yn(this._hostTNode,this._hostLView)}get parentInjector(){let e=jl(this._hostTNode,this._hostLView);if(og(e)){let n=Ps(e,this._hostLView),r=ks(e),o=n[b].data[r+8];return new yn(o,n)}else return new yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Hp(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ne}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=yl(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,po(this._hostTNode,s)),a}createComponent(e,n,r,o,i,s,a){let c=e&&!ew(e),u;if(c)u=n;else{let g=n||{};u=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef,s=g.directives,a=g.bindings}let l=c?e:new hr(kt(e)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let m=(c?d:this.parentInjector).get(Ie,null);m&&(i=m)}let h=kt(l.componentType??{}),f=yl(this._lContainer,h?.id??null),p=f?.firstChild??null,y=l.create(d,o,p,i,s,a);return this.insertImpl(y.hostView,u,po(this._hostTNode,f)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(Gh(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[oe],u=new Am(c,c[ke],c[oe]);u.detach(u.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return sa(s,o,i,r),e.attachToViewContainerRef(),nu(Gu(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Hp(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=mo(this._lContainer,n);r&&(Zr(Gu(this._lContainer),n),na(r[b],r))}detach(e){let n=this._adjustIndex(e,-1),r=mo(this._lContainer,n);return r&&Zr(Gu(this._lContainer),n)!=null?new Ut(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Hp(t){return t[eo]}function Gu(t){return t[eo]||(t[eo]=[])}function Nm(t,e){let n,r=e[t.index];return ze(r)?n=r:(n=hm(r,e,null,t),e[t.index]=n,ql(e,n)),rI(n,e,t,r),new Am(n,t,e)}function nI(t,e){let n=t[G],r=n.createComment(""),o=We(e,t),i=n.parentNode(o);return Vs(n,i,r,n.nextSibling(o),!1),r}var rI=sI,oI=()=>!1;function iI(t,e,n){return oI(t,e,n)}function sI(t,e,n,r){if(t[Ft])return;let o;n.type&8?o=Pe(r):o=nI(e,n),t[Ft]=o}var wl=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Dl=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)ud(e,n).matches!==null&&this.queries[n].setDirty()}},bl=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=pI(e):this.predicate=e}},Il=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Tl=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,n,aI(n,i)),this.matchTNodeWithReadOption(e,n,xs(n,e,i,!1,!1))}else r===fr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,xs(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===wn||o===To||o===fr&&n.type&4)this.addMatch(n.index,-2);else{let i=xs(n,e,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function aI(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function cI(t,e){return t.type&11?gr(t,e):t.type&4?sd(t,e):null}function uI(t,e,n,r){return n===-1?cI(e,t):n===-2?lI(t,e,r):fo(t,t[b],n,e)}function lI(t,e,n){if(n===wn)return gr(e,t);if(n===fr)return sd(e,t);if(n===To)return Nm(e,t)}function xm(t,e,n,r){let o=e[it].queries[r];if(o.matches===null){let i=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=i[u];a.push(uI(e,l,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function Cl(t,e,n,r){let o=t.queries.getByIndex(n),i=o.matches;if(i!==null){let s=xm(t,e,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let u=i[a+1],l=e[-c];for(let d=ne;d<l.length;d++){let h=l[d];h[Lt]===h[oe]&&Cl(h[b],h,u,r)}if(l[pn]!==null){let d=l[pn];for(let h=0;h<d.length;h++){let f=d[h];Cl(f[b],f,u,r)}}}}}return r}function dI(t,e){return t[it].queries[e].queryList}function fI(t,e,n){let r=new js((n&4)===4);return qh(t,e,r,r.destroy),(e[it]??=new Dl).queries.push(new wl(r))-1}function hI(t,e,n,r){let o=Q();if(o.firstCreatePass){let i=ae();gI(o,new bl(e,n,r),i.index),mI(o,t),(n&2)===2&&(o.staticContentQueries=!0)}return fI(o,S(),n)}function pI(t){return t.split(",").map(e=>e.trim())}function gI(t,e,n){t.queries===null&&(t.queries=new Il),t.queries.track(new Tl(e,n))}function mI(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function ud(t,e){return t.queries.getByIndex(e)}function yI(t,e){let n=t[b],r=ud(n,e);return r.crossesNgTemplate?Cl(n,t,e,[]):xm(n,t,r,e)}var En=class{},Mm=class{};var Ws=class extends En{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Gs(this);constructor(e,n,r,o=!0){super(),this.ngModuleType=e,this._parent=n;let i=iu(e);this._bootstrapComponents=Lg(i.bootstrap),this._r3Injector=Pu(e,n,[{provide:En,useValue:this},{provide:Io,useValue:this.componentFactoryResolver},...r],mt(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},qs=class extends Mm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ws(this.moduleType,e,[])}};var vo=class extends En{injector;componentFactoryResolver=new Gs(this);instance=null;constructor(e){super();let n=new sn([...e.providers,{provide:En,useValue:this},{provide:Io,useValue:this.componentFactoryResolver}],e.parent||Jr(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Om(t,e,n=null){return new vo({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var vI=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=au(!1,n.type),o=r.length>0?Om([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=F({token:t,providedIn:"environment",factory:()=>new t(B(Ie))})}return t})();function EI(t){return _o(()=>{let e=Rm(t),n=be(de({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(vI).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||dr.Emulated,styles:t.styles||_e,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&mr("NgStandalone"),km(n);let r=t.dependencies;return n.directiveDefs=Gp(r,_I),n.pipeDefs=Gp(r,Ph),n.id=bI(n),n})}function _I(t){return kt(t)||su(t)}function ua(t){return _o(()=>({type:t.type,bootstrap:t.bootstrap||_e,declarations:t.declarations||_e,imports:t.imports||_e,exports:t.exports||_e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function wI(t,e){if(t==null)return Rt;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=ta.None,c=null),n[i]=[r,a,c],e[i]=s}return n}function DI(t){if(t==null)return Rt;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ld(t){return _o(()=>{let e=Rm(t);return km(e),e})}function dd(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Rm(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Rt,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||_e,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:wI(t.inputs,e),outputs:DI(t.outputs),debugInfo:null}}function km(t){t.features?.forEach(e=>e(t))}function Gp(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let o of n){let i=e(o);i!==null&&r.push(i)}return r}:null}function bI(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function II(t){return Object.getPrototypeOf(t.prototype).constructor}function Pm(t){let e=II(t.type),n=!0,r=[t];for(;e;){let o;if(at(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let s=t;s.inputs=zu(t.inputs),s.declaredInputs=zu(t.declaredInputs),s.outputs=zu(t.outputs);let a=o.hostBindings;a&&NI(t,a);let c=o.viewQuery,u=o.contentQueries;if(c&&SI(t,c),u&&AI(t,u),TI(t,o),Sh(t.outputs,o.outputs),at(o)&&o.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(t),a===Pm&&(n=!1)}}e=Object.getPrototypeOf(e)}CI(r)}function TI(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function CI(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=ur(o.hostAttrs,n=ur(n,o.hostAttrs))}}function zu(t){return t===Rt?{}:t===_e?[]:t}function SI(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function AI(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function NI(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function Lm(t,e,n,r,o,i,s,a){if(n.firstCreatePass){t.mergedAttrs=ur(t.mergedAttrs,t.attrs);let l=t.tView=zl(2,t,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),ir(t,!1);let c=MI(n,e,t,r);vs()&&ed(n,e,c,t),lr(c,e);let u=hm(c,e,c,t);e[r+J]=u,ql(e,u),iI(u,t,e)}function xI(t,e,n,r,o,i,s,a,c,u,l){let d=n+J,h;return e.firstCreatePass?(h=bo(e,d,4,s||null,a||null),Iu()&&_m(e,t,h,Fe(e.consts,u),tm),tg(e,h)):h=e.data[d],Lm(h,t,e,n,r,o,i,c),to(h)&&nd(e,t,h),u!=null&&oa(t,h,l),h}function Ks(t,e,n,r,o,i,s,a,c,u,l){let d=n+J,h;if(e.firstCreatePass){if(h=bo(e,d,4,s||null,a||null),u!=null){let f=Fe(e.consts,u);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=e.data[d];return Lm(h,t,e,n,r,o,i,c),u!=null&&oa(t,h,l),h}function Fm(t,e,n,r,o,i,s,a){let c=S(),u=Q(),l=Fe(u.consts,i);return xI(c,u,t,e,n,r,o,l,void 0,s,a),Fm}var MI=OI;function OI(t,e,n,r){return Es(!0),e[G].createComment("")}var RI=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var jm=new O("");function la(t){return!!t&&typeof t.then=="function"}function fd(t){return!!t&&typeof t.subscribe=="function"}var Vm=new O("");var hd=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=D(Vm,{optional:!0})??[];injector=D(an);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=er(this.injector,o);if(la(i))n.push(i);else if(fd(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bm=new O("");function Um(){kc(()=>{let t="";throw new T(600,t)})}function $m(t){return t.isBoundToModule}var kI=10;var Co=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(ct);afterRenderManager=D(Kg);zonelessEnabled=D(ws);rootEffectScheduler=D(Bu);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new et;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=D(Bt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ve(n=>!n))}constructor(){D(Zl,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=D(Ie);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=an.NULL){return this._injector.get(Te).run(()=>{H(10);let s=n instanceof aa;if(!this._injector.get(hd).done){let p="";throw new T(405,p)}let c;s?c=n:c=this._injector.get(Io).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=$m(c)?void 0:this._injector.get(En),l=r||c.selector,d=c.create(o,[],l,u),h=d.location.nativeElement,f=d.injector.get(jm,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),lo(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),H(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){H(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Yl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new T(101,!1);let n=A(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,A(n),this.afterTick.next(),H(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(yo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<kI;)H(14),this.synchronizeOnce(),H(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!ro(o))continue;let i=r&&!this.zonelessEnabled?0:1;um(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ro(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;lo(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Bm,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>lo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lo(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Hm(t,e,n,r){let o=S(),i=yt();if(Ce(o,i,e)){let s=Q(),a=so();ob(a,o,t,e,n,r)}return Hm}var CP=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Sl=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),o=Math.max(e,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(e,n){this.attach(n,this.detach(e,!0))}};function Wu(t,e,n,r,o){return t===n&&Object.is(e,r)?1:Object.is(o(t,e),o(n,r))?-1:0}function PI(t,e,n){let r,o,i=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;i<=s&&i<=c;){let u=t.at(i),l=e[i],d=Wu(i,u,i,l,n);if(d!==0){d<0&&t.updateValue(i,l),i++;continue}let h=t.at(s),f=e[c],p=Wu(s,h,c,f,n);if(p!==0){p<0&&t.updateValue(s,f),s--,c--;continue}let y=n(i,u),g=n(s,h),m=n(i,l);if(Object.is(m,g)){let I=n(c,f);Object.is(I,y)?(t.swap(i,s),t.updateValue(s,f),c--,s--):t.move(s,i),t.updateValue(i,l),i++;continue}if(r??=new Ys,o??=Wp(t,i,s,n),Al(t,r,i,m))t.updateValue(i,l),i++,s++;else if(o.has(m))r.set(y,t.detach(i)),s--;else{let I=t.create(i,e[i]);t.attach(i,I),i++,s++}}for(;i<=c;)zp(t,r,n,i,e[i]),i++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&i<=s;){let l=t.at(i),d=u.value,h=Wu(i,l,i,d,n);if(h!==0)h<0&&t.updateValue(i,d),i++,u=c.next();else{r??=new Ys,o??=Wp(t,i,s,n);let f=n(i,d);if(Al(t,r,i,f))t.updateValue(i,d),i++,s++,u=c.next();else if(!o.has(f))t.attach(i,t.create(i,d)),i++,s++,u=c.next();else{let p=n(i,l);r.set(p,t.detach(i)),s--}}}for(;!u.done;)zp(t,r,n,t.length,u.value),u=c.next()}for(;i<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function Al(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function zp(t,e,n,r,o){if(Al(t,e,r,n(r,o)))t.updateValue(r,o);else{let i=t.create(r,o);t.attach(r,i)}}function Wp(t,e,n,r){let o=new Set;for(let i=e;i<=n;i++)o.add(r(i,t.at(i)));return o}var Ys=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),e(r,n)}}};function LI(t,e,n,r,o,i,s,a){mr("NgControlFlow");let c=S(),u=Q(),l=Fe(u.consts,i);return Ks(c,u,t,e,n,r,o,l,256,s,a),pd}function pd(t,e,n,r,o,i,s,a){mr("NgControlFlow");let c=S(),u=Q(),l=Fe(u.consts,i);return Ks(c,u,t,e,n,r,o,l,512,s,a),pd}function FI(t,e){mr("NgControlFlow");let n=S(),r=yt(),o=n[r]!==ce?n[r]:-1,i=o!==-1?Zs(n,J+o):void 0,s=0;if(Ce(n,r,t)){let a=A(null);try{if(i!==void 0&&gm(i,s),t!==-1){let c=J+t,u=Zs(n,c),l=Ol(n[b],c),d=ym(u,l,n),h=ia(n,l,e,{dehydratedView:d});sa(u,h,s,po(l,d))}}finally{A(a)}}else if(i!==void 0){let a=pm(i,s);a!==void 0&&(a[X]=e)}}var Nl=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ne}};function jI(t){return t}function VI(t,e){return e}var xl=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function BI(t,e,n,r,o,i,s,a,c,u,l,d,h){mr("NgControlFlow");let f=S(),p=Q(),y=c!==void 0,g=S(),m=a?s.bind(g[xe][X]):s,I=new xl(y,m);g[J+t]=I,Ks(f,p,t+1,e,n,r,o,Fe(p.consts,i),256),y&&Ks(f,p,t+2,c,u,l,d,Fe(p.consts,h),512)}var Ml=class extends Sl{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-ne}at(e){return this.getLView(e)[X].$implicit}attach(e,n){let r=n[tr];this.needsIndexUpdate||=e!==this.length,sa(this.lContainer,n,e,po(this.templateTNode,r))}detach(e,n){return this.needsIndexUpdate||=e!==this.length-1,n&&$I(this.lContainer,e),HI(this.lContainer,e)}create(e,n){let r=yl(this.lContainer,this.templateTNode.tView.ssrId),o=ia(this.hostLView,this.templateTNode,new Nl(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(e){na(e[b],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[X].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[X].$index=e}getLView(e){return GI(this.lContainer,e)}};function UI(t){let e=A(null),n=qe();try{let r=S(),o=r[b],i=r[n],s=n+1,a=Zs(r,s);if(i.liveCollection===void 0){let u=Ol(o,s);i.liveCollection=new Ml(a,r,u)}else i.liveCollection.reset();let c=i.liveCollection;if(PI(c,t,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let u=yt(),l=c.length===0;if(Ce(r,u,l)){let d=n+2,h=Zs(r,d);if(l){let f=Ol(o,d),p=ym(h,f,r),y=ia(r,f,void 0,{dehydratedView:p});sa(h,y,0,po(f,p))}else o.firstUpdatePass&&Ab(h),gm(h,0)}}}finally{A(e)}}function Zs(t,e){return t[e]}function $I(t,e){if(t.length<=ne)return;let n=ne+e,r=t[n];r&&r[hn]&&(r[hn].skipLeaveAnimations=!0)}function HI(t,e){return mo(t,e)}function GI(t,e){return pm(t,e)}function Ol(t,e){return no(t,e)}function Gm(t,e,n){let r=S(),o=yt();if(Ce(r,o,e)){let i=Q(),s=so();Xg(s,r,t,e,r[G],n)}return Gm}function Rl(t,e,n,r,o){rd(e,t,n,o?"class":"style",r)}function gd(t,e,n,r){let o=S(),i=o[b],s=t+J,a=i.firstCreatePass?Dm(s,o,2,e,tm,Iu(),n,r):i.data[s];if(nm(a,o,t,e,qm),to(a)){let c=o[b];nd(c,o,a),Cg(c,a,o)}return r!=null&&oa(o,a),gd}function md(){let t=Q(),e=ae(),n=rm(e);return t.firstCreatePass&&bm(t,n),Tu(n)&&Cu(),bu(),n.classesWithoutHost!=null&&sw(n)&&Rl(t,n,S(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&aw(n)&&Rl(t,n,S(),n.stylesWithoutHost,!1),md}function zm(t,e,n,r){return gd(t,e,n,r),md(),zm}function yd(t,e,n,r){let o=S(),i=o[b],s=t+J,a=i.firstCreatePass?$b(s,i,2,e,n,r):i.data[s];return nm(a,o,t,e,qm),r!=null&&oa(o,a),yd}function vd(){let t=ae(),e=rm(t);return Tu(e)&&Cu(),bu(),vd}function Wm(t,e,n,r){return yd(t,e,n,r),vd(),Wm}var qm=(t,e,n,r,o)=>(Es(!0),jg(e[G],r,hp()));function zI(){return S()}function Km(t,e,n){let r=S(),o=yt();if(Ce(r,o,e)){let i=Q(),s=so();em(s,r,t,e,r[G],n)}return Km}var Cs=void 0;function WI(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var qI=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cs,"{1} 'at' {0}",Cs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",WI],qu={};function Oe(t){let e=KI(t),n=qp(e);if(n)return n;let r=e.split("-")[0];if(n=qp(r),n)return n;if(r==="en")return qI;throw new T(701,!1)}function qp(t){return t in qu||(qu[t]=rt.ng&&rt.ng.common&&rt.ng.common.locales&&rt.ng.common.locales[t]),qu[t]}var ee=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(ee||{});function KI(t){return t.toLowerCase().replace(/_/g,"-")}var So="en-US";var YI=So;function Ym(t){typeof t=="string"&&(YI=t.toLowerCase().replace(/_/g,"-"))}function Zm(t,e,n){let r=S(),o=Q(),i=ae();return Qm(o,r,r[G],i,t,e,n),Zm}function Jm(t,e,n){let r=S(),o=Q(),i=ae();return(i.type&3||n)&&Tm(i,o,r,n,r[G],t,e,Os(i,r,e)),Jm}function Qm(t,e,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Os(r,e,i),Tm(r,t,e,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let d=0;d<l.length;d+=2){let h=l[d],f=l[d+1];c??=Os(r,e,i),Up(r,e,h,f,o,c)}if(u&&u.length)for(let d of u)c??=Os(r,e,i),Up(r,e,d,o,o,c)}}function ZI(t=1){return lp(t)}function JI(t,e,n,r){hI(t,e,n,r)}function QI(t){let e=S(),n=Q(),r=Ou();gs(r+1);let o=ud(n,r);if(t.dirty&&Hh(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=yI(e,r);t.reset(i,ww),t.notifyOnChanges()}return!0}return!1}function XI(){return dI(S(),Ou())}function eT(t){let e=tp();return ds(e,J+t)}function Ss(t,e){return t<<17|e<<2}function _n(t){return t>>17&32767}function tT(t){return(t&2)==2}function nT(t,e){return t&131071|e<<17}function kl(t){return t|2}function pr(t){return(t&131068)>>2}function Ku(t,e){return t&-131069|e<<2}function rT(t){return(t&1)===1}function Pl(t){return t|1}function oT(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=_n(s),c=pr(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Xn(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=_n(t[a+1]);t[r+1]=Ss(h,a),h!==0&&(t[h+1]=Ku(t[h+1],r)),t[a+1]=nT(t[a+1],r)}else t[r+1]=Ss(a,0),a!==0&&(t[a+1]=Ku(t[a+1],r)),a=r;else t[r+1]=Ss(c,0),a===0?a=r:t[c+1]=Ku(t[c+1],r),c=r;u&&(t[r+1]=kl(t[r+1])),Kp(t,l,r,!0),Kp(t,l,r,!1),iT(e,l,t,r,i),s=Ss(a,c),i?e.classBindings=s:e.styleBindings=s}function iT(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Xn(i,e)>=0&&(n[r+1]=Pl(n[r+1]))}function Kp(t,e,n,r){let o=t[n+1],i=e===null,s=r?_n(o):pr(o),a=!1;for(;s!==0&&(a===!1||i);){let c=t[s],u=t[s+1];sT(c,e)&&(a=!0,t[s+1]=r?Pl(u):kl(u)),s=r?_n(u):pr(u)}a&&(t[n+1]=r?kl(o):Pl(o))}function sT(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Xn(t,e)>=0:!1}var Ye={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aT(t){return t.substring(Ye.key,Ye.keyEnd)}function cT(t){return uT(t),Xm(t,ey(t,0,Ye.textEnd))}function Xm(t,e){let n=Ye.textEnd;return n===e?-1:(e=Ye.keyEnd=lT(t,Ye.key=e,n),ey(t,e,n))}function uT(t){Ye.key=0,Ye.keyEnd=0,Ye.value=0,Ye.valueEnd=0,Ye.textEnd=t.length}function ey(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function lT(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ty(t,e,n){return ry(t,e,n,!1),ty}function ny(t,e){return ry(t,e,null,!0),ny}function dT(t){hT(ET,fT,t,!0)}function fT(t,e){for(let n=cT(e);n>=0;n=Xm(e,n))ss(t,aT(e),!0)}function ry(t,e,n,r){let o=S(),i=Q(),s=io(2);if(i.firstUpdatePass&&iy(i,t,s,r),e!==ce&&Ce(o,s,e)){let a=i.data[qe()];sy(i,a,o,o[G],t,o[s+1]=wT(e,n),r,s)}}function hT(t,e,n,r){let o=Q(),i=io(2);o.firstUpdatePass&&iy(o,null,i,r);let s=S();if(n!==ce&&Ce(s,i,n)){let a=o.data[qe()];if(ay(a,r)&&!oy(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=ts(c,n||"")),Rl(o,a,s,n,r)}else _T(o,a,s,s[G],s[i+1],s[i+1]=vT(t,e,n),r,i)}}function oy(t,e){return e>=t.expandoStartIndex}function iy(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[qe()],s=oy(t,n);ay(i,r)&&e===null&&!s&&(e=!1),e=pT(o,i,e,r),oT(o,i,e,n,s,r)}}function pT(t,e,n,r){let o=sp(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=Yu(null,t,e,n,r),n=Eo(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=Yu(o,t,e,n,r),i===null){let c=gT(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Yu(null,t,e,c[1],r),c=Eo(c,e.attrs,r),mT(t,e,r,c))}else i=yT(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function gT(t,e,n){let r=n?e.classBindings:e.styleBindings;if(pr(r)!==0)return t[_n(r)]}function mT(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[_n(o)]=r}function yT(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=Eo(r,s,n)}return Eo(r,e.attrs,n)}function Yu(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=Eo(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Eo(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ss(t,s,n?!0:e[++i]))}return t===void 0?null:t}function vT(t,e,n){if(n==null||n==="")return _e;let r=[],o=wo(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)t(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&t(r,i,o[i]);else typeof o=="string"&&e(r,o);return r}function ET(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&ss(t,r,n)}function _T(t,e,n,r,o,i,s,a){o===ce&&(o=_e);let c=0,u=0,l=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;l!==null||d!==null;){let h=c<o.length?o[c+1]:void 0,f=u<i.length?i[u+1]:void 0,p=null,y;l===d?(c+=2,u+=2,h!==f&&(p=d,y=f)):d===null||l!==null&&l<d?(c+=2,p=l):(u+=2,p=d,y=f),p!==null&&sy(t,e,n,r,p,y,s,a),l=c<o.length?o[c]:null,d=u<i.length?i[u]:null}}function sy(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=rT(u)?Yp(c,e,n,o,pr(u),s):void 0;if(!Js(l)){Js(i)||tT(u)&&(i=Yp(c,null,n,o,a,s));let d=mu(qe(),n);YD(r,s,d,o,i)}}function Yp(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let c=t[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===ce&&(h=d?_e:void 0);let f=d?as(h,r):l===r?h:void 0;if(u&&!Js(f)&&(f=as(c,r)),Js(f)&&(a=f,s))return a;let p=t[o+1];o=s?_n(p):pr(p)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=as(c,r))}return a}function Js(t){return t!==void 0}function wT(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=mt(wo(t)))),t}function ay(t,e){return(t.flags&(e?8:16))!==0}function DT(t,e=""){let n=S(),r=Q(),o=t+J,i=r.firstCreatePass?bo(r,o,1,e,null):r.data[o],s=bT(r,n,i,e,t);n[o]=s,vs()&&ed(r,n,s,i),ir(i,!1)}var bT=(t,e,n,r,o)=>(Es(!0),ED(e[G],r));function IT(t,e,n,r=""){return Ce(t,yt(),n)?e+He(n)+r:ce}function TT(t,e,n,r,o,i=""){let s=Mu(),a=cd(t,s,n,o);return io(2),a?e+He(n)+r+He(o)+i:ce}function CT(t,e,n,r,o,i,s,a=""){let c=Mu(),u=Im(t,c,n,o,s);return io(3),u?e+He(n)+r+He(o)+i+He(s)+a:ce}function cy(t){return Ed("",t),cy}function Ed(t,e,n){let r=S(),o=IT(r,t,e,n);return o!==ce&&_d(r,qe(),o),Ed}function uy(t,e,n,r,o){let i=S(),s=TT(i,t,e,n,r,o);return s!==ce&&_d(i,qe(),s),uy}function ly(t,e,n,r,o,i,s){let a=S(),c=CT(a,t,e,n,r,o,i,s);return c!==ce&&_d(a,qe(),c),ly}function _d(t,e,n){let r=mu(e,t);_D(t[G],r,n)}function dy(t,e,n){Fu(e)&&(e=e());let r=S(),o=yt();if(Ce(r,o,e)){let i=Q(),s=so();Xg(s,r,t,e,r[G],n)}return dy}function ST(t,e){let n=Fu(t);return n&&t.set(e),n}function fy(t,e){let n=S(),r=Q(),o=ae();return Qm(r,n,n[G],o,t,e),fy}function AT(t){return Ce(S(),yt(),t)?He(t):ce}function NT(t,e,n){let r=Q();if(r.firstCreatePass){let o=at(t);Ll(n,r.data,r.blueprint,o,!0),Ll(e,r.data,r.blueprint,o,!1)}}function Ll(t,e,n,r,o){if(t=ue(t),Array.isArray(t))for(let i=0;i<t.length;i++)Ll(t[i],e,n,r,o);else{let i=Q(),s=S(),a=ae(),c=on(t)?t:ue(t.provide),u=lu(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(on(t)||!t.multi){let f=new vn(u,o,Ze,null),p=Ju(c,e,o?l:l+h,d);p===-1?(Xu(Fs(a,s),i,c),Zu(i,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Ju(c,e,l+h,d),p=Ju(c,e,l,l+h),y=f>=0&&n[f],g=p>=0&&n[p];if(o&&!g||!o&&!y){Xu(Fs(a,s),i,c);let m=OT(o?MT:xT,n.length,o,r,u,t);!o&&g&&(n[p].providerFactory=m),Zu(i,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(m),s.push(m)}else{let m=hy(n[o?p:f],u,!o&&r);Zu(i,t,f>-1?f:p,m)}!o&&r&&g&&n[p].componentProviders++}}}function Zu(t,e,n,r){let o=on(e),i=Vh(e);if(o||i){let c=(i?ue(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function hy(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ju(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function xT(t,e,n,r,o){return Fl(this.multi,[])}function MT(t,e,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=fo(r,r[b],this.providerFactory.index,o);s=c.slice(0,a),Fl(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Fl(i,s);return s}function Fl(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function OT(t,e,n,r,o,i){let s=new vn(t,n,Ze,null);return s.multi=[],s.index=e,s.componentProviders=0,hy(s,o,r&&!n),s}function RT(t,e=[]){return n=>{n.providersResolver=(r,o)=>NT(r,o?o(t):t,e)}}function kT(t,e,n){let r=sr()+t,o=S();return o[r]===ce?ca(o,r,n?e.call(n):e()):Hb(o,r)}function PT(t,e,n,r){return py(S(),sr(),t,e,n,r)}function LT(t,e,n,r,o,i){return jT(S(),sr(),t,e,n,r,o,i)}function wd(t,e){let n=t[e];return n===ce?void 0:n}function py(t,e,n,r,o,i){let s=e+n;return Ce(t,s,o)?ca(t,s+1,i?r.call(i,o):r(o)):wd(t,s+1)}function FT(t,e,n,r,o,i,s){let a=e+n;return cd(t,a,o,i)?ca(t,a+2,s?r.call(s,o,i):r(o,i)):wd(t,a+2)}function jT(t,e,n,r,o,i,s,a){let c=e+n;return Im(t,c,o,i,s)?ca(t,c+3,a?r.call(a,o,i,s):r(o,i,s)):wd(t,c+3)}function VT(t,e){let n=Q(),r,o=t+J;n.firstCreatePass?(r=BT(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=xt(r.type,!0)),s,a=Ee(Ze);try{let c=Ls(!1),u=i();return Ls(c),yu(n,S(),o,u),u}finally{Ee(a)}}function BT(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function UT(t,e,n){let r=t+J,o=S(),i=ds(o,r);return gy(o,r)?py(o,sr(),e,i.transform,n,i):i.transform(n)}function $T(t,e,n,r){let o=t+J,i=S(),s=ds(i,o);return gy(i,o)?FT(i,sr(),e,s.transform,n,r,s):s.transform(n,r)}function gy(t,e){return t[b].data[e].pure}var Qs=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},HT=(()=>{class t{compileModuleSync(n){return new qs(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=iu(n),i=Lg(o.declarations).reduce((s,a)=>{let c=kt(a);return c&&s.push(new hr(c)),s},[]);return new Qs(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var GT=(()=>{class t{zone=D(Te);changeDetectionScheduler=D(Ot);applicationRef=D(Co);applicationErrorHandler=D(ct);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function my({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Te(be(de({},yy()),{scheduleInRootZone:n})),[{provide:Te,useFactory:t},{provide:ln,multi:!0,useFactory:()=>{let r=D(GT,{optional:!0});return()=>r.initialize()}},{provide:ln,multi:!0,useFactory:()=>{let r=D(zT);return()=>{r.initialize()}}},e===!0?{provide:ju,useValue:!0}:[],{provide:Vu,useValue:n??zg},{provide:ct,useFactory:()=>{let r=D(Te),o=D(Ie),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(cn),i.handleError(s))})}}}]}function yy(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var zT=(()=>{class t{subscription=new te;initialized=!1;zone=D(Te);pendingTasks=D(Bt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vy=(()=>{class t{applicationErrorHandler=D(ct);appRef=D(Co);taskService=D(Bt);ngZone=D(Te);zonelessEnabled=D(ws);tracing=D(Zl,{optional:!0});disableScheduling=D(ju,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new te;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Us):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(Vu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $s||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Mp:Wg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Us+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Mp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function WT(){return typeof $localize<"u"&&$localize.locale||So}var Ao=new O("",{providedIn:"root",factory:()=>D(Ao,{optional:!0,skipSelf:!0})||WT()});function _y(t){return Ih(t)}function Dd(t,e){return Yi(t,e?.equal)}var Ey=class{[pe];constructor(e){this[pe]=e}destroy(){this[pe].destroy()}};var by=Symbol("InputSignalNode#UNSET"),XT=be(de({},Zi),{transformFn:void 0,applyValueToInputSignal(t,e){Jn(t,e)}});function Iy(t,e){let n=Object.create(XT);n.value=t,n.transformFn=e?.transform;function r(){if(Kn(n),n.value===by){let o=null;throw new T(-950,o)}return n.value}return r[pe]=n,r}var wy=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Vl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},eC=new O("");eC.__NG_ELEMENT_ID__=t=>{let e=ae();if(e===null)throw new T(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new T(204,!1)};function Dy(t,e){return Iy(t,e)}function tC(t){return Iy(by,t)}var zB=(Dy.required=tC,Dy);var bd=new O(""),nC=new O("");function No(t){return!t.moduleRef}function rC(t){let e=No(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Te);return n.run(()=>{No(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(ct),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),No(t)){let i=()=>e.destroy(),s=t.platformInjector.get(bd);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(bd);s.add(i),t.moduleRef.onDestroy(()=>{lo(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return iC(r,n,()=>{let i=e.get(Bt),s=i.add(),a=e.get(hd);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Ao,So);if(Ym(c||So),!e.get(nC,!0))return No(t)?e.get(Co):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(No(t)){let l=e.get(Co);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return oC?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var oC;function iC(t,e,n){try{let r=n();return la(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var da=null;function sC(t=[],e){return an.create({name:e,providers:[{provide:uu,useValue:"platform"},{provide:bd,useValue:new Set([()=>da=null])},...t]})}function aC(t=[]){if(da)return da;let e=sC(t);return da=e,Um(),cC(e),e}function cC(t){let e=t.get(Eg,null);er(t,()=>{e?.forEach(n=>n())})}var uC=(()=>{class t{static __NG_ELEMENT_ID__=lC}return t})();function lC(t){return dC(ae(),S(),(t&16)===16)}function dC(t,e,n){if(jt(t)&&!n){let r=Le(t.index,e);return new Ut(r,r)}else if(t.type&175){let r=e[xe];return new Ut(r,e)}return null}function WB(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:o}=t;H(8);try{let i=o?.injector??aC(r),s=[my({}),{provide:Ot,useExisting:vy},gp,...n||[]],a=new vo({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return rC({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{H(9)}}function qB(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Sy=null;function fa(){return Sy}function fC(t){Sy??=t}var Id=class{},xo=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>D(Ay),providedIn:"platform"})}return t})();var Ay=(()=>{class t extends xo{_location;_history;_doc=D(mn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fa().getBaseHref(this._doc)}onPopState(n){let r=fa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=fa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function ha(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Ty(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Je(t){return t&&t[0]!=="?"?`?${t}`:t}var vr=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>D(Ny),providedIn:"root"})}return t})(),pa=new O(""),Ny=(()=>{class t extends vr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ha(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Je(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Je(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Je(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(B(xo),B(pa,8))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xy=(()=>{class t{_subject=new et;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=gC(Ty(Cy(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Je(r))}normalize(n){return t.stripTrailingSlash(pC(this._basePath,Cy(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Je(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Je(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Je;static joinWithSlash=ha;static stripTrailingSlash=Ty;static \u0275fac=function(r){return new(r||t)(B(vr))};static \u0275prov=F({token:t,factory:()=>hC(),providedIn:"root"})}return t})();function hC(){return new xy(B(vr))}function pC(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Cy(t){return t.replace(/\/index.html$/,"")}function gC(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var mC=(()=>{class t extends vr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=ha(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Je(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Je(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(B(xo),B(pa,8))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})();var ge=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(ge||{}),U=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(U||{}),Se=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Se||{}),Dt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ry(t){return Oe(t)[ee.LocaleId]}function ky(t,e,n){let r=Oe(t),o=[r[ee.DayPeriodsFormat],r[ee.DayPeriodsStandalone]],i=je(o,e);return je(i,n)}function Py(t,e,n){let r=Oe(t),o=[r[ee.DaysFormat],r[ee.DaysStandalone]],i=je(o,e);return je(i,n)}function Ly(t,e,n){let r=Oe(t),o=[r[ee.MonthsFormat],r[ee.MonthsStandalone]],i=je(o,e);return je(i,n)}function Fy(t,e){let r=Oe(t)[ee.Eras];return je(r,e)}function Mo(t,e){let n=Oe(t);return je(n[ee.DateFormat],e)}function Oo(t,e){let n=Oe(t);return je(n[ee.TimeFormat],e)}function Ro(t,e){let r=Oe(t)[ee.DateTimeFormat];return je(r,e)}function ko(t,e){let n=Oe(t),r=n[ee.NumberSymbols][e];if(typeof r>"u"){if(e===Dt.CurrencyDecimal)return n[ee.NumberSymbols][Dt.Decimal];if(e===Dt.CurrencyGroup)return n[ee.NumberSymbols][Dt.Group]}return r}function jy(t){if(!t[ee.ExtraData])throw new T(2303,!1)}function Vy(t){let e=Oe(t);return jy(e),(e[ee.ExtraData][2]||[]).map(r=>typeof r=="string"?Td(r):[Td(r[0]),Td(r[1])])}function By(t,e,n){let r=Oe(t);jy(r);let o=[r[ee.ExtraData][0],r[ee.ExtraData][1]],i=je(o,e)||[];return je(i,n)||[]}function je(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new T(2304,!1)}function Td(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var yC=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ga={},vC=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Uy(t,e,n,r){let o=SC(t);e=wt(n,e)||e;let s=[],a;for(;e;)if(a=vC.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=o.getTimezoneOffset();r&&(c=Hy(r,c),o=CC(o,r));let u="";return s.forEach(l=>{let d=IC(l);u+=d?d(o,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function _a(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function wt(t,e){let n=Ry(t);if(ga[n]??={},ga[n][e])return ga[n][e];let r="";switch(e){case"shortDate":r=Mo(t,Se.Short);break;case"mediumDate":r=Mo(t,Se.Medium);break;case"longDate":r=Mo(t,Se.Long);break;case"fullDate":r=Mo(t,Se.Full);break;case"shortTime":r=Oo(t,Se.Short);break;case"mediumTime":r=Oo(t,Se.Medium);break;case"longTime":r=Oo(t,Se.Long);break;case"fullTime":r=Oo(t,Se.Full);break;case"short":let o=wt(t,"shortTime"),i=wt(t,"shortDate");r=ma(Ro(t,Se.Short),[o,i]);break;case"medium":let s=wt(t,"mediumTime"),a=wt(t,"mediumDate");r=ma(Ro(t,Se.Medium),[s,a]);break;case"long":let c=wt(t,"longTime"),u=wt(t,"longDate");r=ma(Ro(t,Se.Long),[c,u]);break;case"full":let l=wt(t,"fullTime"),d=wt(t,"fullDate");r=ma(Ro(t,Se.Full),[l,d]);break}return r&&(ga[n][e]=r),r}function ma(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Qe(t,e,n="-",r,o){let i="";(t<0||o&&t<=0)&&(o?t=-t+1:(t=-t,i=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),i+s}function EC(t,e){return Qe(t,3).substring(0,e)}function re(t,e,n=0,r=!1,o=!1){return function(i,s){let a=_C(t,i);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return EC(a,e);let c=ko(s,Dt.MinusSign);return Qe(a,e,c,r,o)}}function _C(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new T(2301,!1)}}function z(t,e,n=ge.Format,r=!1){return function(o,i){return wC(o,i,t,e,n,r)}}function wC(t,e,n,r,o,i){switch(n){case 2:return Ly(e,o,r)[t.getMonth()];case 1:return Py(e,o,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(i){let u=Vy(e),l=By(e,o,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,y=s>=f.hours&&a>=f.minutes,g=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(y&&g)return!0}else if(y||g)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return ky(e,o,r)[s<12?0:1];case 3:return Fy(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new T(2302,!1)}}function ya(t){return function(e,n,r){let o=-1*r,i=ko(n,Dt.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case 0:return(o>=0?"+":"")+Qe(s,2,i)+Qe(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+Qe(s,1,i);case 2:return"GMT"+(o>=0?"+":"")+Qe(s,2,i)+":"+Qe(Math.abs(o%60),2,i);case 3:return r===0?"Z":(o>=0?"+":"")+Qe(s,2,i)+":"+Qe(Math.abs(o%60),2,i);default:throw new T(2310,!1)}}}var DC=0,Ea=4;function bC(t){let e=_a(t,DC,1).getDay();return _a(t,0,1+(e<=Ea?Ea:Ea+7)-e)}function $y(t){let e=t.getDay(),n=e===0?-3:Ea-e;return _a(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Cd(t,e=!1){return function(n,r){let o;if(e){let i=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();o=1+Math.floor((s+i)/7)}else{let i=$y(n),s=bC(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Qe(o,t,ko(r,Dt.MinusSign))}}function va(t,e=!1){return function(n,r){let i=$y(n).getFullYear();return Qe(i,t,ko(r,Dt.MinusSign),e)}}var Sd={};function IC(t){if(Sd[t])return Sd[t];let e;switch(t){case"G":case"GG":case"GGG":e=z(3,U.Abbreviated);break;case"GGGG":e=z(3,U.Wide);break;case"GGGGG":e=z(3,U.Narrow);break;case"y":e=re(0,1,0,!1,!0);break;case"yy":e=re(0,2,0,!0,!0);break;case"yyy":e=re(0,3,0,!1,!0);break;case"yyyy":e=re(0,4,0,!1,!0);break;case"Y":e=va(1);break;case"YY":e=va(2,!0);break;case"YYY":e=va(3);break;case"YYYY":e=va(4);break;case"M":case"L":e=re(1,1,1);break;case"MM":case"LL":e=re(1,2,1);break;case"MMM":e=z(2,U.Abbreviated);break;case"MMMM":e=z(2,U.Wide);break;case"MMMMM":e=z(2,U.Narrow);break;case"LLL":e=z(2,U.Abbreviated,ge.Standalone);break;case"LLLL":e=z(2,U.Wide,ge.Standalone);break;case"LLLLL":e=z(2,U.Narrow,ge.Standalone);break;case"w":e=Cd(1);break;case"ww":e=Cd(2);break;case"W":e=Cd(1,!0);break;case"d":e=re(2,1);break;case"dd":e=re(2,2);break;case"c":case"cc":e=re(7,1);break;case"ccc":e=z(1,U.Abbreviated,ge.Standalone);break;case"cccc":e=z(1,U.Wide,ge.Standalone);break;case"ccccc":e=z(1,U.Narrow,ge.Standalone);break;case"cccccc":e=z(1,U.Short,ge.Standalone);break;case"E":case"EE":case"EEE":e=z(1,U.Abbreviated);break;case"EEEE":e=z(1,U.Wide);break;case"EEEEE":e=z(1,U.Narrow);break;case"EEEEEE":e=z(1,U.Short);break;case"a":case"aa":case"aaa":e=z(0,U.Abbreviated);break;case"aaaa":e=z(0,U.Wide);break;case"aaaaa":e=z(0,U.Narrow);break;case"b":case"bb":case"bbb":e=z(0,U.Abbreviated,ge.Standalone,!0);break;case"bbbb":e=z(0,U.Wide,ge.Standalone,!0);break;case"bbbbb":e=z(0,U.Narrow,ge.Standalone,!0);break;case"B":case"BB":case"BBB":e=z(0,U.Abbreviated,ge.Format,!0);break;case"BBBB":e=z(0,U.Wide,ge.Format,!0);break;case"BBBBB":e=z(0,U.Narrow,ge.Format,!0);break;case"h":e=re(3,1,-12);break;case"hh":e=re(3,2,-12);break;case"H":e=re(3,1);break;case"HH":e=re(3,2);break;case"m":e=re(4,1);break;case"mm":e=re(4,2);break;case"s":e=re(5,1);break;case"ss":e=re(5,2);break;case"S":e=re(6,1);break;case"SS":e=re(6,2);break;case"SSS":e=re(6,3);break;case"Z":case"ZZ":case"ZZZ":e=ya(0);break;case"ZZZZZ":e=ya(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ya(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=ya(2);break;default:return null}return Sd[t]=e,e}function Hy(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function TC(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function CC(t,e,n){let o=t.getTimezoneOffset(),i=Hy(e,o);return TC(t,-1*(i-o))}function SC(t){if(My(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[o,i=1,s=1]=t.split("-").map(a=>+a);return _a(o,i-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(yC))return AC(r)}let e=new Date(t);if(!My(e))throw new T(2311,!1);return e}function AC(t){let e=new Date(0),n=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),o.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return i.call(e,s,a,c,u),e}function My(t){return t instanceof Date&&!isNaN(t.valueOf())}var Ad=/\s+/,Oy=[],NC=(()=>{class t{_ngEl;_renderer;initialClasses=Oy;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Ad):Oy}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Ad):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Ad).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||t)(Ze(wn),Ze(ad))};static \u0275dir=ld({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();function xC(t,e){return new T(2100,!1)}var MC="mediumDate",Gy=new O(""),zy=new O(""),OC=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,i){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??MC,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Uy(n,s,i||this.locale,a)}catch(s){throw xC(t,s.message)}}static \u0275fac=function(r){return new(r||t)(Ze(Ao,16),Ze(Gy,24),Ze(zy,24))};static \u0275pipe=dd({name:"date",type:t,pure:!0})}return t})();var RC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ua({type:t});static \u0275inj=Kr({})}return t})();function Nd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var Po=class{};var c$="browser";var wr=class{},Lo=class{},$t=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let o=(e.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=e.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Da=class{encodeKey(e){return Wy(e)}encodeValue(e){return Wy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function PC(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var LC=/%(\d[a-f0-9])/gi,FC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Wy(t){return encodeURIComponent(t).replace(LC,(e,n)=>FC[n]??e)}function wa(t){return`${t}`}var Xe=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Da,e.fromString){if(e.fromObject)throw new T(2805,!1);this.map=PC(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],o=Array.isArray(r)?r.map(wa):[wa(r)];this.map.set(n,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let o=e[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(wa(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],o=r.indexOf(wa(e.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ba=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function jC(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function qy(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Ky(t){return typeof Blob<"u"&&t instanceof Blob}function Yy(t){return typeof FormData<"u"&&t instanceof FormData}function VC(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Zy="Content-Type",Jy="Accept",Qy="X-Request-URL",Xy="text/plain",ev="application/json",BC=`${ev}, ${Xy}, */*`,Er=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,o){this.url=n,this.method=e.toUpperCase();let i;if(jC(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new T(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new $t,this.context??=new ba,!this.params)this.params=new Xe,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||qy(this.body)||Ky(this.body)||Yy(this.body)||VC(this.body)?this.body:this.body instanceof Xe?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Yy(this.body)?null:Ky(this.body)?this.body.type||null:qy(this.body)?null:typeof this.body=="string"?Xy:this.body instanceof Xe?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?ev:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,u=e.redirect||this.redirect,l=e.credentials||this.credentials,d=e.referrer||this.referrer,h=e.integrity||this.integrity,f=e.transferCache??this.transferCache,p=e.timeout??this.timeout,y=e.body!==void 0?e.body:this.body,g=e.withCredentials??this.withCredentials,m=e.reportProgress??this.reportProgress,I=e.headers||this.headers,w=e.params||this.params,E=e.context??this.context;return e.setHeaders!==void 0&&(I=Object.keys(e.setHeaders).reduce((L,se)=>L.set(se,e.setHeaders[se]),I)),e.setParams&&(w=Object.keys(e.setParams).reduce((L,se)=>L.set(se,e.setParams[se]),w)),new t(n,r,y,{params:w,headers:I,context:E,reportProgress:m,responseType:o,withCredentials:g,transferCache:f,keepalive:i,cache:a,priority:s,timeout:p,mode:c,redirect:u,credentials:l,referrer:d,integrity:h})}},Dn=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(Dn||{}),Dr=class{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,r="OK"){this.headers=e.headers||new $t,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Ia=class t extends Dr{constructor(e={}){super(e)}type=Dn.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fo=class t extends Dr{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Dn.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},_r=class extends Dr{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},UC=200,$C=204;function xd(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}var Ca=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof Er)i=n;else{let c;o.headers instanceof $t?c=o.headers:c=new $t(o.headers);let u;o.params&&(o.params instanceof Xe?u=o.params:u=new Xe({fromObject:o.params})),i=new Er(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let s=ki(i).pipe(Ic(c=>this.handler.handle(c)));if(n instanceof Er||o.observe==="events")return s;let a=s.pipe(tn(c=>c instanceof Fo));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(ve(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new T(2806,!1);return c.body}));case"blob":return a.pipe(ve(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new T(2807,!1);return c.body}));case"text":return a.pipe(ve(c=>{if(c.body!==null&&typeof c.body!="string")throw new T(2808,!1);return c.body}));case"json":default:return a.pipe(ve(c=>c.body))}case"response":return a;default:throw new T(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Xe().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,xd(o,r))}post(n,r,o={}){return this.request("POST",n,xd(o,r))}put(n,r,o={}){return this.request("PUT",n,xd(o,r))}static \u0275fac=function(r){return new(r||t)(B(wr))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})();var HC=new O("");function GC(t,e){return e(t)}function zC(t,e,n){return(r,o)=>er(n,()=>e(r,i=>t(i,o)))}var Od=new O(""),tv=new O(""),nv=new O("",{providedIn:"root",factory:()=>!0});var Ta=(()=>{class t extends wr{backend;injector;chain=null;pendingTasks=D(Ds);contributeToStability=D(nv);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Od),...this.injector.get(tv,[])]));this.chain=r.reduceRight((o,i)=>zC(o,i,this.injector),GC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Cc(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(B(Lo),B(Ie))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})();var WC=/^\)\]\}',?\n/,qC=RegExp(`^${Qy}:`,"m");function KC(t){return"responseURL"in t&&t.responseURL?t.responseURL:qC.test(t.getAllResponseHeaders())?t.getResponseHeader(Qy):null}var Md=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new T(-2800,!1);let r=this.xhrFactory;return ki(null).pipe(Ac(()=>new P(i=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),n.headers.has(Jy)||s.setRequestHeader(Jy,BC),!n.headers.has(Zy)){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader(Zy,g)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let g=s.statusText||"OK",m=new $t(s.getAllResponseHeaders()),I=KC(s)||n.url;return c=new Ia({headers:m,status:s.status,statusText:g,url:I}),c},l=()=>{let{headers:g,status:m,statusText:I,url:w}=u(),E=null;m!==$C&&(E=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=E?UC:0);let L=m>=200&&m<300;if(n.responseType==="json"&&typeof E=="string"){let se=E;E=E.replace(WC,"");try{E=E!==""?JSON.parse(E):null}catch(V){E=se,L&&(L=!1,E={error:V,text:E})}}L?(i.next(new Fo({body:E,headers:g,status:m,statusText:I,url:w||void 0})),i.complete()):i.error(new _r({error:E,headers:g,status:m,statusText:I,url:w||void 0}))},d=g=>{let{url:m}=u(),I=new _r({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});i.error(I)},h=d;n.timeout&&(h=g=>{let{url:m}=u(),I=new _r({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:m||void 0});i.error(I)});let f=!1,p=g=>{f||(i.next(u()),f=!0);let m={type:Dn.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),n.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),i.next(m)},y=g=>{let m={type:Dn.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),i.next(m)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),i.next({type:Dn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(B(Po))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),rv=new O(""),YC="XSRF-TOKEN",ZC=new O("",{providedIn:"root",factory:()=>YC}),JC="X-XSRF-TOKEN",QC=new O("",{providedIn:"root",factory:()=>JC}),jo=class{},XC=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(B(mn),B(ZC))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})();function eS(t,e){let n=t.url.toLowerCase();if(!D(rv)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=D(jo).getToken(),o=D(QC);return r!=null&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,r)})),e(t)}var Rd=(function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t})(Rd||{});function tS(t,e){return{\u0275kind:t,\u0275providers:e}}function nS(...t){let e=[Ca,Md,Ta,{provide:wr,useExisting:Ta},{provide:Lo,useFactory:()=>D(HC,{optional:!0})??D(Md)},{provide:Od,useValue:eS,multi:!0},{provide:rv,useValue:!0},{provide:jo,useClass:XC}];for(let n of t)e.push(...n.\u0275providers);return cs(e)}function rS(t){return tS(Rd.Interceptors,t.map(e=>({provide:Od,useValue:e,multi:!0})))}var iS={en:{APP_TITLE:"Equipment Maintenance Hub",DASHBOARD:"Dashboard",DEVICES:"Devices",SPARE_PARTS:"Spare Parts",MAINTENANCE:"Maintenance",LOGOUT:"Logout",LOADING_DATA:"Loading data...",PLEASE_WAIT:"Please wait a moment.",LOGIN_TITLE:"Equipment Maintenance Hub",LOGIN_SUBTITLE:"Enter your credentials to sign in",SIGN_IN_ADMIN:"Sign in as Admin",SIGN_IN_TECHNICIAN:"Sign in as Technician",SIGN_IN:"Sign In",EMAIL:"Email",PASSWORD:"Password",LOADING:"Loading...",OPERATIONAL:"Operational",MAINTENANCE_STATUS:"Maintenance",OFFLINE:"Offline",LOW_STOCK_PARTS:"Low Stock Parts",TOTAL_DOWNTIME:"Total Downtime",RECENT_MAINTENANCE_ACTIVITY:"Recent Maintenance Activity",DEVICE:"Device",TECHNICIAN:"Technician",DATE:"Date",TYPE:"Type",SCHEDULED:"Scheduled",EMERGENCY:"Emergency",ADD_NEW_DEVICE:"Add New Device",EXPORT_DEVICES:"Export Devices",SEARCH_DEVICES:"Search devices...",DEVICE_NAME:"Name",LOCATION:"Location",STATUS:"Status",NEXT_MAINTENANCE:"Next Maintenance",DETAILS:"Details",DOWNTIME:"Downtime (h)",NO_DEVICES_FOUND:"No devices found for your search.",LOADING_DEVICES:"Loading devices...",BACK_TO_DEVICES:"Back to Devices",DEVICE_DETAILS:"Device Details",DEVICE_ID:"Device ID",LAST_MAINTENANCE:"Last Maintenance",LOG_MAINTENANCE:"Log Maintenance",MAINTENANCE_NOTES_PLACEHOLDER:"Enter maintenance notes...",COMPLETE_LOG_MAINTENANCE:"Complete & Log Maintenance",DEVICE_IN_MAINTENANCE:"This device is currently undergoing maintenance.",DEVICE_QR_CODE:"Device QR Code",SCAN_QR_CODE_INFO:"Scan to quickly identify this device.",ACTIONS:"Actions",VIEW_MANUAL:"View Manual (PDF)",DECOMMISSION_DEVICE:"Decommission Device",LOADING_DEVICE_DETAILS:"Loading device details...",SET_STATUS_MAINTENANCE:"Set to Maintenance",SET_STATUS_OFFLINE:"Set to Offline",SET_STATUS_OPERATIONAL:"Bring Online",SPARE_PARTS_INVENTORY:"Spare Parts Inventory",ADD_NEW_PART:"Add New Part",SEARCH_PARTS:"Search parts by name, SKU, or location...",PART_NAME:"Name",SKU:"SKU",QUANTITY:"Quantity",LOADING_PARTS:"Loading parts...",NO_PARTS_FOUND:"No parts found for your search.",MAINTENANCE_LOG:"Maintenance Log",ALL:"All",NOTES:"Notes",LOADING_LOGS:"Loading maintenance logs...",NO_LOGS_FOUND_FILTER:"No logs found for this filter.",STATUS_OPERATIONAL:"Operational",STATUS_MAINTENANCE:"Maintenance",STATUS_OFFLINE:"Offline",DOWNTIME_TRACKING:"Downtime Tracking",MONTH:"Month",TOTAL_DOWNTIME_HOURS:"Total Downtime",AVERAGE_PERCENTAGE:"Average %",DEVICES_IN_TARGET:"Devices in Target",DEVICES_OVER_TARGET:"Devices over Target",DEVICE_DOWNTIME_DETAILS:"Device Downtime Details",DEVICE_TYPE:"Type",MAINTENANCE_COUNT:"Maintenance Count",TARGET:"Target",PROGRESS:"Progress",IN_TARGET:"In target",OVER_TARGET:"Over target",DOWNTIME_INFO_TITLE:"\u2139\uFE0F Calculation Information",DOWNTIME_INFO_TEXT:"Working time: 160 hours/month per device (20 working days \xD7 8 hours). Target downtime: 2.5% = 4 hours/month. Minimum maintenance duration: 15 minutes.",MONTHLY_DOWNTIME:"Monthly Downtime",ACTIVE_DEVICES:"active devices",ELECTRICAL_INSPECTION:"Electrical Inspection",INSPECTION_DATE:"Inspection Date",VALIDITY:"Validity",EXPIRATION:"Expiration",YEAR:"year",YEARS:"years",SAVE_INSPECTION:"Save Inspection",INSPECTION_UPDATED:"Electrical inspection successfully updated",INSPECTION_DATE_REQUIRED:"Please enter inspection date.",INSPECTION_PERIOD_INVALID:"Please select a valid period.",MAINTENANCE_PERIOD:"Maintenance Period",SELECT_PERIOD:"-- Select Period --",MONTHLY:"Monthly (1 month)",QUARTERLY:"Quarterly (3 months)",SEMI_ANNUALLY:"Semi-annually (6 months)",ANNUALLY:"Annually (12 months)",AUTO_CALCULATES_NEXT:"Automatically calculates next maintenance date",CALCULATED_AUTOMATICALLY:"Calculated automatically if you select a period",SPECIFICATIONS:"Specifications",ADD_FIELD:"Add Field",SPECIFICATIONS_HELP:"Add technical specifications such as dimensions, weight, power, connections, etc.",SPEC_KEY_PLACEHOLDER:"e.g., Dimensions, Weight, Power",SPEC_VALUE_PLACEHOLDER:"e.g., 100x50x30 cm, 250 kg, 5 kW",NO_SPECIFICATIONS:"No specifications added yet"},sk:{APP_TITLE:"Centrum \xDAdr\u017Eby Zariaden\xED",DASHBOARD:"N\xE1stenka",DEVICES:"Zariadenia",SPARE_PARTS:"N\xE1hradn\xE9 diely",MAINTENANCE:"\xDAdr\u017Eba",LOGOUT:"Odhl\xE1si\u0165 sa",LOADING_DATA:"Na\u010D\xEDtavam d\xE1ta...",PLEASE_WAIT:"Pros\xEDm \u010Dakajte chv\xED\u013Eu.",LOGIN_TITLE:"Centrum \xDAdr\u017Eby Zariaden\xED",LOGIN_SUBTITLE:"Zadajte prihlasovacie \xFAdaje",SIGN_IN_ADMIN:"Prihl\xE1si\u0165 sa ako Admin",SIGN_IN_TECHNICIAN:"Prihl\xE1si\u0165 sa ako Technik",SIGN_IN:"Prihl\xE1si\u0165 sa",EMAIL:"Email",PASSWORD:"Heslo",LOADING:"Na\u010D\xEDtavam...",OPERATIONAL:"V prev\xE1dzke",MAINTENANCE_STATUS:"V \xFAdr\u017Ebe",OFFLINE:"Mimo prev\xE1dzky",LOW_STOCK_PARTS:"N\xEDzke z\xE1soby dielov",TOTAL_DOWNTIME:"Celkov\xFD prestoj",RECENT_MAINTENANCE_ACTIVITY:"Ned\xE1vna aktivita \xFAdr\u017Eby",DEVICE:"Zariadenie",TECHNICIAN:"Technik",DATE:"D\xE1tum",TYPE:"Typ",SCHEDULED:"Pl\xE1novan\xE1",EMERGENCY:"Neodkladn\xE1",ADD_NEW_DEVICE:"Prida\u0165 nov\xE9 zariadenie",EXPORT_DEVICES:"Exportova\u0165 zariadenia",SEARCH_DEVICES:"H\u013Eada\u0165 zariadenia...",DEVICE_NAME:"N\xE1zov",LOCATION:"Umiestnenie",STATUS:"Stav",NEXT_MAINTENANCE:"Nasleduj\xFAca \xFAdr\u017Eba",DETAILS:"Detaily",DOWNTIME:"Prestoj (h)",NO_DEVICES_FOUND:"Pre va\u0161e vyh\u013Ead\xE1vanie sa nena\u0161li \u017Eiadne zariadenia.",LOADING_DEVICES:"Na\u010D\xEDtavam zariadenia...",BACK_TO_DEVICES:"Sp\xE4\u0165 na zariadenia",DEVICE_DETAILS:"Detaily zariadenia",DEVICE_ID:"ID zariadenia",LAST_MAINTENANCE:"Posledn\xE1 \xFAdr\u017Eba",LOG_MAINTENANCE:"Zaznamena\u0165 \xFAdr\u017Ebu",MAINTENANCE_NOTES_PLACEHOLDER:"Zadajte pozn\xE1mky k \xFAdr\u017Ebe...",COMPLETE_LOG_MAINTENANCE:"Dokon\u010Di\u0165 a zaznamena\u0165 \xFAdr\u017Ebu",DEVICE_IN_MAINTENANCE:"Toto zariadenie je moment\xE1lne v \xFAdr\u017Ebe.",DEVICE_QR_CODE:"QR k\xF3d zariadenia",SCAN_QR_CODE_INFO:"Naskenujte pre r\xFDchlu identifik\xE1ciu zariadenia.",ACTIONS:"Akcie",VIEW_MANUAL:"Zobrazi\u0165 manu\xE1l (PDF)",DECOMMISSION_DEVICE:"Vyradi\u0165 zariadenie",LOADING_DEVICE_DETAILS:"Na\u010D\xEDtavam detaily zariadenia...",SET_STATUS_MAINTENANCE:"Nastavi\u0165 na \xDAdr\u017Ebu",SET_STATUS_OFFLINE:"Nastavi\u0165 Mimo prev\xE1dzky",SET_STATUS_OPERATIONAL:"Spusti\u0165 do prev\xE1dzky",SPARE_PARTS_INVENTORY:"Sklad n\xE1hradn\xFDch dielov",ADD_NEW_PART:"Prida\u0165 nov\xFD diel",SEARCH_PARTS:"H\u013Eada\u0165 diely pod\u013Ea n\xE1zvu, SKU, alebo umiestnenia...",PART_NAME:"N\xE1zov",SKU:"SKU",QUANTITY:"Mno\u017Estvo",LOADING_PARTS:"Na\u010D\xEDtavam diely...",NO_PARTS_FOUND:"Pre va\u0161e vyh\u013Ead\xE1vanie sa nena\u0161li \u017Eiadne diely.",MAINTENANCE_LOG:"Z\xE1znamy o \xFAdr\u017Ebe",ALL:"V\u0161etky",NOTES:"Pozn\xE1mky",LOADING_LOGS:"Na\u010D\xEDtavam z\xE1znamy o \xFAdr\u017Ebe...",NO_LOGS_FOUND_FILTER:"Pre tento filter sa nena\u0161li \u017Eiadne z\xE1znamy.",STATUS_OPERATIONAL:"V prev\xE1dzke",STATUS_MAINTENANCE:"V \xFAdr\u017Ebe",STATUS_OFFLINE:"Mimo prev\xE1dzky",DOWNTIME_TRACKING:"Sledovanie Prestojov",MONTH:"Mesiac",TOTAL_DOWNTIME_HOURS:"Celkov\xFD prestoj",AVERAGE_PERCENTAGE:"Priemern\xE9 %",DEVICES_IN_TARGET:"Zariadenia v cieli",DEVICES_OVER_TARGET:"Zariadenia nad cie\u013Eom",DEVICE_DOWNTIME_DETAILS:"Detaily prestojov zariaden\xED",DEVICE_TYPE:"Typ",MAINTENANCE_COUNT:"Po\u010Det \xFAdr\u017Eieb",TARGET:"Cie\u013E",PROGRESS:"Priebeh",IN_TARGET:"V cieli",OVER_TARGET:"Nad cie\u013Eom",DOWNTIME_INFO_TITLE:"\u2139\uFE0F Inform\xE1cie o v\xFDpo\u010Dte",DOWNTIME_INFO_TEXT:"Pracovn\xFD \u010Das: 160 hod\xEDn/mesiac na zariadenie (20 pracovn\xFDch dn\xED \xD7 8 hod\xEDn). Cie\u013Eov\xFD prestoj: 2.5% = 4 hodiny/mesiac. Minim\xE1lne trvanie \xFAdr\u017Eby: 15 min\xFAt.",MONTHLY_DOWNTIME:"Mesa\u010Dn\xFD prestoj",ACTIVE_DEVICES:"akt\xEDvne zariadenia",ELECTRICAL_INSPECTION:"Elektrick\xE1 rev\xEDzia",INSPECTION_DATE:"D\xE1tum rev\xEDzie",VALIDITY:"Platnos\u0165",EXPIRATION:"Expir\xE1cia",YEAR:"rok",YEARS:"roky",SAVE_INSPECTION:"Ulo\u017Ei\u0165 rev\xEDziu",INSPECTION_UPDATED:"Elektrick\xE1 rev\xEDzia bola \xFAspe\u0161ne aktualizovan\xE1",INSPECTION_DATE_REQUIRED:"Pros\xEDm zadajte d\xE1tum rev\xEDzie.",INSPECTION_PERIOD_INVALID:"Pros\xEDm vyberte platn\xFA peri\xF3du.",MAINTENANCE_PERIOD:"Perioda \xFAdr\u017Eby",SELECT_PERIOD:"-- Vybra\u0165 peri\xF3du --",MONTHLY:"Mesa\u010Dne (1 mesiac)",QUARTERLY:"\u0160tvr\u0165ro\u010Dne (3 mesiace)",SEMI_ANNUALLY:"Polro\u010Dne (6 mesiacov)",ANNUALLY:"Ro\u010Dne (12 mesiacov)",AUTO_CALCULATES_NEXT:"Automaticky vypo\u010D\xEDta d\xE1tum \u010Fal\u0161ej \xFAdr\u017Eby",CALCULATED_AUTOMATICALLY:"Vypo\u010D\xEDta sa automaticky ak vyberiete peri\xF3du",SPECIFICATIONS:"\u0160pecifik\xE1cie",ADD_FIELD:"Prida\u0165 pole",SPECIFICATIONS_HELP:"Pridajte technick\xE9 \u0161pecifik\xE1cie ako rozmery, v\xE1ha, pr\xEDkon, pripojenia, at\u010F.",SPEC_KEY_PLACEHOLDER:"napr. Rozmery, V\xE1ha, Pr\xEDkon",SPEC_VALUE_PLACEHOLDER:"napr. 100x50x30 cm, 250 kg, 5 kW",NO_SPECIFICATIONS:"Zatia\u013E neboli pridan\xE9 \u017Eiadne \u0161pecifik\xE1cie"},de:{APP_TITLE:"Ger\xE4tewartungs-Hub",DASHBOARD:"Dashboard",DEVICES:"Ger\xE4te",SPARE_PARTS:"Ersatzteile",MAINTENANCE:"Wartung",LOGOUT:"Abmelden",LOADING_DATA:"Daten werden geladen...",PLEASE_WAIT:"Bitte warten Sie einen Moment.",LOGIN_TITLE:"Ger\xE4tewartungs-Hub",LOGIN_SUBTITLE:"Geben Sie Ihre Anmeldedaten ein",SIGN_IN_ADMIN:"Als Admin anmelden",SIGN_IN_TECHNICIAN:"Als Techniker anmelden",SIGN_IN:"Anmelden",EMAIL:"E-Mail",PASSWORD:"Passwort",LOADING:"L\xE4dt...",OPERATIONAL:"Betriebsbereit",MAINTENANCE_STATUS:"Wartung",OFFLINE:"Offline",LOW_STOCK_PARTS:"Niedriger Lagerbestand",TOTAL_DOWNTIME:"Gesamtausfallzeit",RECENT_MAINTENANCE_ACTIVITY:"Letzte Wartungsaktivit\xE4ten",DEVICE:"Ger\xE4t",TECHNICIAN:"Techniker",DATE:"Datum",TYPE:"Typ",SCHEDULED:"Geplant",EMERGENCY:"Notfall",ADD_NEW_DEVICE:"Neues Ger\xE4t hinzuf\xFCgen",EXPORT_DEVICES:"Ger\xE4te exportieren",SEARCH_DEVICES:"Ger\xE4te suchen...",DEVICE_NAME:"Name",LOCATION:"Standort",STATUS:"Status",NEXT_MAINTENANCE:"N\xE4chste Wartung",DETAILS:"Details",DOWNTIME:"Ausfallzeit (h)",NO_DEVICES_FOUND:"F\xFCr Ihre Suche wurden keine Ger\xE4te gefunden.",LOADING_DEVICES:"Ger\xE4te werden geladen...",BACK_TO_DEVICES:"Zur\xFCck zu den Ger\xE4ten",DEVICE_DETAILS:"Ger\xE4tedetails",DEVICE_ID:"Ger\xE4te-ID",LAST_MAINTENANCE:"Letzte Wartung",LOG_MAINTENANCE:"Wartung protokollieren",MAINTENANCE_NOTES_PLACEHOLDER:"Wartungsnotizen eingeben...",COMPLETE_LOG_MAINTENANCE:"Wartung abschlie\xDFen & protokollieren",DEVICE_IN_MAINTENANCE:"Dieses Ger\xE4t wird derzeit gewartet.",DEVICE_QR_CODE:"Ger\xE4te-QR-Code",SCAN_QR_CODE_INFO:"Scannen, um dieses Ger\xE4t schnell zu identifizieren.",ACTIONS:"Aktionen",VIEW_MANUAL:"Anleitung ansehen (PDF)",DECOMMISSION_DEVICE:"Ger\xE4t au\xDFer Betrieb nehmen",LOADING_DEVICE_DETAILS:"Ger\xE4tedetails werden geladen...",SET_STATUS_MAINTENANCE:"Auf Wartung setzen",SET_STATUS_OFFLINE:"Offline setzen",SET_STATUS_OPERATIONAL:"Online schalten",SPARE_PARTS_INVENTORY:"Ersatzteilinventar",ADD_NEW_PART:"Neues Teil hinzuf\xFCgen",SEARCH_PARTS:"Teile nach Name, SKU oder Standort suchen...",PART_NAME:"Name",SKU:"SKU",QUANTITY:"Menge",LOADING_PARTS:"Teile werden geladen...",NO_PARTS_FOUND:"F\xFCr Ihre Suche wurden keine Teile gefunden.",MAINTENANCE_LOG:"Wartungsprotokoll",ALL:"Alle",NOTES:"Notizen",LOADING_LOGS:"Wartungsprotokolle werden geladen...",NO_LOGS_FOUND_FILTER:"F\xFCr diesen Filter wurden keine Protokolle gefunden.",STATUS_OPERATIONAL:"Betriebsbereit",STATUS_MAINTENANCE:"Wartung",STATUS_OFFLINE:"Offline",DOWNTIME_TRACKING:"Ausfallzeit-Verfolgung",MONTH:"Monat",TOTAL_DOWNTIME_HOURS:"Gesamtausfallzeit",AVERAGE_PERCENTAGE:"Durchschnitt %",DEVICES_IN_TARGET:"Ger\xE4te im Ziel",DEVICES_OVER_TARGET:"Ger\xE4te \xFCber Ziel",DEVICE_DOWNTIME_DETAILS:"Ger\xE4te-Ausfallzeit Details",DEVICE_TYPE:"Typ",MAINTENANCE_COUNT:"Wartungsanzahl",TARGET:"Ziel",PROGRESS:"Fortschritt",IN_TARGET:"Im Ziel",OVER_TARGET:"\xDCber Ziel",DOWNTIME_INFO_TITLE:"\u2139\uFE0F Berechnungsinformationen",DOWNTIME_INFO_TEXT:"Arbeitszeit: 160 Stunden/Monat pro Ger\xE4t (20 Arbeitstage \xD7 8 Stunden). Ziel-Ausfallzeit: 2,5% = 4 Stunden/Monat. Minimale Wartungsdauer: 15 Minuten.",MONTHLY_DOWNTIME:"Monatliche Ausfallzeit",ACTIVE_DEVICES:"aktive Ger\xE4te",ELECTRICAL_INSPECTION:"Elektrische Inspektion",INSPECTION_DATE:"Inspektionsdatum",VALIDITY:"G\xFCltigkeit",EXPIRATION:"Ablaufdatum",YEAR:"Jahr",YEARS:"Jahre",SAVE_INSPECTION:"Inspektion speichern",INSPECTION_UPDATED:"Elektrische Inspektion erfolgreich aktualisiert",INSPECTION_DATE_REQUIRED:"Bitte geben Sie das Inspektionsdatum ein.",INSPECTION_PERIOD_INVALID:"Bitte w\xE4hlen Sie einen g\xFCltigen Zeitraum.",MAINTENANCE_PERIOD:"Wartungsperiode",SELECT_PERIOD:"-- Periode w\xE4hlen --",MONTHLY:"Monatlich (1 Monat)",QUARTERLY:"Viertelj\xE4hrlich (3 Monate)",SEMI_ANNUALLY:"Halbj\xE4hrlich (6 Monate)",ANNUALLY:"J\xE4hrlich (12 Monate)",AUTO_CALCULATES_NEXT:"Berechnet automatisch das n\xE4chste Wartungsdatum",CALCULATED_AUTOMATICALLY:"Wird automatisch berechnet, wenn Sie eine Periode w\xE4hlen",SPECIFICATIONS:"Spezifikationen",ADD_FIELD:"Feld hinzuf\xFCgen",SPECIFICATIONS_HELP:"F\xFCgen Sie technische Spezifikationen wie Abmessungen, Gewicht, Leistung, Anschl\xFCsse usw. hinzu.",SPEC_KEY_PLACEHOLDER:"z.B. Abmessungen, Gewicht, Leistung",SPEC_VALUE_PLACEHOLDER:"z.B. 100x50x30 cm, 250 kg, 5 kW",NO_SPECIFICATIONS:"Noch keine Spezifikationen hinzugef\xFCgt"}},bn=class bn{constructor(){this.languageSignal=_s(this.getInitialLanguage());this.currentLanguage=this.languageSignal.asReadonly();this.currentTranslations=Dd(()=>iS[this.languageSignal()])}getTranslation(e){return this.currentTranslations()[e]||e}setLanguage(e){this.languageSignal.set(e),localStorage.setItem("language",e)}getInitialLanguage(){let e=localStorage.getItem("language");return e&&(e==="en"||e==="sk"||e==="de")?e:"en"}};bn.\u0275fac=function(n){return new(n||bn)},bn.\u0275prov=F({token:bn,factory:bn.\u0275fac,providedIn:"root"});var ov=bn;var In=class In{constructor(e){this.http=e}get(e,n){let r=new Xe;return n&&Object.keys(n).forEach(o=>{n[o]!==null&&n[o]!==void 0&&(r=r.append(o,n[o].toString()))}),this.http.get(e,{params:r})}post(e,n){return this.http.post(e,n)}put(e,n){return this.http.put(e,n)}patch(e,n){return this.http.patch(e,n)}delete(e){return this.http.delete(e)}getById(e,n){return this.get(`${e}/${n}`)}create(e,n){return this.post(e,n)}update(e,n,r){return this.put(`${e}/${n}`,r)}remove(e,n){return this.delete(`${e}/${n}`)}};In.\u0275fac=function(n){return new(n||In)(B(Ca))},In.\u0275prov=F({token:In,factory:In.\u0275fac,providedIn:"root"});var iv=In;var kd={production:!1,enableMockData:!1,enableLogging:!0,supabase:{url:"https://qqkcnogssccsekhemyua.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFxa2Nub2dzc2Njc2VraGVteXVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyNDQ0NTgsImV4cCI6MjA3NzgyMDQ1OH0.1bhhRVvaQU2C9nh0LU_y-i2GfX58VcbJCve94UvU9RY"},apiUrl:"http://localhost:3001/api",apiTimeout:3e4,jwtTokenKey:"auth_token",refreshTokenKey:"refresh_token"};W();var sv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var Vo=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},Bo=class extends Vo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Uo=class extends Vo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},$o=class extends Vo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Pd=(function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t})(Pd||{});var Ho=class{constructor(e,{headers:n={},customFetch:r,region:o=Pd.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=sv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return v(this,arguments,void 0,function*(n,r={}){var o;try{let{headers:i,method:s,body:a,signal:c}=r,u={},{region:l}=r;l||(l=this.region);let d=new URL(`${this.url}/${n}`);l&&l!=="any"&&(u["x-region"]=l,d.searchParams.set("forceFunctionRegion",l));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(u["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(u["Content-Type"]="application/json",h=JSON.stringify(a)):h=a;let f=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(m=>{throw m.name==="AbortError"?m:new Bo(m)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Uo(f);if(!f.ok)throw new $o(f);let y=((o=f.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),g;return y==="application/json"?g=yield f.json():y==="application/octet-stream"||y==="application/pdf"?g=yield f.blob():y==="text/event-stream"?g=f:y==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Bo(i)}:{data:null,error:i,response:i instanceof $o||i instanceof Uo?i.context:void 0}}})}};var Qd=AE(mv(),1),{PostgrestClient:yv,PostgrestQueryBuilder:h2,PostgrestFilterBuilder:p2,PostgrestTransformBuilder:g2,PostgrestBuilder:m2,PostgrestError:mS}=Qd.default||Qd;var Xd=class{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){let r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},ef=Xd;var vv="2.78.0";var Ev=`realtime-js/${vv}`,_v="1.0.0";var zo=1e4,wv=1e3,Dv=100,Wo=(function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t})(Wo||{}),ie=(function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t})(ie||{}),Ve=(function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t})(Ve||{}),tf=(function(t){return t.websocket="websocket",t})(tf||{}),Tn=(function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t})(Tn||{});var Aa=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+o));s=s+o;let c=r.decode(e.slice(s,s+i));s=s+i;let u=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}};var Ir=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var q=(function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t})(q||{}),rf=(t,e,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,s)=>(i[s]=yS(s,t,e,o),i),{}):{}},yS=(t,e,n,r)=>{let o=e.find(a=>a.name===t),i=o?.type,s=n[t];return i&&!r.includes(i)?bv(i,s):nf(s)},bv=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return wS(e,n)}switch(t){case q.bool:return vS(e);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return ES(e);case q.json:case q.jsonb:return _S(e);case q.timestamp:return DS(e);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return nf(e);default:return nf(e)}},nf=t=>t,vS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ES=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_S=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},wS=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i,s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>bv(e,a))}return t},DS=t=>typeof t=="string"?t.replace(" ","T"):t,Na=t=>{let e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var Tr=class{constructor(e,n,r={},o=zo){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var qo=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){let i=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(g=>g.presence_ref),f=d.map(g=>g.presence_ref),p=l.filter(g=>f.indexOf(g.presence_ref)<0),y=d.filter(g=>h.indexOf(g.presence_ref)<0);p.length>0&&(a[u]=p),y.length>0&&(c[u]=y)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(e,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),l.length>0){let d=e[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=e[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),e[a]=u,o(a,u,c),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ko=(function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t})(Ko||{}),bt=(function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t})(bt||{});var Yo=class t{constructor(e,n={config:{}},r){var o,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Tr(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new Ir(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new qo(this),this.broadcastEndpointURL=Na(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ie.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,u=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[Ko.PRESENCE]&&this.bindings[Ko.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(bt.CHANNEL_ERROR,f)),this._onClose(()=>e?.(bt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e?.(bt.SUBSCRIBED);return}else{let y=this.bindings.postgres_changes,g=(p=y?.length)!==null&&p!==void 0?p:0,m=[];for(let I=0;I<g;I++){let w=y[I],{filter:{event:E,schema:L,table:se,filter:V}}=w,K=f&&f[I];if(K&&K.event===E&&K.schema===L&&K.table===se&&K.filter===V)m.push(Object.assign(Object.assign({},w),{id:K.id}));else{this.unsubscribe(),this.state=ie.errored,e?.(bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(bt.SUBSCRIBED);return}}).receive("error",f=>{this.state=ie.errored,e?.(bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ie.joined&&e===Ko.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;let i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Tr(this,Ve.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ie.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Tr(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Dv){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=Ve;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var p,y,g;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(y=f.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,y,g,m,I,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,L=(p=f.filter)===null||p===void 0?void 0:p.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(L==="*"||L?.toLocaleLowerCase()===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{let E=(I=(m=f?.filter)===null||m===void 0?void 0:m.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return E==="*"||E===((w=n?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:y,table:g,commit_timestamp:m,type:I,errors:w}=p;h=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:m,eventType:I,new:{},old:{},errors:w}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&t.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ve.close,{},e)}_onError(e){this._on(Ve.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=rf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=rf(e.columns,e.old_record)),n}};var of=()=>{},xa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},IS=[1e3,2e3,5e3,1e4],TS=1e4,CS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Zo=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zo,this.transport=null,this.heartbeatIntervalMs=xa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=of,this.ref=0,this.reconnectTimer=null,this.logger=of,this.conn=null,this.sendBuffer=[],this.serializer=new Aa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-MCB5SN47.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${tf.websocket}`,this.httpEndpoint=Na(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ef.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_v}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){let n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wo.connecting:return Tn.Connecting;case Wo.open:return Tn.Open;case Wo.closing:return Tn.Closing;default:return Tn.Closed}}isConnected(){return this.connectionState()===Tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){let r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Yo(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){let{topic:n,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wv,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},xa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ve.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{let r=new Blob([CS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let o={access_token:n,version:Ev};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Ve.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ir(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,i,s,a,c,u,l;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:zo,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:xa.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:of,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:d=>IS[d-1]||TS,this.encode=(u=e?.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(l=e?.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};W();var Cr=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function $(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ma=class extends Cr{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Cn=class extends Cr{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};W();W();var Sr=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Iv=()=>v(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MCB5SN47.js")).Response:Response}),Oa=t=>{if(Array.isArray(t))return t.map(n=>Oa(n));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=Oa(r)}),e},Tv=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var sf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},SS=(t,e,n)=>v(void 0,void 0,void 0,function*(){let r=yield Iv();t instanceof r&&!n?.noResolveJson?t.json().then(o=>{let i=t.status||500,s=o?.statusCode||i+"";e(new Ma(sf(o),i,s))}).catch(o=>{e(new Cn(sf(o),o))}):e(new Cn(sf(t),t))}),AS=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(Tv(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function Jo(t,e,n,r,o,i){return v(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,AS(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>SS(c,a,r))})})}function Ht(t,e,n,r){return v(this,void 0,void 0,function*(){return Jo(t,"GET",e,n,r)})}function Ae(t,e,n,r,o){return v(this,void 0,void 0,function*(){return Jo(t,"POST",e,r,o,n)})}function Qo(t,e,n,r,o){return v(this,void 0,void 0,function*(){return Jo(t,"PUT",e,r,o,n)})}function Cv(t,e,n,r){return v(this,void 0,void 0,function*(){return Jo(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ar(t,e,n,r,o){return v(this,void 0,void 0,function*(){return Jo(t,"DELETE",e,r,o,n)})}W();W();var Ra=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return v(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($(e))return{data:null,error:e};throw e}})}};var Sv,af=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Sv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ra(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return v(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($(e))return{data:null,error:e};throw e}})}};Sv=Symbol.toStringTag;var Av=af;var NS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},ka=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Sr(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return v(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},Nv),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let u=this._removeEmptyFolders(n),l=this._getFinalPath(u),d=yield(e=="PUT"?Qo:Ae)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($(i))return{data:null,error:i};throw i}})}upload(e,n,r){return v(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return v(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,u=Object.assign({upsert:Nv.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield Qo(this.fetch,a.toString(),c,{headers:l});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return v(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield Ae(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Cr("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($(r))return{data:null,error:r};throw r}})}update(e,n,r){return v(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return v(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($(o))return{data:null,error:o};throw o}})}copy(e,n,r){return v(this,void 0,void 0,function*(){try{return{data:{path:(yield Ae(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return v(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield Ae(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return v(this,void 0,void 0,function*(){try{let o=yield Ae(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($(o))return{data:null,error:o};throw o}})}download(e,n){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(e),c=()=>Ht(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new Av(c,this.shouldThrowOnError)}info(e){return v(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{let r=yield Ht(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Oa(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($(r))return{data:null,error:r};throw r}})}exists(e){return v(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{return yield Cv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($(r)&&r instanceof Cn){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){let r=this._getFinalPath(e),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}list(e,n,r){return v(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},NS),n),{prefix:e||""});return{data:yield Ae(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($(o))return{data:null,error:o};throw o}})}listV2(e,n){return v(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield Ae(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};W();var Pa="2.78.0";var La={"X-Client-Info":`storage-js/${Pa}`};var Fa=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},La),n),this.fetch=Sr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return v(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(e);return{data:yield Ht(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}getBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}createBucket(e){return v(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ae(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return v(this,void 0,void 0,function*(){try{return{data:yield Qo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($(r))return{data:null,error:r};throw r}})}emptyBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}deleteBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){let n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}};W();var ja=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},La),n),this.fetch=Sr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}listBuckets(e){return v(this,void 0,void 0,function*(){try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Ht(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}deleteBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}};W();W();var Nr={"X-Client-Info":`storage-js/${Pa}`,"Content-Type":"application/json"};var Va=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function me(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var xr=class extends Va{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ba=class extends Va{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}};W();var Mr=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var xv=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Mv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xS=(t,e,n)=>v(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){let o=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";e(new xr(Mv(s),o,a))}).catch(()=>{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new xr(a,o,s))});else{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new xr(a,o,s))}}else e(new Ba(Mv(t),t))}),MS=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(xv(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n))};function OS(t,e,n,r,o,i){return v(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,MS(e,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>xS(c,a,r))})})}function ye(t,e,n,r,o){return v(this,void 0,void 0,function*(){return OS(t,"POST",e,r,o,n)})}var Ua=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nr),n),this.fetch=Mr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return v(this,void 0,void 0,function*(){try{return{data:(yield ye(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}getIndex(e,n){return v(this,void 0,void 0,function*(){try{return{data:yield ye(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}listIndexes(e){return v(this,void 0,void 0,function*(){try{return{data:yield ye(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return v(this,void 0,void 0,function*(){try{return{data:(yield ye(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}};W();var $a=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nr),n),this.fetch=Mr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return v(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ye(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}getVectors(e){return v(this,void 0,void 0,function*(){try{return{data:yield ye(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}listVectors(e){return v(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ye(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}queryVectors(e){return v(this,void 0,void 0,function*(){try{return{data:yield ye(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}deleteVectors(e){return v(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ye(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}};W();var Ha=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nr),n),this.fetch=Mr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return v(this,void 0,void 0,function*(){try{return{data:(yield ye(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}getBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield ye(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}listBuckets(){return v(this,arguments,void 0,function*(e={}){try{return{data:yield ye(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}deleteBucket(e){return v(this,void 0,void 0,function*(){try{return{data:(yield ye(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}};var Xo=class extends Ha{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Ga(this.url,this.headers,e,this.fetch)}},Ga=class extends Ua{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return v(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return v(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return v(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return v(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new za(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},za=class extends $a{constructor(e,n,r,o,i){super(e,n,i),this.vectorBucketName=r,this.indexName=o}putVectors(e){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return v(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return v(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return v(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return v(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return v(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var ei=class extends Fa{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new ka(this.url,this.headers,e,this.fetch)}get vectors(){return new Xo(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ja(this.url+"/iceberg",this.headers,this.fetch)}};var Ov="2.78.0";var ti="";typeof Deno<"u"?ti="deno":typeof document<"u"?ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ti="react-native":ti="node";var RS={"X-Client-Info":`supabase-js-${ti}/${Ov}`},Rv={headers:RS},kv={schema:"public"},Pv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lv={};Df();var kS=t=>{let e;return t?e=t:typeof fetch>"u"?e=_f:e=fetch,(...n)=>e(...n)},PS=()=>typeof Headers>"u"?wf:Headers,Fv=(t,e,n)=>{let r=kS(n),o=PS();return async(i,s)=>{var a;let c=(a=await e())!==null&&a!==void 0?a:t,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:u}))}};function LS(t){return t.endsWith("/")?t:t+"/"}function jv(t,e){var n,r;let{db:o,auth:i,realtime:s,global:a}=t,{db:c,auth:u,realtime:l,global:d}=e,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},l),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Vv(t){let e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(LS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}W();W();var Wa="2.78.0";var Sn=30*1e3,qa=3,Ka=qa*Sn,Bv="http://localhost:9999",Uv="supabase.auth.token";var $v={"X-Client-Info":`gotrue-js/${Wa}`};var ni="X-Supabase-Api-Version",cf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gv=600*1e3;var Gt=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function _(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Ya=class extends Gt{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function zv(t){return _(t)&&t.name==="AuthApiError"}var Be=class extends Gt{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},lt=class extends Gt{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}},De=class extends lt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Wv(t){return _(t)&&t.name==="AuthSessionMissingError"}var It=class extends lt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},An=class extends lt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Nn=class extends lt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function qv(t){return _(t)&&t.name==="AuthImplicitGrantRedirectError"}var ri=class extends lt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Or=class extends lt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function Za(t){return _(t)&&t.name==="AuthRetryableFetchError"}var oi=class extends lt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var xn=class extends lt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var Ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kv=` 	
\r=`.split(""),FS=(()=>{let t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Kv.length;e+=1)t[Kv[e].charCodeAt(0)]=-2;for(let e=0;e<Ja.length;e+=1)t[Ja[e].charCodeAt(0)]=e;return t})();function Yv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(Ja[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(Ja[r]),e.queuedBits-=6}}function Zv(t,e,n){let r=FS[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function uf(t){let e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{BS(s,r,n)};for(let s=0;s<t.length;s+=1)Zv(t.charCodeAt(s),o,i);return e.join("")}function jS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function VS(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}jS(r,e)}}function BS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function zt(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Zv(t.charCodeAt(o),n,r);return new Uint8Array(e)}function Jv(t){let e=[];return VS(t,n=>e.push(n)),new Uint8Array(e)}function Tt(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>Yv(o,n,r)),Yv(null,n,r),e.join("")}function Qv(t){return Math.round(Date.now()/1e3)+t}function Xv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var le=()=>typeof window<"u"&&typeof document<"u",Mn={tested:!1,writable:!1},Qa=()=>{if(!le())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mn.tested)return Mn.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mn.tested=!0,Mn.writable=!0}catch{Mn.tested=!0,Mn.writable=!1}return Mn.writable};function eE(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}var Xa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},tE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",On=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Wt=async(t,e)=>{let n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ct=async(t,e)=>{await t.removeItem(e)},ii=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};ii.promiseConstructor=Promise;function ec(t){let e=t.split(".");if(e.length!==3)throw new xn("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Hv.test(e[r]))throw new xn("JWT not in base64url format");return{header:JSON.parse(uf(e[0])),payload:JSON.parse(uf(e[1])),signature:zt(e[2]),raw:{header:e[0],payload:e[1]}}}async function nE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function rE(t,e){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})()})}function US(t){return("0"+t.toString(16)).substr(-2)}function $S(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,US).join("")}async function HS(t){let n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function GS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=await HS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rn(t,e,n=!1){let r=$S(),o=r;n&&(o+="/PASSWORD_RECOVERY"),await On(t,`${e}-code-verifier`,o);let i=await GS(r);return[i,r===i?"plain":"s256"]}var zS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oE(t){let e=t.headers.get(ni);if(!e||!e.match(zS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function iE(t){if(!t)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var WS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kn(t){if(!WS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tc(){let t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aE(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function lf(t){return JSON.parse(JSON.stringify(t))}var Pn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qS=[502,503,504];async function cE(t){var e;if(!tE(t))throw new Or(Pn(t),0);if(qS.includes(t.status))throw new Or(Pn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Be(Pn(i),i)}let r,o=oE(t);if(o&&o.getTime()>=cf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new oi(Pn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new De}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new oi(Pn(n),t.status,n.weak_password.reasons);throw new Ya(Pn(n),t.status||500,r)}var KS=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function C(t,e,n,r){var o;let i=Object.assign({},r?.headers);i[ni]||(i[ni]=cf["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await YS(t,e,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function YS(t,e,n,r,o,i){let s=KS(e,r,o,i),a;try{a=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new Or(Pn(c),0)}if(a.ok||await cE(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await cE(c)}}function Ue(t){var e;let n=null;ZS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Qv(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function df(t){let e=Ue(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function dt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function uE(t){return{data:t,error:null}}function lE(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,s=ht(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function ff(t){return t}function ZS(t){return t.access_token&&t.refresh_token&&t.expires_in}var nc=["global","local","others"];var Rr=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Xa(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=nc[0]){if(nc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nc.join(", ")}`);try{return await C(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await C(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:dt})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{let{options:n}=e,r=ht(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await C(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:lE,redirectTo:n?.redirectTo})}catch(n){if(_(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await C(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dt})}catch(n){if(_(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await C(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:ff});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(_(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){kn(e);try{return await C(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dt})}catch(n){if(_(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){kn(e);try{return await C(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:dt})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){kn(e);try{return await C(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:dt})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){kn(e.userId);try{let{data:n,error:r}=await C(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(_(n))return{data:null,error:n};throw n}}async _deleteFactor(e){kn(e.userId),kn(e.id);try{return{data:await C(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await C(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:ff});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(_(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await C(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await C(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await C(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await C(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await C(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_(n))return{data:null,error:n};throw n}}};function hf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}var Ln={debug:!!(globalThis&&Qa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},si=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},rc=class extends si{};async function pf(t,e,n){Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rc(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ln.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function dE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gf(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function fE(t){return parseInt(t,16)}function hE(t){let e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function pE(t){var e;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let f=gf(t.address),p=l?`${l}://${r}`:r,y=t.statement?`${t.statement}
`:"",g=`${p} wants you to sign in with your Ethereum account:
${f}

${y}`,m=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(m+=`
Expiration Time: ${o.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),c&&(m+=`
Request ID: ${c}`),u){let I=`
Resources:`;for(let w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);I+=`
- ${w}`}m+=I}return`${g}
${m}`}W();var Z=class extends Error{constructor({message:e,code:n,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},Fn=class extends Z{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}};function gE({error:t,options:e}){var n,r,o;let{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Z({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Z({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Z({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Z({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Z({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Z({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Z({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Z({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let s=window.location.hostname;if(mf(s)){if(i.rp.id!==s)return new Z({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Z({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Z({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Z({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Z({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function mE({error:t,options:e}){let{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Z({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Z({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(mf(r)){if(n.rpId!==r)return new Z({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Z({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Z({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Z({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var yf=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},JS=new yf;function vE(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:e,user:n,excludeCredentials:r}=t,o=ht(t,["challenge","user","excludeCredentials"]),i=zt(e).buffer,s=Object.assign(Object.assign({},n),{id:zt(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:zt(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function EE(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:e,allowCredentials:n}=t,r=ht(t,["challenge","allowCredentials"]),o=zt(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:zt(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function _E(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Tt(new Uint8Array(t.response.attestationObject)),clientDataJSON:Tt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Tt(new Uint8Array(o.authenticatorData)),clientDataJSON:Tt(new Uint8Array(o.clientDataJSON)),signature:Tt(new Uint8Array(o.signature)),userHandle:o.userHandle?Tt(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mf(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function yE(){var t,e;return!!(le()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function QS(t){try{let e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fn("Browser returned unexpected credential type",e)}:{data:null,error:new Fn("Empty credential response",e)}}catch(e){return{data:null,error:gE({error:e,options:t})}}}async function XS(t){try{let e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fn("Browser returned unexpected credential type",e)}:{data:null,error:new Fn("Empty credential response",e)}}catch(e){return{data:null,error:mE({error:e,options:t})}}}var e0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},t0={userVerification:"preferred",hints:["security-key"]};function oc(...t){let e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of t)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(e(s)){let a=r[i];e(a)?r[i]=oc(a,s):r[i]=oc(s)}else r[i]=s}return r}function n0(t,e){return oc(e0,t,e||{})}function r0(t,e){return oc(t0,t,e||{})}var ic=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},i){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:a};let c=o??JS.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{let u=n0(s.webauthn.credential_options.publicKey,i?.create),{data:l,error:d}=await QS({publicKey:u,signal:c});return l?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}case"request":{let u=r0(s.webauthn.credential_options.publicKey,i?.request),{data:l,error:d}=await XS(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return l?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}}}catch(s){return _(s)?{data:null,error:s}:{data:null,error:new Be("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!n)return{data:null,error:new Gt("rpId is required for WebAuthn authentication")};try{if(!yE())return{data:null,error:new Be("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return _(s)?{data:null,error:s}:{data:null,error:new Be("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!n)return{data:null,error:new Gt("rpId is required for WebAuthn registration")};try{if(!yE())return{data:null,error:new Be("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(l=>{var d;return(d=l.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(l=>l?this.client.mfa.unenroll({factorId:l?.id}):void 0),{data:null,error:a};let{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return _(s)?{data:null,error:s}:{data:null,error:new Be("Unexpected error in register",s)}}}};dE();var o0={url:Bv,storageKey:Uv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$v,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function DE(t,e,n){return await n()}var kr={},i0=(()=>{class t{get jwks(){var n,r;return(r=(n=kr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=kr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{cachedAt:n})}constructor(n){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&le()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},o0),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Rr({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Xa(i.fetch),this.lock=i.lock||DE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:le()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=pf:this.lock=DE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ic(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Qa()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=hf(this.memoryStorage)),le()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wa}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r=eE(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce"),le()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),qv(s)){let u=(n=s.details)===null||n===void 0?void 0:n.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _(r)?{error:r}:{error:new Be("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,o,i;try{let s=await C(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ue}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(_(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(n){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,y=null;this.flowType==="pkce"&&([p,y]=await Rn(this.storage,this.storageKey)),s=await C(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:y},xform:Ue})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await C(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ue})}else throw new An("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(_(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await C(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:df})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await C(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:df})}else throw new An("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new It}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,o,i,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,o,i,s,a,c,u,l,d,h,f;let p,y;if("message"in n)p=n.message,y=n.signature;else{let{chain:g,wallet:m,statement:I,options:w}=n,E;if(le())if(typeof m=="object")E=m;else{let ft=window;if("ethereum"in ft&&typeof ft.ethereum=="object"&&"request"in ft.ethereum&&typeof ft.ethereum.request=="function")E=ft.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=m}let L=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href),se=await E.request({method:"eth_requestAccounts"}).then(ft=>ft).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!se||se.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let V=gf(se[0]),K=(o=w?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!K){let ft=await E.request({method:"eth_chainId"});K=fE(ft)}let TE={domain:L.host,address:V,statement:I,uri:L.href,version:"1",chainId:K,nonce:(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=w?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=w?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=w?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=w?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=pE(TE),y=await E.request({method:"personal_sign",params:[hE(p),V]})}try{let{data:g,error:m}=await C(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ue});if(m)throw m;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new It}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:m})}catch(g){if(_(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(n){var r,o,i,s,a,c,u,l,d,h,f,p;let y,g;if("message"in n)y=n.message,g=n.signature;else{let{chain:m,wallet:I,statement:w,options:E}=n,L;if(le())if(typeof I=="object")L=I;else{let V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))L=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=I}let se=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in L&&L.signIn){let V=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:se.host,uri:se.href}),w?{statement:w}:null)),K;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")K=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)K=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)y=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),g=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${se.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${se.href}`,`Issued At: ${(i=(o=E?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);let V=await L.signMessage(new TextEncoder().encode(y),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=V}}try{let{data:m,error:I}=await C(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Tt(g)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ue});if(I)throw I;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new It}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:I})}catch(m){if(_(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(n){let r=await Wt(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=await C(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Ue});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new It}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(_(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(n){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=await C(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ue}),{data:u,error:l}=c;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new It}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,o,i,s,a;try{if("email"in n){let{email:c,options:u}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=await Rn(this.storage,this.storageKey));let{error:h}=await C(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=await C(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new An("You must provide either an email or phone number.")}catch(c){if(_(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(n){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await C(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ue});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(_(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(n){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Rn(this.storage,this.storageKey)),await C(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:uE})}catch(s){if(_(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new De;let{error:i}=await C(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(n){if(_(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=await C(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=await C(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new An("You must provide either an email or phone number and a type")}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await Wt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<Ka:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=await Wt(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=tc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=aE(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await C(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:dt}):await this._useSession(async r=>{var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new De}:await C(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:dt})})}catch(r){if(_(r))return Wv(r)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new De;let a=i.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=await Rn(this.storage,this.storageKey));let{data:l,error:d}=await C(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:dt});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(o){if(_(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new De;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=ec(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:u}=await this._callRefreshToken(n.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=await this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(_(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new De;let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!le())throw new Nn("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Nn(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ri("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new ri("No code detected.");let{data:w,error:E}=await this._exchangeCodeForSession(n.code);if(E)throw E;let L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:w.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!s||!c||!a||!l)throw new Nn("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let p=f-d;p*1e3<=Sn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);let{data:g,error:m}=await this._getUser(s);if(m)throw m;let I={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:n.type},error:null}}catch(o){if(_(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await Wt(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(zv(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){let r=Xv(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Rn(this.storage,this.storageKey,!0));try{return await C(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(_(s))return{data:null,error:s};throw s}}async getUserIdentities(){var n;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await C(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return le()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(_(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:u,access_token:l,nonce:d}=n,h=await C(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:u,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ue}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new It}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:p})}catch(i){if(_(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await C(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await rE(async i=>(i>0&&await nE(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await C(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ue})),(i,s)=>{let a=200*Math.pow(2,i);return s&&Za(s)&&Date.now()+a-o<Sn})}catch(o){if(this._debug(r,"error",o),_(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),le()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=await Wt(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Wt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await On(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:tc()}else if(i&&!i.user&&!i.user){let a=await Wt(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await Ct(this.storage,this.storageKey+"-user"),await On(this.storage,this.storageKey,i)):i.user=tc()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ka;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${Ka}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Za(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var r,o;if(!n)throw new De;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ii;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new De;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),_(s)){let a={data:null,error:s};return Za(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,o=!0){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await On(this.userStorage,this.storageKey+"-user",{user:r.user});let i=Object.assign({},r);delete i.user;let s=lf(i);await On(this.storage,this.storageKey,s)}else{let i=lf(r);await On(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&le()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Sn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Sn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sn}ms, refresh threshold is ${qa} ticks`),i<=qa&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof si)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!le()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=await Rn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?{data:null,error:s}:await C(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:u,error:l}=await C(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(n.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?_E(n.webauthn.credential_response):wE(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:u}=await C(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(r){if(_(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=await C(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:vE(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:EE(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){let{data:r,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;let{data:{session:o},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=ec(o.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let l=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?{data:null,error:i}:o?await C(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new De}})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return{data:null,error:s};if(!i)return{data:null,error:new De};let a=await C(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&le()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(_(o))return{data:null,error:o};throw o}}async _denyAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return{data:null,error:s};if(!i)return{data:null,error:new De};let a=await C(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&le()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(_(o))return{data:null,error:o};throw o}}async fetchJwk(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+Gv>i)return o;let{data:s,error:a}=await C(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(c=>c.kid===n),!o)?null:o}async getClaims(n,r={}){try{let o=n;if(!o){let{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};o=p.session.access_token}let{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=ec(o);r?.allowExpired||iE(s.exp);let l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){let{error:p}=await this.getUser(o);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}let d=sE(i.alg),h=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Jv(`${c}.${u}`)))throw new xn("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(o){if(_(o))return{data:null,error:o};throw o}}}return t.nextInstanceID=0,t})(),vf=i0;var s0=vf,Ef=s0;var sc=class extends Ef{constructor(e){super(e)}};var ac=class{constructor(e,n,r){var o,i,s;this.supabaseUrl=e,this.supabaseKey=n;let a=Vv(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:kv,realtime:Lv,auth:Object.assign(Object.assign({},Pv),{storageKey:c}),global:Rv},l=jv(r??{},u);this.storageKey=(o=l.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=l.auth)!==null&&s!==void 0?s:{},this.headers,l.global.fetch),this.fetch=Fv(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new yv(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new ei(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Ho(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();let{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:u},l,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sc({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),l),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Zo(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var bE=(t,e,n)=>new ac(t,e,n);function a0(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}a0()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var jn=class jn{constructor(){this.supabase=bE(kd.supabase.url,kd.supabase.anonKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}getClient(){return this.supabase}get auth(){return this.supabase.auth}get db(){return this.supabase}get storage(){return this.supabase.storage}subscribeToTable(e,n){return this.supabase.channel(`public:${e}`).on("postgres_changes",{event:"*",schema:"public",table:e},n).subscribe()}unsubscribe(e){this.supabase.removeChannel(e)}};jn.\u0275fac=function(n){return new(n||jn)},jn.\u0275prov=F({token:jn,factory:jn.\u0275fac,providedIn:"root"});var IE=jn;export{te as a,RE as b,P as c,mc as d,yc as e,et as f,Pr as g,jr as h,Nt as i,ki as j,WE as k,qE as l,en as m,YE as n,ve as o,o_ as p,pt as q,Dc as r,Gn as s,s_ as t,a_ as u,tn as v,bc as w,Ic as x,Vr as y,zn as z,c_ as A,Cc as B,l_ as C,Sc as D,d_ as E,f_ as F,h_ as G,Ac as H,p_ as I,gh as J,T as K,qr as L,ns as M,F as N,Kr as O,I_ as P,O as Q,B as R,D as S,cs as T,uu as U,Ie as V,er as W,Jh as X,Qh as Y,dp as Z,fp as _,an as $,mn as aa,ao as ba,cn as ca,ct as da,_s as ea,Bt as fa,Jp as ga,vw as ha,Vl as ia,wn as ja,Cw as ka,Sw as la,Eg as ma,Nw as na,xw as oa,dr as pa,wo as qa,$l as ra,jw as sa,Vw as ta,Bw as ua,Uw as va,$w as wa,Hl as xa,oD as ya,ea as za,Rg as Aa,aD as Ba,CD as Ca,ho as Da,Bs as Ea,Zl as Fa,vt as Ga,Te as Ha,yo as Ia,ad as Ja,Ze as Ka,To as La,Mm as Ma,Om as Na,EI as Oa,ua as Pa,ld as Qa,dd as Ra,Pm as Sa,Fm as Ta,RI as Ua,la as Va,Bm as Wa,Co as Xa,Hm as Ya,LI as Za,FI as _a,jI as $a,VI as ab,BI as bb,UI as cb,Gm as db,gd as eb,md as fb,zm as gb,yd as hb,vd as ib,Wm as jb,zI as kb,Km as lb,Zm as mb,Jm as nb,ZI as ob,JI as pb,QI as qb,XI as rb,eT as sb,ty as tb,ny as ub,dT as vb,DT as wb,cy as xb,Ed as yb,uy as zb,ly as Ab,dy as Bb,ST as Cb,fy as Db,AT as Eb,RT as Fb,kT as Gb,PT as Hb,LT as Ib,VT as Jb,UT as Kb,$T as Lb,HT as Mb,_y as Nb,Dd as Ob,wy as Pb,zB as Qb,uC as Rb,WB as Sb,qB as Tb,fa as Ub,fC as Vb,Id as Wb,vr as Xb,xy as Yb,mC as Zb,NC as _b,OC as $b,RC as ac,Nd as bc,Po as cc,c$ as dc,nS as ec,rS as fc,ov as gc,iv as hc,kd as ic,IE as jc};
