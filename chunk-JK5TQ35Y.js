import{a as D,b as Y,c as _b,d as Hn,e as Db,f as bb,g as zn,i as Ig,j as Tg,m as Ib,n as Cg}from"./chunk-K5CSBBV3.js";var Yn={};Db(Yn,{__addDisposableResource:()=>nm,__assign:()=>ta,__asyncDelegator:()=>Yg,__asyncGenerator:()=>oa,__asyncValues:()=>ia,__await:()=>St,__awaiter:()=>E,__classPrivateFieldGet:()=>Xg,__classPrivateFieldIn:()=>tm,__classPrivateFieldSet:()=>em,__createBinding:()=>ra,__decorate:()=>Fg,__disposeResources:()=>rm,__esDecorate:()=>Ug,__exportStar:()=>Gg,__extends:()=>Lg,__generator:()=>zg,__importDefault:()=>Jg,__importStar:()=>Qg,__makeTemplateObject:()=>Zg,__metadata:()=>Hg,__param:()=>jg,__propKey:()=>Bg,__read:()=>$l,__rest:()=>qt,__rewriteRelativeImportExtension:()=>om,__runInitializers:()=>$g,__setFunctionName:()=>Vg,__spread:()=>Wg,__spreadArray:()=>Kg,__spreadArrays:()=>qg,__values:()=>na,default:()=>Ob});function Lg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");jl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function qt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Fg(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function jg(e,t){return function(n,r){t(n,r,e)}}function Ug(e,t,n,r,o,i){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?r.static?e:e.prototype:null,l=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,f=n.length-1;f>=0;f--){var p={};for(var m in r)p[m]=m==="access"?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(v||null))};var g=(0,n[f])(a==="accessor"?{get:l.get,set:l.set}:l[c],p);if(a==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=s(g.get))&&(l.get=d),(d=s(g.set))&&(l.set=d),(d=s(g.init))&&o.unshift(d)}else(d=s(g))&&(a==="field"?o.unshift(d):l[c]=d)}u&&Object.defineProperty(u,r.name,l),h=!0}function $g(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function Bg(e){return typeof e=="symbol"?e:"".concat(e)}function Vg(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Hg(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function E(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function zg(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(l){u=[6,l],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Gg(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&ra(t,e,n)}function na(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $l(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Wg(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($l(arguments[t]));return e}function qg(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function Kg(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function St(e){return this instanceof St?(this.v=e,this):new St(e)}function oa(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(o[f]=function(m){return new Promise(function(g,v){i.push([f,m,g,v])>1||c(f,m)})},p&&(o[f]=p(o[f])))}function c(f,p){try{u(r[f](p))}catch(m){h(i[0][3],m)}}function u(f){f.value instanceof St?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Yg(e){var t,n;return t={},r("next"),r("throw",function(o){throw o}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(o,i){t[o]=e[o]?function(s){return(n=!n)?{value:St(e[o](s)),done:!1}:i?i(s):s}:i}}function ia(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof na=="function"?na(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}function Zg(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Qg(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Ul(e),r=0;r<n.length;r++)n[r]!=="default"&&ra(t,e,n[r]);return Rb(t,e),t}function Jg(e){return e&&e.__esModule?e:{default:e}}function Xg(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function em(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n}function tm(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function nm(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}function rm(e){function t(i){e.error=e.hasError?new Mb(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,r=0;function o(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,function(s){return t(s),o()})}else r|=1}catch(s){t(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function om(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,i,s){return r?t?".jsx":".js":o&&(!i||!s)?n:o+i+"."+s.toLowerCase()+"js"}):e}var jl,ta,ra,Rb,Ul,Mb,Ob,J=_b(()=>{jl=function(e,t){return jl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},jl(e,t)};ta=function(){return ta=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ta.apply(this,arguments)};ra=Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};Rb=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Ul=function(e){return Ul=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Ul(e)};Mb=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};Ob={__extends:Lg,__assign:ta,__rest:qt,__decorate:Fg,__param:jg,__esDecorate:Ug,__runInitializers:$g,__propKey:Bg,__setFunctionName:Vg,__metadata:Hg,__awaiter:E,__generator:zg,__createBinding:ra,__exportStar:Gg,__values:na,__read:$l,__spread:Wg,__spreadArrays:qg,__spreadArray:Kg,__await:St,__asyncGenerator:oa,__asyncDelegator:Yg,__asyncValues:ia,__makeTemplateObject:Zg,__importStar:Qg,__importDefault:Jg,__classPrivateFieldGet:Xg,__classPrivateFieldSet:em,__classPrivateFieldIn:tm,__addDisposableResource:nm,__disposeResources:rm,__rewriteRelativeImportExtension:om}});var Hp=Hn(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});var Bp=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Vp.default=Bp});var Wp=Hn(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});var nD=(J(),zn(Yn)),UM=nD.__importDefault((Cg(),zn(Ib))),$M=nD.__importDefault(Hp()),zp=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=UM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,c,u;let l=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){let A=await i.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=A:d=JSON.parse(A))}let g=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");g&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(d=[],l=null,f=200,p="OK")}catch{i.status===404&&g===""?(f=204,p="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((u=l?.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&this.shouldThrowOnError)throw new $M.default(l)}return{error:l,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};Gp.default=zp});var Yp=Hn(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});var BM=(J(),zn(Yn)),VM=BM.__importDefault(Wp()),qp=class extends VM.default{select(t){let n=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Kp.default=qp});var qu=Hn(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});var HM=(J(),zn(Yn)),zM=HM.__importDefault(Yp()),GM=new RegExp("[,()]"),Zp=class extends zM.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&GM.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Qp.default=Zp});var eg=Hn(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});var WM=(J(),zn(Yn)),As=WM.__importDefault(qu()),Jp=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(t,n){let{head:r=!1,count:o}=n??{},i=r?"HEAD":"GET",s=!1,a=(t??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),o&&this.headers.append("Prefer",`count=${o}`),new As.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new As.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new As.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new As.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new As.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Xp.default=Jp});var oD=Hn(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});var rD=(J(),zn(Yn)),qM=rD.__importDefault(eg()),KM=rD.__importDefault(qu()),tg=class e{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(t){let n=new URL(`${this.url}/${t}`);return new qM.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),u;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",u=n);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new KM.default({method:a,url:c,headers:l,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};ng.default=tg});var dD=Hn($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;var Vo=(J(),zn(Yn)),iD=Vo.__importDefault(oD());$e.PostgrestClient=iD.default;var sD=Vo.__importDefault(eg());$e.PostgrestQueryBuilder=sD.default;var aD=Vo.__importDefault(qu());$e.PostgrestFilterBuilder=aD.default;var cD=Vo.__importDefault(Yp());$e.PostgrestTransformBuilder=cD.default;var uD=Vo.__importDefault(Wp());$e.PostgrestBuilder=uD.default;var lD=Vo.__importDefault(Hp());$e.PostgrestError=lD.default;$e.default={PostgrestClient:iD.default,PostgrestQueryBuilder:sD.default,PostgrestFilterBuilder:aD.default,PostgrestTransformBuilder:cD.default,PostgrestBuilder:uD.default,PostgrestError:lD.default}});function L(e){return typeof e=="function"}function Al(e){return L(e?.lift)}function B(e){return t=>{if(Al(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mn(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Gs=mn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Gn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var re=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(i){t=i instanceof Gs?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Sg(i)}catch(s){t=t??[],s instanceof Gs?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Gs(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Sg(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Gn(n,t)}remove(t){let{_finalizers:n}=this;n&&Gn(n,t),t instanceof e&&t._removeParent(this)}};re.EMPTY=(()=>{let e=new re;return e.closed=!0,e})();var Nl=re.EMPTY;function Ws(e){return e instanceof re||e&&"closed"in e&&L(e.remove)&&L(e.add)&&L(e.unsubscribe)}function Sg(e){L(e)?e():e.unsubscribe()}var lt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vr={setTimeout(e,t,...n){let{delegate:r}=Vr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Vr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function qs(e){Vr.setTimeout(()=>{let{onUnhandledError:t}=lt;if(t)t(e);else throw e})}function Wn(){}var Ag=Rl("C",void 0,void 0);function Ng(e){return Rl("E",void 0,e)}function Rg(e){return Rl("N",e,void 0)}function Rl(e,t,n){return{kind:e,value:t,error:n}}var qn=null;function Hr(e){if(lt.useDeprecatedSynchronousErrorHandling){let t=!qn;if(t&&(qn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=qn;if(qn=null,n)throw r}}else e()}function Mg(e){lt.useDeprecatedSynchronousErrorHandling&&qn&&(qn.errorThrown=!0,qn.error=e)}var Kn=class extends re{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ws(t)&&t.add(this)):this.destination=Sb}static create(t,n,r){return new zr(t,n,r)}next(t){this.isStopped?Ol(Rg(t),this):this._next(t)}error(t){this.isStopped?Ol(Ng(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ol(Ag,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Tb=Function.prototype.bind;function Ml(e,t){return Tb.call(e,t)}var xl=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ks(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ks(r)}else Ks(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ks(n)}}},zr=class extends Kn{constructor(t,n,r){super();let o;if(L(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&lt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Ml(t.next,i),error:t.error&&Ml(t.error,i),complete:t.complete&&Ml(t.complete,i)}):o=t}this.destination=new xl(o)}};function Ks(e){lt.useDeprecatedSynchronousErrorHandling?Mg(e):qs(e)}function Cb(e){throw e}function Ol(e,t){let{onStoppedNotification:n}=lt;n&&Vr.setTimeout(()=>n(e,t))}var Sb={closed:!0,next:Wn,error:Cb,complete:Wn};function U(e,t,n,r,o){return new kl(e,t,n,r,o)}var kl=class extends Kn{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function F(e,t){return B((n,r)=>{let o=0;n.subscribe(U(r,i=>{r.next(e.call(t,i,o++))}))})}var Gr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qe(e){return e}function Pl(...e){return Ll(e)}function Ll(e){return e.length===0?qe:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var $=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Nb(n)?n:new zr(n,r,o);return Hr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Og(r),new r((o,i)=>{let s=new zr({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Gr](){return this}pipe(...n){return Ll(n)(this)}toPromise(n){return n=Og(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Og(e){var t;return(t=e??lt.Promise)!==null&&t!==void 0?t:Promise}function Ab(e){return e&&L(e.next)&&L(e.error)&&L(e.complete)}function Nb(e){return e&&e instanceof Kn||Ab(e)&&Ws(e)}function Wr(){return B((e,t)=>{let n=null;e._refCount++;let r=U(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var qr=class extends ${constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Al(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new re;let n=this.getSubject();t.add(this.source.subscribe(U(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=re.EMPTY)}return t}refCount(){return Wr()(this)}};var xg=mn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class e extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ys(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xg}next(n){Hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Nl:(this.currentObservers=null,i.push(n),new re(()=>{this.currentObservers=null,Gn(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return e.create=(t,n)=>new Ys(t,n),e})(),Ys=class extends me{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Nl}};var Ie=class extends me{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Fl={now(){return(Fl.delegate||Date).now()},delegate:void 0};var Zs=class extends re{constructor(t,n){super()}schedule(t,n=0){return this}};var ei={setInterval(e,t,...n){let{delegate:r}=ei;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=ei;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Qs=class extends Zs{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return ei.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ei.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,o;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Gn(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Kr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Kr.now=Fl.now;var Js=class extends Kr{constructor(t,n=Kr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var ti=new Js(Qs),kg=ti;var Ve=new $(e=>e.complete());function Xs(e){return e&&L(e.schedule)}function Pg(e){return e[e.length-1]}function ea(e){return L(Pg(e))?e.pop():void 0}function vn(e){return Xs(Pg(e))?e.pop():void 0}J();var sa=e=>e&&typeof e.length=="number"&&typeof e!="function";function aa(e){return L(e?.then)}function ca(e){return L(e[Gr])}function ua(e){return Symbol.asyncIterator&&L(e?.[Symbol.asyncIterator])}function la(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var da=xb();function fa(e){return L(e?.[da])}J();function ha(e){return oa(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield St(n.read());if(o)return yield St(void 0);yield yield St(r)}}finally{n.releaseLock()}})}function pa(e){return L(e?.getReader)}function te(e){if(e instanceof $)return e;if(e!=null){if(ca(e))return kb(e);if(sa(e))return Pb(e);if(aa(e))return Lb(e);if(ua(e))return im(e);if(fa(e))return Fb(e);if(pa(e))return jb(e)}throw la(e)}function kb(e){return new $(t=>{let n=e[Gr]();if(L(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Pb(e){return new $(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Lb(e){return new $(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,qs)})}function Fb(e){return new $(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function im(e){return new $(t=>{Ub(e,t).catch(n=>t.error(n))})}function jb(e){return im(ha(e))}function Ub(e,t){var n,r,o,i;return E(this,void 0,void 0,function*(){try{for(n=ia(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function Ne(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function ga(e,t=0){return B((n,r)=>{n.subscribe(U(r,o=>Ne(r,e,()=>r.next(o),t),()=>Ne(r,e,()=>r.complete(),t),o=>Ne(r,e,()=>r.error(o),t)))})}function ma(e,t=0){return B((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function sm(e,t){return te(e).pipe(ma(t),ga(t))}function am(e,t){return te(e).pipe(ma(t),ga(t))}function cm(e,t){return new $(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function um(e,t){return new $(n=>{let r;return Ne(n,t,()=>{r=e[da](),Ne(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>L(r?.return)&&r.return()})}function va(e,t){if(!e)throw new Error("Iterable cannot be null");return new $(n=>{Ne(n,t,()=>{let r=e[Symbol.asyncIterator]();Ne(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function lm(e,t){return va(ha(e),t)}function dm(e,t){if(e!=null){if(ca(e))return sm(e,t);if(sa(e))return cm(e,t);if(aa(e))return am(e,t);if(ua(e))return va(e,t);if(fa(e))return um(e,t);if(pa(e))return lm(e,t)}throw la(e)}function ce(e,t){return t?dm(e,t):te(e)}function R(...e){let t=vn(e);return ce(e,t)}function Yr(e,t){let n=L(e)?e:()=>e,r=o=>o.error(n());return new $(t?o=>t.schedule(r,0,o):r)}function Bl(e){return!!e&&(e instanceof $||L(e.lift)&&L(e.subscribe))}var Kt=mn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ya(e){return e instanceof Date&&!isNaN(e)}var $b=mn(e=>function(n=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function Bb(e,t){let{first:n,each:r,with:o=Vb,scheduler:i=t??ti,meta:s=null}=ya(e)?{first:e}:typeof e=="number"?{each:e}:e;if(n==null&&r==null)throw new TypeError("No timeout provided.");return B((a,c)=>{let u,l,d=null,h=0,f=p=>{l=Ne(c,i,()=>{try{u.unsubscribe(),te(o({meta:s,lastValue:d,seen:h})).subscribe(c)}catch(m){c.error(m)}},p)};u=a.subscribe(U(c,p=>{l?.unsubscribe(),h++,c.next(d=p),r>0&&f(r)},void 0,void 0,()=>{l?.closed||l?.unsubscribe(),d=null})),!h&&f(n!=null?typeof n=="number"?n:+n-i.now():r)})}function Vb(e){throw new $b(e)}var{isArray:Hb}=Array;function zb(e,t){return Hb(t)?e(...t):e(t)}function Ea(e){return F(t=>zb(e,t))}var{isArray:Gb}=Array,{getPrototypeOf:Wb,prototype:qb,keys:Kb}=Object;function wa(e){if(e.length===1){let t=e[0];if(Gb(t))return{args:t,keys:null};if(Yb(t)){let n=Kb(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Yb(e){return e&&typeof e=="object"&&Wb(e)===qb}function _a(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Da(...e){let t=vn(e),n=ea(e),{args:r,keys:o}=wa(e);if(r.length===0)return ce([],t);let i=new $(Zb(r,t,o?s=>_a(o,s):qe));return n?i.pipe(Ea(n)):i}function Zb(e,t,n=qe){return r=>{fm(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)fm(t,()=>{let u=ce(e[c],t),l=!1;u.subscribe(U(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function fm(e,t,n){e?Ne(n,e,t):t()}function hm(e,t,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&t.complete()},f=m=>u<r?p(m):c.push(m),p=m=>{i&&t.next(m),u++;let g=!1;te(n(m,l++)).subscribe(U(t,v=>{o?.(v),i?f(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(u--;c.length&&u<r;){let v=c.shift();s?Ne(t,s,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return e.subscribe(U(t,f,()=>{d=!0,h()})),()=>{a?.()}}function oe(e,t,n=1/0){return L(t)?oe((r,o)=>F((i,s)=>t(r,i,o,s))(te(e(r,o))),n):(typeof t=="number"&&(n=t),B((r,o)=>hm(r,o,e,n)))}function Zr(e=1/0){return oe(qe,e)}function pm(){return Zr(1)}function yn(...e){return pm()(ce(e,vn(e)))}function ni(e){return new $(t=>{te(e()).subscribe(t)})}function Qb(...e){let t=ea(e),{args:n,keys:r}=wa(e),o=new $(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;te(n[l]).subscribe(U(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?_a(r,a):a),i.complete())}))}});return t?o.pipe(Ea(t)):o}function gm(e=0,t,n=kg){let r=-1;return t!=null&&(Xs(t)?n=t:r=t),new $(o=>{let i=ya(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function Le(e,t){return B((n,r)=>{let o=0;n.subscribe(U(r,i=>e.call(t,i,o++)&&r.next(i)))})}function At(e){return B((t,n)=>{let r=null,o=!1,i;r=t.subscribe(U(n,void 0,void 0,s=>{i=te(e(s,At(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function mm(e,t,n,r,o){return(i,s)=>{let a=n,c=t,u=0;i.subscribe(U(s,l=>{let d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Yt(e,t){return L(t)?oe(e,t,1):oe(e,1)}function En(e){return B((t,n)=>{let r=!1;t.subscribe(U(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Xe(e){return e<=0?()=>Ve:B((t,n)=>{let r=0;t.subscribe(U(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function vm(){return B((e,t)=>{e.subscribe(U(t,Wn))})}function ym(e){return F(()=>e)}function Vl(e,t){return t?n=>yn(t.pipe(Xe(1),vm()),n.pipe(Vl(e))):oe((n,r)=>te(e(n,r)).pipe(Xe(1),ym(n)))}function Jb(e,t=ti){let n=gm(e,t);return Vl(()=>n)}function ba(e=Xb){return B((t,n)=>{let r=!1;t.subscribe(U(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Xb(){return new Kt}function Zn(e){return B((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Zt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Le((o,i)=>e(o,i,r)):qe,Xe(1),n?En(t):ba(()=>new Kt))}function Qr(e){return e<=0?()=>Ve:B((t,n)=>{let r=[];t.subscribe(U(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Hl(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Le((o,i)=>e(o,i,r)):qe,Qr(1),n?En(t):ba(()=>new Kt))}function zl(e,t){return B(mm(e,t,arguments.length>=2,!0))}function Gl(...e){let t=vn(e);return B((n,r)=>{(t?yn(e,n,t):yn(e,n)).subscribe(r)})}function Te(e,t){return B((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(U(r,c=>{o?.unsubscribe();let u=0,l=i++;te(e(c,l)).subscribe(o=U(r,d=>r.next(t?t(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ia(e){return B((t,n)=>{te(e).subscribe(U(n,()=>n.complete(),Wn)),!n.closed&&t.subscribe(n)})}function ve(e,t,n){let r=L(e)||t||n?{next:e,error:t,complete:n}:e;return r?B((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(U(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):qe}var Wl;function Ta(){return Wl}function Nt(e){let t=Wl;return Wl=e,t}var Em=Symbol("NotFound");function Jr(e){return e===Em||e?.name==="\u0275NotFound"}var Re=null,Ca=!1,ql=1,eI=null,Me=Symbol("SIGNAL");function x(e){let t=Re;return Re=e,t}function Ra(){return Re}var Xr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function eo(e){if(Ca)throw new Error("");if(Re===null)return;Re.consumerOnSignalRead(e);let t=Re.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Re.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Re.producers,n!==void 0&&n.producer===e)){Re.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===Re&&(!r||nI(o,Re)))return;let i=no(Re),s={producer:e,consumer:Re,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};Re.producersTail=s,t!==void 0?t.nextProducer=s:Re.producers=s,i&&bm(e,s)}function wm(){ql++}function Ma(e){if(!(no(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ql)){if(!e.producerMustRecompute(e)&&!ii(e)){Na(e);return}e.producerRecomputeValue(e),Na(e)}}function Kl(e){if(e.consumers===void 0)return;let t=Ca;Ca=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||tI(r)}}finally{Ca=t}}function Yl(){return Re?.consumerAllowSignalWrites!==!1}function tI(e){e.dirty=!0,Kl(e),e.consumerMarkedDirty?.(e)}function Na(e){e.dirty=!1,e.lastCleanEpoch=ql}function to(e){return e&&_m(e),x(e)}function _m(e){e.producersTail=void 0,e.recomputing=!0}function oi(e,t){x(t),e&&Dm(e)}function Dm(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(no(e))do n=Zl(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function ii(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Ma(n),r!==n.version))return!0}return!1}function si(e){if(no(e)){let t=e.producers;for(;t!==void 0;)t=Zl(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function bm(e,t){let n=e.consumersTail,r=no(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)bm(o.producer,o)}function Zl(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!no(t)){let i=t.producers;for(;i!==void 0;)i=Zl(i)}return n}function no(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Oa(e){eI?.(e)}function nI(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function xa(e,t){return Object.is(e,t)}function ka(e,t){let n=Object.create(rI);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Ma(n),eo(n),n.value===ri)throw n.error;return n.value};return r[Me]=n,Oa(n),r}var Sa=Symbol("UNSET"),Aa=Symbol("COMPUTING"),ri=Symbol("ERRORED"),rI=Y(D({},Xr),{value:Sa,dirty:!0,error:null,equal:xa,kind:"computed",producerMustRecompute(e){return e.value===Sa||e.value===Aa},producerRecomputeValue(e){if(e.value===Aa)throw new Error("");let t=e.value;e.value=Aa;let n=to(e),r,o=!1;try{r=e.computation(),x(null),o=t!==Sa&&t!==ri&&r!==ri&&e.equal(t,r)}catch(i){r=ri,e.error=i}finally{oi(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function oI(){throw new Error}var Im=oI;function Tm(e){Im(e)}function Ql(e){Im=e}var iI=null;function Jl(e,t){let n=Object.create(Pa);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Cm(n);return r[Me]=n,Oa(n),[r,s=>ro(n,s),s=>Xl(n,s)]}function Cm(e){return eo(e),e.value}function ro(e,t){Yl()||Tm(e),e.equal(e.value,t)||(e.value=t,sI(e))}function Xl(e,t){Yl()||Tm(e),ro(e,t(e.value))}var Pa=Y(D({},Xr),{equal:xa,value:void 0,kind:"signal"});function sI(e){e.version++,wm(),Kl(e),iI?.(e)}function Sm(e){let t=x(null);try{return e()}finally{x(t)}}var Ua="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",w=class extends Error{code;constructor(t,n){super(bn(t,n)),this.code=t}};function aI(e){return`NG0${Math.abs(e)}`}function bn(e,t){return`${aI(e)}${t?": "+t:""}`}var et=globalThis;function z(e){for(let t in e)if(e[t]===z)return t;throw Error("")}function Rm(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Jt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Jt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function $a(e,t){return e?t?`${e} ${t}`:e:t||""}var cI=z({__forward_ref__:z});function Ba(e){return e.__forward_ref__=Ba,e.toString=function(){return Jt(this())},e}function Ce(e){return dd(e)?e():e}function dd(e){return typeof e=="function"&&e.hasOwnProperty(cI)&&e.__forward_ref__===Ba}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function In(e){return{providers:e.providers||[],imports:e.imports||[]}}function li(e){return uI(e,Va)}function fd(e){return li(e)!==null}function uI(e,t){return e.hasOwnProperty(t)&&e[t]||null}function lI(e){let t=e?.[Va]??null;return t||null}function td(e){return e&&e.hasOwnProperty(Fa)?e[Fa]:null}var Va=z({\u0275prov:z}),Fa=z({\u0275inj:z}),C=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hd(e){return e&&!!e.\u0275providers}var pd=z({\u0275cmp:z}),gd=z({\u0275dir:z}),md=z({\u0275pipe:z}),vd=z({\u0275mod:z}),ci=z({\u0275fac:z}),tr=z({__NG_ELEMENT_ID__:z}),Am=z({__NG_ENV_ID__:z});function ft(e){return typeof e=="string"?e:e==null?"":String(e)}function Mm(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ft(e)}var Om=z({ngErrorCode:z}),dI=z({ngErrorMessage:z}),fI=z({ngTokenPath:z});function yd(e,t){return xm("",-200,t)}function Ha(e,t){throw new w(-201,!1)}function xm(e,t,n){let r=new w(t,e);return r[Om]=t,r[dI]=e,n&&(r[fI]=n),r}function hI(e){return e[Om]}var nd;function km(){return nd}function Fe(e){let t=nd;return nd=e,t}function Ed(e,t,n){let r=li(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Ha(e,"Injector")}var pI={},Qn=pI,gI="__NG_DI_FLAG__",rd=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Jn(n)||0;try{return this.injector.get(t,r&8?null:Qn,r)}catch(o){if(Jr(o))return o;throw o}}};function mI(e,t=0){let n=Ta();if(n===void 0)throw new w(-203,!1);if(n===null)return Ed(e,void 0,t);{let r=vI(t),o=n.retrieve(e,r);if(Jr(o)){if(r.optional)return null;throw o}return o}}function S(e,t=0){return(km()||mI)(Ce(e),t)}function y(e,t){return S(e,Jn(t))}function Jn(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vI(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function od(e){let t=[];for(let n=0;n<e.length;n++){let r=Ce(e[n]);if(Array.isArray(r)){if(r.length===0)throw new w(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=yI(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(S(o,i))}else t.push(S(r))}return t}function yI(e){return e[gI]}function wn(e,t){let n=e.hasOwnProperty(ci);return n?e[ci]:null}function Pm(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function Lm(e){return e.flat(Number.POSITIVE_INFINITY)}function za(e,t){e.forEach(n=>Array.isArray(n)?za(n,t):t(n))}function wd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function di(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Fm(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function Ga(e,t,n){let r=io(e,t);return r>=0?e[r|1]=n:(r=~r,Fm(e,r,t,n)),r}function Wa(e,t){let n=io(e,t);if(n>=0)return e[n|1]}function io(e,t){return EI(e,t,1)}function EI(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var Tn={},je=[],Xt=new C(""),_d=new C("",-1),Dd=new C(""),ui=class{get(t,n=Qn){if(n===Qn){let o=xm("",-201);throw o.name="\u0275NotFound",o}return n}};function bd(e){return e[vd]||null}function Cn(e){return e[pd]||null}function Id(e){return e[gd]||null}function jm(e){return e[md]||null}function nr(e){return{\u0275providers:e}}function Um(...e){return{\u0275providers:Td(!0,e),\u0275fromNgModule:!0}}function Td(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return za(t,s=>{let a=s;ja(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&$m(o,i),n}function $m(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];Cd(o,i=>{t(i,r)})}}function ja(e,t,n,r){if(e=Ce(e),!e)return!1;let o=null,i=td(e),s=!i&&Cn(e);if(!i&&!s){let c=e.ngModule;if(i=td(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)ja(u,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{za(i.imports,l=>{ja(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&$m(u,t)}if(!a){let u=wn(o)||(()=>new o);t({provide:o,useFactory:u,deps:je},o),t({provide:Dd,useValue:o,multi:!0},o),t({provide:Xt,useValue:()=>S(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=e;Cd(c,l=>{t(l,u)})}}else return!1;return o!==e&&e.providers!==void 0}function Cd(e,t){for(let n of e)hd(n)&&(n=n.\u0275providers),Array.isArray(n)?Cd(n,t):t(n)}var wI=z({provide:String,useValue:z});function Bm(e){return e!==null&&typeof e=="object"&&wI in e}function _I(e){return!!(e&&e.useExisting)}function DI(e){return!!(e&&e.useFactory)}function Xn(e){return typeof e=="function"}function Vm(e){return!!e.useClass}var fi=new C(""),La={},Nm={},ed;function hi(){return ed===void 0&&(ed=new ui),ed}var de=class{},er=class extends de{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,sd(t,s=>this.processProvider(s)),this.records.set(_d,oo(void 0,this)),o.has("environment")&&this.records.set(de,oo(void 0,this));let i=this.records.get(fi);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Dd,je,{self:!0}))}retrieve(t,n){let r=Jn(n)||0;try{return this.get(t,Qn,r)}catch(o){if(Jr(o))return o;throw o}}destroy(){ai(this),this._destroyed=!0;let t=x(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),x(t)}}onDestroy(t){return ai(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ai(this);let n=Nt(this),r=Fe(void 0),o;try{return t()}finally{Nt(n),Fe(r)}}get(t,n=Qn,r){if(ai(this),t.hasOwnProperty(Am))return t[Am](this);let o=Jn(r),i,s=Nt(this),a=Fe(void 0);try{if(!(o&4)){let u=this.records.get(t);if(u===void 0){let l=SI(t)&&li(t);l&&this.injectableDefInScope(l)?u=oo(id(t),La):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,o)}let c=o&2?hi():this.parent;return n=o&8&&n===Qn?null:n,c.get(t,n)}catch(c){let u=hI(c);throw u===-200||u===-201?new w(u,null):c}finally{Fe(a),Nt(s)}}resolveInjectorInitializers(){let t=x(null),n=Nt(this),r=Fe(void 0),o;try{let i=this.get(Xt,je,{self:!0});for(let s of i)s()}finally{Nt(n),Fe(r),x(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Jt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ce(t);let n=Xn(t)?t:Ce(t&&t.provide),r=II(t);if(!Xn(t)&&t.multi===!0){let o=this.records.get(n);o||(o=oo(void 0,La,!0),o.factory=()=>od(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=x(null);try{if(n.value===Nm)throw yd(Jt(t));return n.value===La&&(n.value=Nm,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&CI(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{x(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ce(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function id(e){let t=li(e),n=t!==null?t.factory:wn(e);if(n!==null)return n;if(e instanceof C)throw new w(204,!1);if(e instanceof Function)return bI(e);throw new w(204,!1)}function bI(e){if(e.length>0)throw new w(204,!1);let n=lI(e);return n!==null?()=>n.factory(e):()=>new e}function II(e){if(Bm(e))return oo(void 0,e.useValue);{let t=Sd(e);return oo(t,La)}}function Sd(e,t,n){let r;if(Xn(e)){let o=Ce(e);return wn(o)||id(o)}else if(Bm(e))r=()=>Ce(e.useValue);else if(DI(e))r=()=>e.useFactory(...od(e.deps||[]));else if(_I(e))r=(o,i)=>S(Ce(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Ce(e&&(e.useClass||e.provide));if(TI(e))r=()=>new o(...od(e.deps));else return wn(o)||id(o)}return r}function ai(e){if(e.destroyed)throw new w(205,!1)}function oo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function TI(e){return!!e.deps}function CI(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function SI(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function sd(e,t){for(let n of e)Array.isArray(n)?sd(n,t):n&&hd(n)?sd(n.\u0275providers,t):t(n)}function Se(e,t){let n;e instanceof er?(ai(e),n=e):n=new rd(e);let r,o=Nt(n),i=Fe(void 0);try{return t()}finally{Nt(o),Fe(i)}}function Hm(){return km()!==void 0||Ta()!=null}var ht=0,N=1,k=2,ye=3,tt=4,nt=5,so=6,ao=7,ue=8,Sn=9,Mt=10,Z=11,co=12,Ad=13,rr=14,Ke=15,An=16,or=17,Ot=18,pi=19,Nd=20,Qt=21,qa=22,gi=23,Ye=24,Ka=25,ir=26,ie=27,zm=1,Rd=6,Nn=7,mi=8,sr=9,fe=10;function xt(e){return Array.isArray(e)&&typeof e[zm]=="object"}function pt(e){return Array.isArray(e)&&e[zm]===!0}function Md(e){return(e.flags&4)!==0}function Rn(e){return e.componentOffset>-1}function vi(e){return(e.flags&1)===1}function kt(e){return!!e.template}function uo(e){return(e[k]&512)!==0}function ar(e){return(e[k]&256)===256}var Od="svg",Gm="math";function rt(e){for(;Array.isArray(e);)e=e[ht];return e}function xd(e,t){return rt(t[e])}function gt(e,t){return rt(t[e.index])}function yi(e,t){return e.data[t]}function Ya(e,t){return e[t]}function kd(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function ot(e,t){let n=t[e];return xt(n)?n:n[ht]}function Wm(e){return(e[k]&4)===4}function Za(e){return(e[k]&128)===128}function qm(e){return pt(e[ye])}function it(e,t){return t==null?null:e[t]}function Pd(e){e[or]=0}function Ld(e){e[k]&1024||(e[k]|=1024,Za(e)&&wi(e))}function Km(e,t){for(;e>0;)t=t[rr],e--;return t}function Ei(e){return!!(e[k]&9216||e[Ye]?.dirty)}function Qa(e){e[Mt].changeDetectionScheduler?.notify(8),e[k]&64&&(e[k]|=1024),Ei(e)&&wi(e)}function wi(e){e[Mt].changeDetectionScheduler?.notify(0);let t=_n(e);for(;t!==null&&!(t[k]&8192||(t[k]|=8192,!Za(t)));)t=_n(t)}function Fd(e,t){if(ar(e))throw new w(911,!1);e[Qt]===null&&(e[Qt]=[]),e[Qt].push(t)}function Ym(e,t){if(e[Qt]===null)return;let n=e[Qt].indexOf(t);n!==-1&&e[Qt].splice(n,1)}function _n(e){let t=e[ye];return pt(t)?t[ye]:t}function jd(e){return e[ao]??=[]}function Ud(e){return e.cleanup??=[]}function Zm(e,t,n,r){let o=jd(t);o.push(n),e.firstCreatePass&&Ud(e).push(r,o.length-1)}var j={lFrame:dv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ad=!1;function Qm(){return j.lFrame.elementDepthCount}function Jm(){j.lFrame.elementDepthCount++}function $d(){j.lFrame.elementDepthCount--}function Bd(){return j.bindingsEnabled}function Xm(){return j.skipHydrationRootTNode!==null}function Vd(e){return j.skipHydrationRootTNode===e}function Hd(){j.skipHydrationRootTNode=null}function O(){return j.lFrame.lView}function se(){return j.lFrame.tView}function ev(e){return j.lFrame.contextLView=e,e[ue]}function tv(e){return j.lFrame.contextLView=null,e}function _e(){let e=zd();for(;e!==null&&e.type===64;)e=e.parent;return e}function zd(){return j.lFrame.currentTNode}function nv(){let e=j.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function lo(e,t){let n=j.lFrame;n.currentTNode=e,n.isParent=t}function Gd(){return j.lFrame.isParent}function rv(){j.lFrame.isParent=!1}function ov(){return j.lFrame.contextLView}function Wd(){return ad}function qd(e){let t=ad;return ad=e,t}function fo(){let e=j.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Kd(){return j.lFrame.bindingIndex}function iv(e){return j.lFrame.bindingIndex=e}function en(){return j.lFrame.bindingIndex++}function _i(e){let t=j.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function sv(){return j.lFrame.inI18n}function av(e,t){let n=j.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ja(t)}function cv(){return j.lFrame.currentDirectiveIndex}function Ja(e){j.lFrame.currentDirectiveIndex=e}function uv(e){let t=j.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Yd(){return j.lFrame.currentQueryIndex}function Xa(e){j.lFrame.currentQueryIndex=e}function AI(e){let t=e[N];return t.type===2?t.declTNode:t.type===1?e[nt]:null}function Zd(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=AI(i),o===null||(i=i[rr],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=j.lFrame=lv();return r.currentTNode=t,r.lView=e,!0}function ec(e){let t=lv(),n=e[N];j.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function lv(){let e=j.lFrame,t=e===null?null:e.child;return t===null?dv(e):t}function dv(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function fv(){let e=j.lFrame;return j.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Qd=fv;function tc(){let e=fv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function hv(e){return(j.lFrame.contextLView=Km(e,j.lFrame.contextLView))[ue]}function mt(){return j.lFrame.selectedIndex}function Mn(e){j.lFrame.selectedIndex=e}function Di(){let e=j.lFrame;return yi(e.tView,e.selectedIndex)}function pv(){j.lFrame.currentNamespace=Od}function gv(){NI()}function NI(){j.lFrame.currentNamespace=null}function mv(){return j.lFrame.currentNamespace}var vv=!0;function nc(){return vv}function rc(e){vv=e}function cd(e,t=null,n=null,r){let o=Jd(e,t,n,r);return o.resolveInjectorInitializers(),o}function Jd(e,t=null,n=null,r,o=new Set){let i=[n||je,Um(e)];return r=r||(typeof e=="object"?void 0:Jt(e)),new er(i,t||hi(),r||null,o)}var dt=class e{static THROW_IF_NOT_FOUND=Qn;static NULL=new ui;static create(t,n){if(Array.isArray(t))return cd({name:""},n,t,"");{let r=t.name??"";return cd({name:r},t.parent,t.providers,r)}}static \u0275prov=b({token:e,providedIn:"any",factory:()=>S(_d)});static __NG_ELEMENT_ID__=-1},he=new C(""),cr=(()=>{class e{static __NG_ELEMENT_ID__=RI;static __NG_ENV_ID__=n=>n}return e})(),ud=class extends cr{_lView;constructor(t){super(),this._lView=t}get destroyed(){return ar(this._lView)}onDestroy(t){let n=this._lView;return Fd(n,t),()=>Ym(n,t)}};function RI(){return new ud(O())}var Rt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},He=new C("",{providedIn:"root",factory:()=>{let e=y(de),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Rt),t.handleError(n))}}}),yv={provide:Xt,useValue:()=>void y(Rt),multi:!0};function Xd(e){return typeof e=="function"&&e[Me]!==void 0}function On(e,t){let[n,r,o]=Jl(e,t?.equal),i=n,s=i[Me];return i.set=r,i.update=o,i.asReadonly=Ev.bind(i),i}function Ev(){let e=this[Me];if(e.readonlyFn===void 0){let t=()=>this();t[Me]=e,e.readonlyFn=t}return e.readonlyFn}function ef(e){return Xd(e)&&typeof e.set=="function"}var Dn=class{},bi=new C("",{providedIn:"root",factory:()=>!1});var tf=new C(""),nf=new C(""),Pt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ie(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new $(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),oc=(()=>{class e{internalPendingTasks=y(Pt);scheduler=y(Dn);errorHandler=y(He);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ii(...e){}var rf=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>new ld})}return e})(),ld=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function xi(e){return{toString:e}.toString()}function FI(e){return typeof e=="function"}var gc=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ey(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var pr=(()=>{let e=()=>ty;return e.ngInherit=!0,e})();function ty(e){return e.type.prototype.ngOnChanges&&(e.setInput=UI),jI}function jI(){let e=ry(this),t=e?.current;if(t){let n=e.previous;if(n===Tn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function UI(e,t,n,r,o){let i=this.declaredInputs[r],s=ry(e)||$I(e,{previous:Tn,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new gc(u&&u.currentValue,n,c===Tn),ey(e,t,o,n)}var ny="__ngSimpleChanges__";function ry(e){return e[ny]||null}function $I(e,t){return e[ny]=t}var wv=[];var K=function(e,t=null,n){for(let r=0;r<wv.length;r++){let o=wv[r];o(e,t,n)}};function BI(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=ty(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function oy(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function lc(e,t,n){iy(e,t,3,n)}function dc(e,t,n,r){(e[k]&3)===n&&iy(e,t,n,r)}function of(e,t){let n=e[k];(n&3)===t&&(n&=16383,n+=1,e[k]=n)}function iy(e,t,n,r){let o=r!==void 0?e[or]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[or]+=65536),(a<i||i==-1)&&(VI(e,n,t,c),e[or]=(e[or]&4294901760)+c+2),c++}function _v(e,t){K(4,e,t);let n=x(null);try{t.call(e)}finally{x(n),K(5,e,t)}}function VI(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[k]>>14<e[or]>>16&&(e[k]&3)===t&&(e[k]+=16384,_v(a,i)):_v(a,i)}var po=-1,lr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function HI(e){return(e.flags&8)!==0}function zI(e){return(e.flags&16)!==0}function GI(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];WI(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function sy(e){return e===3||e===4||e===6}function WI(e){return e.charCodeAt(0)===64}function go(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Dv(e,n,o,null,t[++r]):Dv(e,n,o,null,null))}}return e}function Dv(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function ay(e){return e!==po}function mc(e){return e&32767}function qI(e){return e>>16}function vc(e,t){let n=qI(e),r=t;for(;n>0;)r=r[rr],n--;return r}var mf=!0;function yc(e){let t=mf;return mf=e,t}var KI=256,cy=KI-1,uy=5,YI=0,Lt={};function ZI(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(tr)&&(r=n[tr]),r==null&&(r=n[tr]=YI++);let o=r&cy,i=1<<o;t.data[e+(o>>uy)]|=i}function Ec(e,t){let n=ly(e,t);if(n!==-1)return n;let r=t[N];r.firstCreatePass&&(e.injectorIndex=t.length,sf(r.data,e),sf(t,null),sf(r.blueprint,null));let o=nh(e,t),i=e.injectorIndex;if(ay(o)){let s=mc(o),a=vc(o,t),c=a[N].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|c[s+u]}return t[i+8]=o,i}function sf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ly(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function nh(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=gy(o),r===null)return po;if(n++,o=o[rr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return po}function vf(e,t,n){ZI(e,t,n)}function QI(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(sy(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===t)return n[o+1];o=o+2}}}return null}function dy(e,t,n){if(n&8||e!==void 0)return e;Ha(t,"NodeInjector")}function fy(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[Sn],i=Fe(void 0);try{return o?o.get(t,r,n&8):Ed(t,r,n&8)}finally{Fe(i)}}return dy(r,t,n)}function hy(e,t,n,r=0,o){if(e!==null){if(t[k]&2048&&!(r&2)){let s=tT(e,t,n,r,Lt);if(s!==Lt)return s}let i=py(e,t,n,r,Lt);if(i!==Lt)return i}return fy(t,n,r,o)}function py(e,t,n,r,o){let i=XI(n);if(typeof i=="function"){if(!Zd(t,e,r))return r&1?dy(o,n,r):fy(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Ha(n);else return s}finally{Qd()}}else if(typeof i=="number"){let s=null,a=ly(e,t),c=po,u=r&1?t[Ke][nt]:null;for((a===-1||r&4)&&(c=a===-1?nh(e,t):t[a+8],c===po||!Iv(r,!1)?a=-1:(s=t[N],a=mc(c),t=vc(c,t)));a!==-1;){let l=t[N];if(bv(i,a,l.data)){let d=JI(a,t,n,s,r,u);if(d!==Lt)return d}c=t[a+8],c!==po&&Iv(r,t[N].data[a+8]===u)&&bv(i,a,t)?(s=l,a=mc(c),t=vc(c,t)):a=-1}}return o}function JI(e,t,n,r,o,i){let s=t[N],a=s.data[e+8],c=r==null?Rn(a)&&mf:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=fc(a,s,n,c,u);return l!==null?Si(t,s,l,a,o):Lt}function fc(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,u=e.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&kt(f)&&f.type===n)return c}return null}function Si(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof lr){let a=i;if(a.resolving){let f=Mm(s[n]);throw yd(f)}let c=yc(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?Fe(a.injectImpl):null,h=Zd(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&BI(n,s[n],t)}finally{d!==null&&Fe(d),yc(c),a.resolving=!1,Qd()}}return i}function XI(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(tr)?e[tr]:void 0;return typeof t=="number"?t>=0?t&cy:eT:t}function bv(e,t,n){let r=1<<e;return!!(n[t+(e>>uy)]&r)}function Iv(e,t){return!(e&2)&&!(e&1&&t)}var ur=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return hy(this._tNode,this._lView,t,Jn(r),n)}};function eT(){return new ur(_e(),O())}function kc(e){return xi(()=>{let t=e.prototype.constructor,n=t[ci]||yf(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[ci]||yf(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function yf(e){return dd(e)?()=>{let t=yf(Ce(e));return t&&t()}:wn(e)}function tT(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[k]&2048&&!uo(s);){let a=py(i,s,n,r|2,Lt);if(a!==Lt)return a;let c=i.parent;if(!c){let u=s[Nd];if(u){let l=u.get(n,Lt,r);if(l!==Lt)return l}c=gy(s),s=s[rr]}i=c}return o}function gy(e){let t=e[N],n=t.type;return n===2?t.declTNode:n===1?e[nt]:null}function ki(e){return QI(_e(),e)}function nT(){return _o(_e(),O())}function _o(e,t){return new jt(gt(e,t))}var jt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=nT}return e})();function rT(e){return e instanceof jt?e.nativeElement:e}function oT(){return this._results[Symbol.iterator]()}var wc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new me}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=Lm(t);(this._changesDetected=!Pm(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=oT};function my(e){return(e.flags&128)===128}var rh=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(rh||{}),vy=new Map,iT=0;function sT(){return iT++}function aT(e){vy.set(e[pi],e)}function Ef(e){vy.delete(e[pi])}var Tv="__ngContext__";function mo(e,t){xt(t)?(e[Tv]=t[pi],aT(t)):e[Tv]=t}function yy(e){return wy(e[co])}function Ey(e){return wy(e[tt])}function wy(e){for(;e!==null&&!pt(e);)e=e[tt];return e}var wf;function oh(e){wf=e}function _y(){if(wf!==void 0)return wf;if(typeof document<"u")return document;throw new w(210,!1)}var Pc=new C("",{providedIn:"root",factory:()=>cT}),cT="ng",Lc=new C(""),Do=new C("",{providedIn:"platform",factory:()=>"unknown"});var Fc=new C("",{providedIn:"root",factory:()=>_y().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uT="h",lT="b";var Dy="r";var by="di";var Iy=!1,Ty=new C("",{providedIn:"root",factory:()=>Iy});var dT=(e,t,n,r)=>{};function fT(e,t,n,r){dT(e,t,n,r)}function ih(e){return(e.flags&32)===32}var hT=()=>null;function Cy(e,t,n=!1){return hT(e,t,n)}function Sy(e,t){let n=e.contentQueries;if(n!==null){let r=x(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];Xa(i),a.contentQueries(2,t[s],s)}}}finally{x(r)}}}function _f(e,t,n){Xa(0);let r=x(null);try{t(e,n)}finally{x(r)}}function Ay(e,t,n){if(Md(t)){let r=x(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{x(r)}}}var tn=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(tn||{}),ic;function pT(){if(ic===void 0&&(ic=null,et.trustedTypes))try{ic=et.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ic}function jc(e){return pT()?.createHTML(e)||e}var sc;function gT(){if(sc===void 0&&(sc=null,et.trustedTypes))try{sc=et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return sc}function Cv(e){return gT()?.createScriptURL(e)||e}var nn=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ua})`}},Df=class extends nn{getTypeName(){return"HTML"}},bf=class extends nn{getTypeName(){return"Style"}},If=class extends nn{getTypeName(){return"Script"}},Tf=class extends nn{getTypeName(){return"URL"}},Cf=class extends nn{getTypeName(){return"ResourceURL"}};function Et(e){return e instanceof nn?e.changingThisBreaksApplicationSecurity:e}function rn(e,t){let n=Ny(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ua})`)}return n===t}function Ny(e){return e instanceof nn&&e.getTypeName()||null}function sh(e){return new Df(e)}function ah(e){return new bf(e)}function ch(e){return new If(e)}function uh(e){return new Tf(e)}function lh(e){return new Cf(e)}function mT(e){let t=new Af(e);return vT()?new Sf(t):t}var Sf=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(jc(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},Af=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=jc(t),n}};function vT(){try{return!!new window.DOMParser().parseFromString(jc(""),"text/html")}catch{return!1}}var yT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pi(e){return e=String(e),e.match(yT)?e:"unsafe:"+e}function on(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function Li(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var Ry=on("area,br,col,hr,img,wbr"),My=on("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Oy=on("rp,rt"),ET=Li(Oy,My),wT=Li(My,on("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_T=Li(Oy,on("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sv=Li(Ry,wT,_T,ET),xy=on("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),DT=on("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bT=on("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),IT=Li(xy,DT,bT),TT=on("script,style,template"),Nf=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,o=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){o.push(n),n=AT(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=ST(n);if(i){n=i;break}n=o.pop()}}return this.buf.join("")}startElement(t){let n=Av(t).toLowerCase();if(!Sv.hasOwnProperty(n))return this.sanitizedSomething=!0,!TT.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let o=0;o<r.length;o++){let i=r.item(o),s=i.name,a=s.toLowerCase();if(!IT.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;xy[a]&&(c=Pi(c)),this.buf.push(" ",s,'="',Nv(c),'"')}return this.buf.push(">"),!0}endElement(t){let n=Av(t).toLowerCase();Sv.hasOwnProperty(n)&&!Ry.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Nv(t))}};function CT(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function ST(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw ky(t);return t}function AT(e){let t=e.firstChild;if(t&&CT(e,t))throw ky(t);return t}function Av(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function ky(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var NT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RT=/([^\#-~ |!])/g;function Nv(e){return e.replace(/&/g,"&amp;").replace(NT,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(RT,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ac;function dh(e,t){let n=null;try{ac=ac||mT(e);let r=t?String(t):"";n=ac.getInertBodyElement(r);let o=5,i=r;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=ac.getInertBodyElement(r)}while(r!==i);let a=new Nf().sanitizeChildren(Rv(n)||n);return jc(a)}finally{if(n){let r=Rv(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function Rv(e){return"content"in e&&MT(e)?e.content:null}function MT(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var wt=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(wt||{});function Py(e){let t=Fy();return t?t.sanitize(wt.URL,e)||"":rn(e,"URL")?Et(e):Pi(ft(e))}function Ly(e){let t=Fy();if(t)return Cv(t.sanitize(wt.RESOURCE_URL,e)||"");if(rn(e,"ResourceURL"))return Cv(Et(e));throw new w(904,!1)}function OT(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Ly:Py}function fh(e,t,n){return OT(t,n)(e)}function Fy(){let e=O();return e&&e[Mt].sanitizer}function jy(e){return e instanceof Function?e():e}function xT(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Uy="ng-template";function kT(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&xT(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(hh(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function hh(e){return e.type===4&&e.value!==Uy}function PT(e,t,n){let r=e.type===4&&!n?Uy:e.value;return t===r}function LT(e,t,n){let r=4,o=e.attrs,i=o!==null?UT(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!vt(r)&&!vt(c))return!1;if(s&&vt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!PT(e,c,n)||c===""&&t.length===1){if(vt(r))return!1;s=!0}}else if(r&8){if(o===null||!kT(e,o,c,n)){if(vt(r))return!1;s=!0}}else{let u=t[++a],l=FT(c,o,hh(e),n);if(l===-1){if(vt(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(vt(r))return!1;s=!0}}}}return vt(r)||s}function vt(e){return(e&1)===0}function FT(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return $T(t,e)}function jT(e,t,n=!1){for(let r=0;r<t.length;r++)if(LT(e,t[r],n))return!0;return!1}function UT(e){for(let t=0;t<e.length;t++){let n=e[t];if(sy(n))return t}return e.length}function $T(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Mv(e,t){return e?":not("+t.trim()+")":t}function BT(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!vt(s)&&(t+=Mv(i,o),o=""),r=s,i=i||!vt(r);n++}return o!==""&&(t+=Mv(i,o)),t}function VT(e){return e.map(BT).join(",")}function HT(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!vt(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var De={};function zT(e,t){return e.createText(t)}function GT(e,t,n){e.setValue(t,n)}function $y(e,t,n){return e.createElement(t,n)}function _c(e,t,n,r,o){e.insertBefore(t,n,r,o)}function By(e,t,n){e.appendChild(t,n)}function Ov(e,t,n,r,o){r!==null?_c(e,t,n,r,o):By(e,t,n)}function Vy(e,t,n,r){e.removeChild(null,t,n,r)}function WT(e,t,n){e.setAttribute(t,"style",n)}function qT(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Hy(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&GI(e,t,r),o!==null&&qT(e,t,o),i!==null&&WT(e,t,i)}function ph(e,t,n,r,o,i,s,a,c,u,l){let d=ie+r,h=d+o,f=KT(d,h),p=typeof u=="function"?u():u;return f[N]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function KT(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:De);return n}function YT(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=ph(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function gh(e,t,n,r,o,i,s,a,c,u,l){let d=t.blueprint.slice();return d[ht]=o,d[k]=r|4|128|8|64|1024,(u!==null||e&&e[k]&2048)&&(d[k]|=2048),Pd(d),d[ye]=d[rr]=e,d[ue]=n,d[Mt]=s||e&&e[Mt],d[Z]=a||e&&e[Z],d[Sn]=c||e&&e[Sn]||null,d[nt]=i,d[pi]=sT(),d[so]=l,d[Nd]=u,d[Ke]=t.type==2?e[Ke]:d,d}function ZT(e,t,n){let r=gt(t,e),o=YT(n),i=e[Mt].rendererFactory,s=mh(e,gh(e,o,null,zy(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function zy(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Gy(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function mh(e,t){return e[co]?e[Ad][tt]=t:e[co]=t,e[Ad]=t,t}function QT(e=1){Wy(se(),O(),mt()+e,!1)}function Wy(e,t,n,r){if(!r)if((t[k]&3)===3){let i=e.preOrderCheckHooks;i!==null&&lc(t,i,n)}else{let i=e.preOrderHooks;i!==null&&dc(t,i,0,n)}Mn(n)}var Uc=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Uc||{});function Rf(e,t,n,r){let o=x(null);try{let[i,s,a]=e.inputs[n],c=null;(s&Uc.SignalBased)!==0&&(c=t[i][Me]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):ey(t,c,i,r)}finally{x(o)}}var Ft=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Ft||{}),JT;function vh(e,t){return JT(e,t)}var vo=new Set,yh=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(yh||{}),Fi=new C(""),xv=new Set;function gr(e){xv.has(e)||(xv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var qy=!1,Mf=class extends me{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Hm()&&(this.destroyRef=y(cr,{optional:!0})??void 0,this.pendingTasks=y(Pt,{optional:!0})??void 0)}emit(t){let n=x(null);try{super.next(t)}finally{x(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof re&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Oe=Mf;function Ky(e){let t,n;function r(){e=Ii;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function kv(e){return queueMicrotask(()=>e()),()=>{e=Ii}}var Eh="isAngularZone",Dc=Eh+"_ID",XT=0,pe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Oe(!1);onMicrotaskEmpty=new Oe(!1);onStable=new Oe(!1);onError=new Oe(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=qy}=t;if(typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,nC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Eh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new w(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,eC,Ii,Ii);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},eC={};function wh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function tC(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Ky(()=>{e.callbackScheduled=!1,Of(e),e.isCheckStableRunning=!0,wh(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Of(e)}function nC(e){let t=()=>{tC(e)},n=XT++;e._inner=e._inner.fork({name:"angular",properties:{[Eh]:!0,[Dc]:n,[Dc+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(rC(c))return r.invokeTask(i,s,a,c);try{return Pv(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Lv(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return Pv(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!oC(c)&&t(),Lv(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Of(e),wh(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Of(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Pv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Lv(e){e._nesting--,wh(e)}var bc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Oe;onMicrotaskEmpty=new Oe;onStable=new Oe;onError=new Oe;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function rC(e){return Yy(e,"__ignore_ng_zone__")}function oC(e){return Yy(e,"__scheduler_tick__")}function Yy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Zy=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})();var iC=new C("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Qy(e,t){let n=e.get(iC);if(Array.isArray(t))for(let r of t)n.queue.add(r);else n.queue.add(t);n.scheduler&&n.scheduler(e)}function sC(e,t){for(let[n,r]of t)Qy(e,r.animateFns)}function Fv(e,t,n,r){let o=e?.[ir]?.enter;t!==null&&o&&o.has(n.index)&&sC(r,o)}function ho(e,t,n,r,o,i,s,a){if(o!=null){let c,u=!1;pt(o)?c=o:xt(o)&&(u=!0,o=o[ht]);let l=rt(o);e===0&&r!==null?(Fv(a,r,i,n),s==null?By(t,r,l):_c(t,r,l,s||null,!0)):e===1&&r!==null?(Fv(a,r,i,n),_c(t,r,l,s||null,!0)):e===2?jv(a,i,n,d=>{Vy(t,l,u,d)}):e===3&&jv(a,i,n,()=>{t.destroyNode(l)}),c!=null&&EC(t,e,n,c,i,r,s)}}function aC(e,t){Jy(e,t),t[ht]=null,t[nt]=null}function cC(e,t,n,r,o,i){r[ht]=o,r[nt]=t,Bc(e,r,n,1,o,i)}function Jy(e,t){t[Mt].changeDetectionScheduler?.notify(9),Bc(e,t,t[Z],2,null,null)}function uC(e){let t=e[co];if(!t)return af(e[N],e);for(;t;){let n=null;if(xt(t))n=t[co];else{let r=t[fe];r&&(n=r)}if(!n){for(;t&&!t[tt]&&t!==e;)xt(t)&&af(t[N],t),t=t[ye];t===null&&(t=e),xt(t)&&af(t[N],t),n=t&&t[tt]}t=n}}function _h(e,t){let n=e[sr],r=n.indexOf(t);n.splice(r,1)}function $c(e,t){if(ar(t))return;let n=t[Z];n.destroyNode&&Bc(e,t,n,3,null,null),uC(t)}function af(e,t){if(ar(t))return;let n=x(null);try{t[k]&=-129,t[k]|=256,t[Ye]&&si(t[Ye]),fC(e,t),dC(e,t),t[N].type===1&&t[Z].destroy();let r=t[An];if(r!==null&&pt(t[ye])){r!==t[ye]&&_h(r,t);let o=t[Ot];o!==null&&o.detachView(e)}Ef(t)}finally{x(n)}}function jv(e,t,n,r){let o=e?.[ir];if(o==null||o.leave==null||!o.leave.has(t.index))return r(!1);if(o.skipLeaveAnimations)return o.skipLeaveAnimations=!1,r(!1);e&&vo.add(e),Qy(n,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}o.running=Promise.allSettled(a),lC(e,r)}else e&&vo.delete(e),r(!1)})}function lC(e,t){let n=e[ir]?.running;if(n){n.then(()=>{e[ir].running=void 0,vo.delete(e),t(!0)});return}t(!1)}function dC(e,t){let n=e.cleanup,r=t[ao];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[ao]=null);let o=t[Qt];if(o!==null){t[Qt]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[gi];if(i!==null){t[gi]=null;for(let s of i)s.destroy()}}function fC(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof lr)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];K(4,a,c);try{c.call(a)}finally{K(5,a,c)}}else{K(4,o,i);try{i.call(o)}finally{K(5,o,i)}}}}}function hC(e,t,n){return pC(e,t.parent,n)}function pC(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[ht];if(Rn(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===tn.None||o===tn.Emulated)return null}return gt(r,n)}function gC(e,t,n){return vC(e,t,n)}function mC(e,t,n){return e.type&40?gt(e,n):null}var vC=mC,Uv;function Dh(e,t,n,r){let o=hC(e,r,t),i=t[Z],s=r.parent||t[nt],a=gC(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Ov(i,o,n[c],a,!1);else Ov(i,o,n,a,!1);Uv!==void 0&&Uv(i,r,t,n,o)}function Ti(e,t){if(t!==null){let n=t.type;if(n&3)return gt(t,e);if(n&4)return xf(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ti(e,r);{let o=e[t.index];return pt(o)?xf(-1,o):rt(o)}}else{if(n&128)return Ti(e,t.next);if(n&32)return vh(t,e)()||rt(e[t.index]);{let r=Xy(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=_n(e[Ke]);return Ti(o,r)}else return Ti(e,t.next)}}}return null}function Xy(e,t){if(t!==null){let r=e[Ke][nt],o=t.projection;return r.projection[o]}return null}function xf(e,t){let n=fe+e+1;if(n<t.length){let r=t[n],o=r[N].firstChild;if(o!==null)return Ti(r,o)}return t[Nn]}function bh(e,t,n,r,o,i,s){for(;n!=null;){let a=r[Sn];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&t===0&&(c&&mo(rt(c),r),n.flags|=2),!ih(n))if(u&8)bh(e,t,n.child,r,o,i,!1),ho(t,e,a,o,c,n,i,r);else if(u&32){let l=vh(n,r),d;for(;d=l();)ho(t,e,a,o,d,n,i,r);ho(t,e,a,o,c,n,i,r)}else u&16?yC(e,t,r,n,o,i):ho(t,e,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function Bc(e,t,n,r,o,i){bh(n,r,e.firstChild,t,o,i,!1)}function yC(e,t,n,r,o,i){let s=n[Ke],c=s[nt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ho(t,e,n[Sn],o,l,r,i,n)}else{let u=c,l=s[ye];my(r)&&(u.flags|=128),bh(e,t,u,l,o,i,!0)}}function EC(e,t,n,r,o,i,s){let a=r[Nn],c=rt(r);a!==c&&ho(t,e,n,i,a,o,s);for(let u=fe;u<r.length;u++){let l=r[u];Bc(l[N],l,e,t,i,a)}}function wC(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Ft.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ft.Important),e.setStyle(n,r,o,i))}}function eE(e,t,n,r,o){let i=mt(),s=r&2;try{Mn(-1),s&&t.length>ie&&Wy(e,t,ie,!1),K(s?2:0,o,n),n(r,o)}finally{Mn(i),K(s?3:1,o,n)}}function Ih(e,t,n){CC(e,t,n),(n.flags&64)===64&&SC(e,t,n)}function Vc(e,t,n=gt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function _C(e,t,n,r){let i=r.get(Ty,Iy)||n===tn.ShadowDom,s=e.selectRootElement(t,i);return DC(s),s}function DC(e){bC(e)}var bC=()=>null;function IC(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function tE(e,t,n,r,o,i){let s=t[N];if(Th(e,s,t,n,r)){Rn(e)&&TC(t,e.index);return}e.type&3&&(n=IC(n)),nE(e,t,n,r,o,i)}function nE(e,t,n,r,o,i){if(e.type&3){let s=gt(e,t);r=i!=null?i(r,e.value||"",n):r,o.setProperty(s,n,r)}else e.type&12}function TC(e,t){let n=ot(t,e);n[k]&16||(n[k]|=64)}function CC(e,t,n){let r=n.directiveStart,o=n.directiveEnd;Rn(n)&&ZT(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Ec(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Si(t,e,s,n);if(mo(c,t),i!==null&&MC(t,s-r,c,a,n,i),kt(a)){let u=ot(n.index,t);u[ue]=Si(t,e,s,n)}}}function SC(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=cv();try{Mn(i);for(let a=r;a<o;a++){let c=e.data[a],u=t[a];Ja(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&AC(c,u)}}finally{Mn(-1),Ja(s)}}function AC(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function rE(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];jT(t,i.selectors,!1)&&(r??=[],kt(i)?r.unshift(i):r.push(i))}return r}function NC(e,t,n,r,o,i){let s=gt(e,t);RC(t[Z],s,i,e.value,n,r,o)}function RC(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?ft(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function MC(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Rf(r,n,c,u)}}function oE(e,t,n,r,o){let i=ie+n,s=t[N],a=o(s,t,e,r,n);t[i]=a,lo(e,!0);let c=e.type===2;return c?(Hy(t[Z],a,e),(Qm()===0||vi(e))&&mo(a,t),Jm()):mo(a,t),nc()&&(!c||!ih(e))&&Dh(s,t,a,e),e}function iE(e){let t=e;return Gd()?rv():(t=t.parent,lo(t,!1)),t}function OC(e,t){let n=e[Sn];if(!n)return;let r;try{r=n.get(He,null)}catch{r=null}r?.(t)}function Th(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=t.data[u];Rf(d,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=t.data[c];Rf(l,u,r,o),a=!0}return a}function xC(e,t){let n=ot(t,e),r=n[N];kC(r,n);let o=n[ht];o!==null&&n[so]===null&&(n[so]=Cy(o,n[Sn])),K(18),Ch(r,n,n[ue]),K(19,n[ue])}function kC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Ch(e,t,n){ec(t);try{let r=e.viewQuery;r!==null&&_f(1,r,n);let o=e.template;o!==null&&eE(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ot]?.finishViewCreation(e),e.staticContentQueries&&Sy(e,t),e.staticViewQueries&&_f(2,e.viewQuery,n);let i=e.components;i!==null&&PC(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[k]&=-5,tc()}}function PC(e,t){for(let n=0;n<t.length;n++)xC(e,t[n])}function Hc(e,t,n,r){let o=x(null);try{let i=t.tView,a=e[k]&4096?4096:16,c=gh(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[An]=u;let l=e[Ot];return l!==null&&(c[Ot]=l.createEmbeddedView(i)),Ch(i,c,n),c}finally{x(o)}}function Ai(e,t){return!t||t.firstChild===null||my(e)}function Ni(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(rt(i)),pt(i)&&sE(i,r);let s=n.type;if(s&8)Ni(e,t,n.child,r);else if(s&32){let a=vh(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Xy(t,n);if(Array.isArray(a))r.push(...a);else{let c=_n(t[Ke]);Ni(c[N],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function sE(e,t){for(let n=fe;n<e.length;n++){let r=e[n],o=r[N].firstChild;o!==null&&Ni(r[N],r,o,t)}e[Nn]!==e[ht]&&t.push(e[Nn])}function aE(e){if(e[Ka]!==null){for(let t of e[Ka])t.impl.addSequence(t);e[Ka].length=0}}var cE=[];function LC(e){return e[Ye]??FC(e)}function FC(e){let t=cE.pop()??Object.create(UC);return t.lView=e,t}function jC(e){e.lView[Ye]!==e&&(e.lView=null,cE.push(e))}var UC=Y(D({},Xr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{wi(e.lView)},consumerOnSignalRead(){this.lView[Ye]=this}});function $C(e){let t=e[Ye]??Object.create(BC);return t.lView=e,t}var BC=Y(D({},Xr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=_n(e.lView);for(;t&&!uE(t[N]);)t=_n(t);t&&Ld(t)},consumerOnSignalRead(){this.lView[Ye]=this}});function uE(e){return e.type!==2}function lE(e){if(e[gi]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[gi])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[k]&8192)}}var VC=100;function dE(e,t=0){let r=e[Mt].rendererFactory,o=!1;o||r.begin?.();try{HC(e,t)}finally{o||r.end?.()}}function HC(e,t){let n=Wd();try{qd(!0),kf(e,t);let r=0;for(;Ei(e);){if(r===VC)throw new w(103,!1);r++,kf(e,1)}}finally{qd(n)}}function zC(e,t,n,r){if(ar(t))return;let o=t[k],i=!1,s=!1;ec(t);let a=!0,c=null,u=null;i||(uE(e)?(u=LC(t),c=to(u)):Ra()===null?(a=!1,u=$C(t),c=to(u)):t[Ye]&&(si(t[Ye]),t[Ye]=null));try{Pd(t),iv(e.bindingStartIndex),n!==null&&eE(e,t,n,2,r);let l=(o&3)===3;if(!i)if(l){let f=e.preOrderCheckHooks;f!==null&&lc(t,f,null)}else{let f=e.preOrderHooks;f!==null&&dc(t,f,0,null),of(t,0)}if(s||GC(t),lE(t),fE(t,0),e.contentQueries!==null&&Sy(e,t),!i)if(l){let f=e.contentCheckHooks;f!==null&&lc(t,f)}else{let f=e.contentHooks;f!==null&&dc(t,f,1),of(t,1)}qC(e,t);let d=e.components;d!==null&&pE(t,d,0);let h=e.viewQuery;if(h!==null&&_f(2,h,r),!i)if(l){let f=e.viewCheckHooks;f!==null&&lc(t,f)}else{let f=e.viewHooks;f!==null&&dc(t,f,2),of(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[qa]){for(let f of t[qa])f();t[qa]=null}i||(aE(t),t[k]&=-73)}catch(l){throw i||wi(t),l}finally{u!==null&&(oi(u,c),a&&jC(u)),tc()}}function fE(e,t){for(let n=yy(e);n!==null;n=Ey(n))for(let r=fe;r<n.length;r++){let o=n[r];hE(o,t)}}function GC(e){for(let t=yy(e);t!==null;t=Ey(t)){if(!(t[k]&2))continue;let n=t[sr];for(let r=0;r<n.length;r++){let o=n[r];Ld(o)}}}function WC(e,t,n){K(18);let r=ot(t,e);hE(r,n),K(19,r[ue])}function hE(e,t){Za(e)&&kf(e,t)}function kf(e,t){let r=e[N],o=e[k],i=e[Ye],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&ii(i)),s||=!1,i&&(i.dirty=!1),e[k]&=-9217,s)zC(r,e,r.template,e[ue]);else if(o&8192){let a=x(null);try{lE(e),fE(e,1);let c=r.components;c!==null&&pE(e,c,1),aE(e)}finally{x(a)}}}function pE(e,t,n){for(let r=0;r<t.length;r++)WC(e,t[r],n)}function qC(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Mn(~o);else{let i=o,s=n[++r],a=n[++r];av(s,i);let c=t[i];K(24,c),a(2,c),K(25,c)}}}finally{Mn(-1)}}function Sh(e,t){let n=Wd()?64:1088;for(e[Mt].changeDetectionScheduler?.notify(t);e;){e[k]|=n;let r=_n(e);if(uo(e)&&!r)return e;e=r}return null}function gE(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function mE(e,t){let n=fe+t;if(n<e.length)return e[n]}function zc(e,t,n,r=!0){let o=t[N];if(KC(o,t,e,n),r){let s=xf(n,e),a=t[Z],c=a.parentNode(e[Nn]);c!==null&&cC(o,e[nt],a,t,c,s)}let i=t[so];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function vE(e,t){let n=Ri(e,t);return n!==void 0&&$c(n[N],n),n}function Ri(e,t){if(e.length<=fe)return;let n=fe+t,r=e[n];if(r){let o=r[An];o!==null&&o!==e&&_h(o,r),t>0&&(e[n-1][tt]=r[tt]);let i=di(e,fe+t);aC(r[N],r);let s=i[Ot];s!==null&&s.detachView(i[N]),r[ye]=null,r[tt]=null,r[k]&=-129}return r}function KC(e,t,n,r){let o=fe+r,i=n.length;r>0&&(n[o-1][tt]=t),r<i-fe?(t[tt]=n[o],wd(n,fe+r,t)):(n.push(t),t[tt]=null),t[ye]=n;let s=t[An];s!==null&&n!==s&&yE(s,t);let a=t[Ot];a!==null&&a.insertView(e),Qa(t),t[k]|=128}function yE(e,t){let n=e[sr],r=t[ye];if(xt(r))e[k]|=2;else{let o=r[ye][Ke];t[Ke]!==o&&(e[k]|=2)}n===null?e[sr]=[t]:n.push(t)}var xn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[N];return Ni(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ue]}set context(t){this._lView[ue]=t}get destroyed(){return ar(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ye];if(pt(t)){let n=t[mi],r=n?n.indexOf(this):-1;r>-1&&(Ri(t,r),di(n,r))}this._attachedToViewContainer=!1}$c(this._lView[N],this._lView)}onDestroy(t){Fd(this._lView,t)}markForCheck(){Sh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){Qa(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,dE(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=uo(this._lView),n=this._lView[An];n!==null&&!t&&_h(n,this._lView),Jy(this._lView[N],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=t;let n=uo(this._lView),r=this._lView[An];r!==null&&!n&&yE(r,this._lView),Qa(this._lView)}};var yo=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=YC;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=Hc(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new xn(i)}}return e})();function YC(){return Ah(_e(),O())}function Ah(e,t){return e.type&4?new yo(t,e,_o(e,t)):null}function ji(e,t,n,r,o){let i=e.data[t];if(i===null)i=ZC(e,t,n,r,o),sv()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=nv();i.injectorIndex=s===null?-1:s.injectorIndex}return lo(i,!0),i}function ZC(e,t,n,r,o){let i=zd(),s=Gd(),a=s?i:i&&i.parent,c=e.data[t]=JC(e,a,n,t,r,o);return QC(e,c,i,s),c}function QC(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function JC(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Xm()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var XU=new RegExp(`^(\\d+)*(${lT}|${uT})*(.*)`);function XC(e){let t=e[Rd]??[],r=e[ye][Z],o=[];for(let i of t)i.data[by]!==void 0?o.push(i):eS(i,r);e[Rd]=o}function eS(e,t){let n=0,r=e.firstChild;if(r){let o=e.data[Dy];for(;n<o;){let i=r.nextSibling;Vy(t,r,!1),r=i,n++}}}var tS=()=>null,nS=()=>null;function Pf(e,t){return tS(e,t)}function EE(e,t,n){return nS(e,t,n)}var wE=class{},Gc=class{},Lf=class{resolveComponentFactory(t){throw new w(917,!1)}},Ui=class{static NULL=new Lf},dr=class{},bo=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>rS()}return e})();function rS(){let e=O(),t=_e(),n=ot(t.index,e);return(xt(n)?n:e)[Z]}var _E=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>null})}return e})();var hc={},Ff=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,hc,r);return o!==hc||n===hc?o:this.parentInjector.get(t,n,r)}};function Ic(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=$a(o,a);else if(i==2){let c=a,u=t[++s];r=$a(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function ae(e,t=0){let n=O();if(n===null)return S(e,t);let r=_e();return hy(r,n,Ce(e),t)}function DE(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}sS(e,t,n,a,i,c,u)}i!==null&&r!==null&&oS(n,r,i)}function oS(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new w(-301,!1);r.push(t[o],i)}}function iS(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function sS(e,t,n,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&kt(f)&&(c=!0,iS(e,n,h)),vf(Ec(n,t),e,f.type)}fS(n,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=Gy(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=go(n.mergedAttrs,f.hostAttrs),cS(e,n,t,d,f),dS(d,f,o),s!==null&&s.has(f)){let[m,g]=s.get(f);n.directiveToIndex.set(f.type,[d,m+n.directiveStart,g+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}aS(e,n,i)}function aS(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))$v(0,t,o,r),$v(1,t,o,r),Vv(t,r,!1);else{let i=n.get(o);Bv(0,t,i,r),Bv(1,t,i,r),Vv(t,r,!0)}}}function $v(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),bE(t,i)}}function Bv(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),bE(t,s)}}function bE(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Vv(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||hh(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===t){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function cS(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=wn(o.type,!0)),s=new lr(i,kt(o),ae,null);e.blueprint[r]=s,n[r]=s,uS(e,t,r,Gy(e,n,o.hostVars,De),o)}function uS(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;lS(s)!=a&&s.push(a),s.push(n,r,i)}}function lS(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function dS(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;kt(t)&&(n[""]=e)}}function fS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function IE(e,t,n,r,o,i,s,a){let c=t[N],u=c.consts,l=it(u,s),d=ji(c,e,n,r,l);return i&&DE(c,t,d,it(u,a),o),d.mergedAttrs=go(d.mergedAttrs,d.attrs),d.attrs!==null&&Ic(d,d.attrs,!1),d.mergedAttrs!==null&&Ic(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function TE(e,t){oy(e,t),Md(t)&&e.queries.elementEnd(t)}function hS(e,t,n,r,o,i){let s=t.consts,a=it(s,o),c=ji(t,e,n,r,a);if(c.mergedAttrs=go(c.mergedAttrs,c.attrs),i!=null){let u=it(s,i);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&Ic(c,c.attrs,!1),c.mergedAttrs!==null&&Ic(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Wc(e,t,n){return e[t]=n}function pS(e,t){return e[t]}function ze(e,t,n){if(n===De)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Nh(e,t,n,r){let o=ze(e,t,n);return ze(e,t+1,r)||o}function CE(e,t,n,r,o){let i=Nh(e,t,n,r);return ze(e,t+2,o)||i}function pc(e,t,n){return function r(o){let i=Rn(e)?ot(e.index,t):t;Sh(i,5);let s=t[ue],a=Hv(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Hv(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Hv(e,t,n,r){let o=x(null);try{return K(6,t,n),n(r)!==!1}catch(i){return OC(e,i),!1}finally{K(7,t,n),x(o)}}function SE(e,t,n,r,o,i,s,a){let c=vi(e),u=!1,l=null;if(!r&&c&&(l=mS(t,n,i,e.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=gt(e,n),h=r?r(d):d;fT(n,h,i,a);let f=o.listen(h,i,a);if(!gS(i)){let p=r?m=>r(rt(m[e.index])):e.index;AE(p,t,n,i,a,f,!1)}}return u}function gS(e){return e.startsWith("animation")||e.startsWith("transition")}function mS(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[ao],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function AE(e,t,n,r,o,i,s){let a=t.firstCreatePass?Ud(t):null,c=jd(n),u=c.length;c.push(o,i),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function zv(e,t,n,r,o,i){let s=t[n],a=t[N],u=a.data[n].outputs[r],d=s[u].subscribe(i);AE(e.index,a,t,o,i,d,!0)}var jf=Symbol("BINDING");var Tc=class extends Ui{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Cn(t);return new Eo(n,this.ngModule)}};function vS(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&Uc.SignalBased)!==0};return o&&(i.transform=o),i})}function yS(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function ES(e,t,n){let r=t instanceof de?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Ff(n,r):n}function wS(e){let t=e.get(dr,null);if(t===null)throw new w(407,!1);let n=e.get(_E,null),r=e.get(Dn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function _S(e,t){let n=NE(e);return $y(t,n,n==="svg"?Od:n==="math"?Gm:null)}function NE(e){return(e.selectors[0][0]||"div").toLowerCase()}var Eo=class extends Gc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=vS(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=yS(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=VT(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){K(22);let a=x(null);try{let c=this.componentDef,u=DS(r,c,s,i),l=ES(c,o||this.ngModule,t),d=wS(l),h=d.rendererFactory.createRenderer(null,c),f=r?_C(h,r,c.encapsulation,l):_S(c,h),p=s?.some(Gv)||i?.some(v=>typeof v!="function"&&v.bindings.some(Gv)),m=gh(null,u,null,512|zy(c),null,null,d,h,l,null,Cy(f,l,!0));m[ie]=f,ec(m);let g=null;try{let v=IE(ie,m,2,"#host",()=>u.directiveRegistry,!0,0);Hy(h,f,v),mo(f,m),Ih(u,m,v),Ay(u,v,m),TE(u,v),n!==void 0&&IS(v,this.ngContentSelectors,n),g=ot(v.index,m),m[ue]=g[ue],Ch(u,m,null)}catch(v){throw g!==null&&Ef(g),Ef(m),v}finally{K(23),tc()}return new Cc(this.componentType,m,!!p)}finally{x(a)}}};function DS(e,t,n,r){let o=e?["ng-version","20.3.9"]:HT(t.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[jf].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let h of d.bindings){a+=h[jf].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[t];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,h=Id(d);c.push(h)}return ph(0,null,bS(i,s),1,a,c,null,null,null,[o],null)}function bS(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Gv(e){let t=e[jf].kind;return t==="input"||t==="twoWay"}var Cc=class extends wE{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=yi(n[N],ie),this.location=_o(this._tNode,n),this.instance=ot(this._tNode.index,n)[ue],this.hostView=this.changeDetectorRef=new xn(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=Th(r,o[N],o,t,n);this.previousInputValues.set(t,n);let s=ot(r.index,o);Sh(s,1)}get injector(){return new ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function IS(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var mr=(()=>{class e{static __NG_ELEMENT_ID__=TS}return e})();function TS(){let e=_e();return ME(e,O())}var CS=mr,RE=class extends CS{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return _o(this._hostTNode,this._hostLView)}get injector(){return new ur(this._hostTNode,this._hostLView)}get parentInjector(){let t=nh(this._hostTNode,this._hostLView);if(ay(t)){let n=vc(t,this._hostLView),r=mc(t),o=n[N].data[r+8];return new ur(o,n)}else return new ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Wv(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-fe}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Pf(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Ai(this._hostTNode,s)),a}createComponent(t,n,r,o,i,s,a){let c=t&&!FI(t),u;if(c)u=n;else{let g=n||{};u=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef,s=g.directives,a=g.bindings}let l=c?t:new Eo(Cn(t)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let v=(c?d:this.parentInjector).get(de,null);v&&(i=v)}let h=Cn(l.componentType??{}),f=Pf(this._lContainer,h?.id??null),p=f?.firstChild??null,m=l.create(d,o,p,i,s,a);return this.insertImpl(m.hostView,u,Ai(this._hostTNode,f)),m}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(qm(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[ye],u=new RE(c,c[nt],c[ye]);u.detach(u.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return zc(s,o,i,r),t.attachToViewContainerRef(),wd(cf(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Wv(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Ri(this._lContainer,n);r&&(di(cf(this._lContainer),n),$c(r[N],r))}detach(t){let n=this._adjustIndex(t,-1),r=Ri(this._lContainer,n);return r&&di(cf(this._lContainer),n)!=null?new xn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Wv(e){return e[mi]}function cf(e){return e[mi]||(e[mi]=[])}function ME(e,t){let n,r=t[e.index];return pt(r)?n=r:(n=gE(r,t,null,e),t[e.index]=n,mh(t,n)),AS(n,t,e,r),new RE(n,e,t)}function SS(e,t){let n=e[Z],r=n.createComment(""),o=gt(t,e),i=n.parentNode(o);return _c(n,i,r,n.nextSibling(o),!1),r}var AS=MS,NS=()=>!1;function RS(e,t,n){return NS(e,t,n)}function MS(e,t,n,r){if(e[Nn])return;let o;n.type&8?o=rt(r):o=SS(t,n),e[Nn]=o}var Uf=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},$f=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Rh(t,n).matches!==null&&this.queries[n].setDirty()}},Bf=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=US(t):this.predicate=t}},Vf=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Hf=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,n,OS(n,i)),this.matchTNodeWithReadOption(t,n,fc(n,t,i,!1,!1))}else r===yo?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,fc(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===jt||o===mr||o===yo&&n.type&4)this.addMatch(n.index,-2);else{let i=fc(n,t,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function OS(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function xS(e,t){return e.type&11?_o(e,t):e.type&4?Ah(e,t):null}function kS(e,t,n,r){return n===-1?xS(t,e):n===-2?PS(e,t,r):Si(e,e[N],n,t)}function PS(e,t,n){if(n===jt)return _o(t,e);if(n===yo)return Ah(t,e);if(n===mr)return ME(t,e)}function OE(e,t,n,r){let o=t[Ot].queries[r];if(o.matches===null){let i=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=i[u];a.push(kS(t,l,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function zf(e,t,n,r){let o=e.queries.getByIndex(n),i=o.matches;if(i!==null){let s=OE(e,t,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let u=i[a+1],l=t[-c];for(let d=fe;d<l.length;d++){let h=l[d];h[An]===h[ye]&&zf(h[N],h,u,r)}if(l[sr]!==null){let d=l[sr];for(let h=0;h<d.length;h++){let f=d[h];zf(f[N],f,u,r)}}}}}return r}function LS(e,t){return e[Ot].queries[t].queryList}function FS(e,t,n){let r=new wc((n&4)===4);return Zm(e,t,r,r.destroy),(t[Ot]??=new $f).queries.push(new Uf(r))-1}function jS(e,t,n,r){let o=se();if(o.firstCreatePass){let i=_e();$S(o,new Bf(t,n,r),i.index),BS(o,e),(n&2)===2&&(o.staticContentQueries=!0)}return FS(o,O(),n)}function US(e){return e.split(",").map(t=>t.trim())}function $S(e,t,n){e.queries===null&&(e.queries=new Vf),e.queries.track(new Hf(t,n))}function BS(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function Rh(e,t){return e.queries.getByIndex(t)}function VS(e,t){let n=e[N],r=Rh(n,t);return r.crossesNgTemplate?zf(n,e,t,[]):OE(n,e,r,t)}var fr=class{},qc=class{};var Sc=class extends fr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Tc(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=bd(t);this._bootstrapComponents=jy(i.bootstrap),this._r3Injector=Jd(t,n,[{provide:fr,useValue:this},{provide:Ui,useValue:this.componentFactoryResolver},...r],Jt(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Ac=class extends qc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Sc(this.moduleType,t,[])}};var Mi=class extends fr{injector;componentFactoryResolver=new Tc(this);instance=null;constructor(t){super();let n=new er([...t.providers,{provide:fr,useValue:this},{provide:Ui,useValue:this.componentFactoryResolver}],t.parent||hi(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function $i(e,t,n=null){return new Mi({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var HS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Td(!1,n.type),o=r.length>0?$i([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(S(de))})}return e})();function Mh(e){return xi(()=>{let t=xE(e),n=Y(D({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===rh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(HS).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||tn.Emulated,styles:e.styles||je,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&gr("NgStandalone"),kE(n);let r=e.dependencies;return n.directiveDefs=qv(r,zS),n.pipeDefs=qv(r,jm),n.id=qS(n),n})}function zS(e){return Cn(e)||Id(e)}function vr(e){return xi(()=>({type:e.type,bootstrap:e.bootstrap||je,declarations:e.declarations||je,imports:e.imports||je,exports:e.exports||je,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function GS(e,t){if(e==null)return Tn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Uc.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function WS(e){if(e==null)return Tn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function kn(e){return xi(()=>{let t=xE(e);return kE(t),t})}function Oh(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function xE(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Tn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||je,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:GS(e.inputs,t),outputs:WS(e.outputs),debugInfo:null}}function kE(e){e.features?.forEach(t=>t(e))}function qv(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let i=t(o);i!==null&&r.push(i)}return r}:null}function qS(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function KS(e){return Object.getPrototypeOf(e.prototype).constructor}function PE(e){let t=KS(e.type),n=!0,r=[e];for(;t;){let o;if(kt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new w(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=uf(e.inputs),s.declaredInputs=uf(e.declaredInputs),s.outputs=uf(e.outputs);let a=o.hostBindings;a&&XS(e,a);let c=o.viewQuery,u=o.contentQueries;if(c&&QS(e,c),u&&JS(e,u),YS(e,o),Rm(e.outputs,o.outputs),kt(o)&&o.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===PE&&(n=!1)}}t=Object.getPrototypeOf(t)}ZS(r)}function YS(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function ZS(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=go(o.hostAttrs,n=go(n,o.hostAttrs))}}function uf(e){return e===Tn?{}:e===je?[]:e}function QS(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function JS(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function XS(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function LE(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=go(e.mergedAttrs,e.attrs);let l=e.tView=ph(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),l.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),lo(e,!1);let c=t0(n,t,e,r);nc()&&Dh(n,t,c,e),mo(c,t);let u=gE(c,t,c,e);t[r+ie]=u,mh(t,u),RS(u,e,t)}function e0(e,t,n,r,o,i,s,a,c,u,l){let d=n+ie,h;return t.firstCreatePass?(h=ji(t,d,4,s||null,a||null),Bd()&&DE(t,e,h,it(t.consts,u),rE),oy(t,h)):h=t.data[d],LE(h,e,t,n,r,o,i,c),vi(h)&&Ih(t,e,h),u!=null&&Vc(e,h,l),h}function Nc(e,t,n,r,o,i,s,a,c,u,l){let d=n+ie,h;if(t.firstCreatePass){if(h=ji(t,d,4,s||null,a||null),u!=null){let f=it(t.consts,u);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return LE(h,e,t,n,r,o,i,c),u!=null&&Vc(e,h,l),h}function FE(e,t,n,r,o,i,s,a){let c=O(),u=se(),l=it(u.consts,i);return e0(c,u,e,t,n,r,o,l,void 0,s,a),FE}var t0=n0;function n0(e,t,n,r){return rc(!0),t[Z].createComment("")}var Kc=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var xh=new C("");function Io(e){return!!e&&typeof e.then=="function"}function kh(e){return!!e&&typeof e.subscribe=="function"}var jE=new C("");var Ph=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=y(jE,{optional:!0})??[];injector=y(dt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Se(this.injector,o);if(Io(i))n.push(i);else if(kh(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yc=new C("");function UE(){Ql(()=>{let e="";throw new w(600,e)})}function $E(e){return e.isBoundToModule}var r0=10;var Pn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(He);afterRenderManager=y(Zy);zonelessEnabled=y(bi);rootEffectScheduler=y(rf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new me;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=y(Pt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(F(n=>!n))}constructor(){y(Fi,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=y(de);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=dt.NULL){return this._injector.get(pe).run(()=>{K(10);let s=n instanceof Gc;if(!this._injector.get(Ph).done){let p="";throw new w(405,p)}let c;s?c=n:c=this._injector.get(Ui).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=$E(c)?void 0:this._injector.get(fr),l=r||c.selector,d=c.create(o,[],l,u),h=d.location.nativeElement,f=d.injector.get(xh,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Ci(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),K(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){K(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(yh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new w(101,!1);let n=x(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,x(n),this.afterTick.next(),K(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(dr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<r0;)K(14),this.synchronizeOnce(),K(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Ei(o))continue;let i=r&&!this.zonelessEnabled?0:1;dE(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ei(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ci(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Yc,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ci(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ci(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Zc(e,t,n,r){let o=O(),i=en();if(ze(o,i,t)){let s=se(),a=Di();NC(a,o,e,t,n,r)}return Zc}var s$=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Gf=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,n){this.attach(n,this.detach(t,!0))}};function lf(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function o0(e,t,n){let r,o,i=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;i<=s&&i<=c;){let u=e.at(i),l=t[i],d=lf(i,u,i,l,n);if(d!==0){d<0&&e.updateValue(i,l),i++;continue}let h=e.at(s),f=t[c],p=lf(s,h,c,f,n);if(p!==0){p<0&&e.updateValue(s,f),s--,c--;continue}let m=n(i,u),g=n(s,h),v=n(i,l);if(Object.is(v,g)){let A=n(c,f);Object.is(A,m)?(e.swap(i,s),e.updateValue(s,f),c--,s--):e.move(s,i),e.updateValue(i,l),i++;continue}if(r??=new Rc,o??=Yv(e,i,s,n),Wf(e,r,i,v))e.updateValue(i,l),i++,s++;else if(o.has(v))r.set(m,e.detach(i)),s--;else{let A=e.create(i,t[i]);e.attach(i,A),i++,s++}}for(;i<=c;)Kv(e,r,n,i,t[i]),i++}else if(t!=null){let c=t[Symbol.iterator](),u=c.next();for(;!u.done&&i<=s;){let l=e.at(i),d=u.value,h=lf(i,l,i,d,n);if(h!==0)h<0&&e.updateValue(i,d),i++,u=c.next();else{r??=new Rc,o??=Yv(e,i,s,n);let f=n(i,d);if(Wf(e,r,i,f))e.updateValue(i,d),i++,s++,u=c.next();else if(!o.has(f))e.attach(i,e.create(i,d)),i++,s++,u=c.next();else{let p=n(i,l);r.set(p,e.detach(i)),s--}}}for(;!u.done;)Kv(e,r,n,e.length,u.value),u=c.next()}for(;i<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function Wf(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function Kv(e,t,n,r,o){if(Wf(e,t,r,n(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function Yv(e,t,n,r){let o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}var Rc=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n)}}};function i0(e,t,n,r,o,i,s,a){gr("NgControlFlow");let c=O(),u=se(),l=it(u.consts,i);return Nc(c,u,e,t,n,r,o,l,256,s,a),Lh}function Lh(e,t,n,r,o,i,s,a){gr("NgControlFlow");let c=O(),u=se(),l=it(u.consts,i);return Nc(c,u,e,t,n,r,o,l,512,s,a),Lh}function s0(e,t){gr("NgControlFlow");let n=O(),r=en(),o=n[r]!==De?n[r]:-1,i=o!==-1?Mc(n,ie+o):void 0,s=0;if(ze(n,r,e)){let a=x(null);try{if(i!==void 0&&vE(i,s),e!==-1){let c=ie+e,u=Mc(n,c),l=Zf(n[N],c),d=EE(u,l,n),h=Hc(n,l,t,{dehydratedView:d});zc(u,h,s,Ai(l,d))}}finally{x(a)}}else if(i!==void 0){let a=mE(i,s);a!==void 0&&(a[ue]=t)}}var qf=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-fe}};function a0(e){return e}function c0(e,t){return t}var Kf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function u0(e,t,n,r,o,i,s,a,c,u,l,d,h){gr("NgControlFlow");let f=O(),p=se(),m=c!==void 0,g=O(),v=a?s.bind(g[Ke][ue]):s,A=new Kf(m,v);g[ie+e]=A,Nc(f,p,e+1,t,n,r,o,it(p.consts,i),256),m&&Nc(f,p,e+2,c,u,l,d,it(p.consts,h),512)}var Yf=class extends Gf{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-fe}at(t){return this.getLView(t)[ue].$implicit}attach(t,n){let r=n[so];this.needsIndexUpdate||=t!==this.length,zc(this.lContainer,n,t,Ai(this.templateTNode,r))}detach(t,n){return this.needsIndexUpdate||=t!==this.length-1,n&&d0(this.lContainer,t),f0(this.lContainer,t)}create(t,n){let r=Pf(this.lContainer,this.templateTNode.tView.ssrId),o=Hc(this.hostLView,this.templateTNode,new qf(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(t){$c(t[N],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[ue].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ue].$index=t}getLView(t){return h0(this.lContainer,t)}};function l0(e){let t=x(null),n=mt();try{let r=O(),o=r[N],i=r[n],s=n+1,a=Mc(r,s);if(i.liveCollection===void 0){let u=Zf(o,s);i.liveCollection=new Yf(a,r,u)}else i.liveCollection.reset();let c=i.liveCollection;if(o0(c,e,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let u=en(),l=c.length===0;if(ze(r,u,l)){let d=n+2,h=Mc(r,d);if(l){let f=Zf(o,d),p=EE(h,f,r),m=Hc(r,f,void 0,{dehydratedView:p});zc(h,m,0,Ai(f,p))}else o.firstUpdatePass&&XC(h),vE(h,0)}}}finally{x(t)}}function Mc(e,t){return e[t]}function d0(e,t){if(e.length<=fe)return;let n=fe+t,r=e[n];r&&r[ir]&&(r[ir].skipLeaveAnimations=!0)}function f0(e,t){return Ri(e,t)}function h0(e,t){return mE(e,t)}function Zf(e,t){return yi(e,t)}function BE(e,t,n){let r=O(),o=en();if(ze(r,o,t)){let i=se(),s=Di();tE(s,r,e,t,r[Z],n)}return BE}function Qf(e,t,n,r,o){Th(t,e,n,o?"class":"style",r)}function Fh(e,t,n,r){let o=O(),i=o[N],s=e+ie,a=i.firstCreatePass?IE(s,o,2,t,rE,Bd(),n,r):i.data[s];if(oE(a,o,e,t,HE),vi(a)){let c=o[N];Ih(c,o,a),Ay(c,a,o)}return r!=null&&Vc(o,a),Fh}function jh(){let e=se(),t=_e(),n=iE(t);return e.firstCreatePass&&TE(e,n),Vd(n)&&Hd(),$d(),n.classesWithoutHost!=null&&HI(n)&&Qf(e,n,O(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&zI(n)&&Qf(e,n,O(),n.stylesWithoutHost,!1),jh}function Qc(e,t,n,r){return Fh(e,t,n,r),jh(),Qc}function Uh(e,t,n,r){let o=O(),i=o[N],s=e+ie,a=i.firstCreatePass?hS(s,i,2,t,n,r):i.data[s];return oE(a,o,e,t,HE),r!=null&&Vc(o,a),Uh}function $h(){let e=_e(),t=iE(e);return Vd(t)&&Hd(),$d(),$h}function VE(e,t,n,r){return Uh(e,t,n,r),$h(),VE}var HE=(e,t,n,r,o)=>(rc(!0),$y(t[Z],r,mv()));function p0(){return O()}function zE(e,t,n){let r=O(),o=en();if(ze(r,o,t)){let i=se(),s=Di();nE(s,r,e,t,r[Z],n)}return zE}var cc=void 0;function g0(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var m0=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cc,"{1} 'at' {0}",cc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",g0],df={};function Ze(e){let t=v0(e),n=Zv(t);if(n)return n;let r=t.split("-")[0];if(n=Zv(r),n)return n;if(r==="en")return m0;throw new w(701,!1)}function Zv(e){return e in df||(df[e]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[e]),df[e]}var le=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(le||{});function v0(e){return e.toLowerCase().replace(/_/g,"-")}var Bi="en-US";var y0=Bi;function GE(e){typeof e=="string"&&(y0=e.toLowerCase().replace(/_/g,"-"))}function Jc(e,t,n){let r=O(),o=se(),i=_e();return qE(o,r,r[Z],i,e,t,n),Jc}function WE(e,t,n){let r=O(),o=se(),i=_e();return(i.type&3||n)&&SE(i,o,r,n,r[Z],e,t,pc(i,r,t)),WE}function qE(e,t,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=pc(r,t,i),SE(r,e,t,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let d=0;d<l.length;d+=2){let h=l[d],f=l[d+1];c??=pc(r,t,i),zv(r,t,h,f,o,c)}if(u&&u.length)for(let d of u)c??=pc(r,t,i),zv(r,t,d,o,o,c)}}function E0(e=1){return hv(e)}function Bh(e,t,n,r){jS(e,t,n,r)}function Vh(e){let t=O(),n=se(),r=Yd();Xa(r+1);let o=Rh(n,r);if(e.dirty&&Wm(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=VS(t,r);e.reset(i,rT),e.notifyOnChanges()}return!0}return!1}function Hh(){return LS(O(),Yd())}function w0(e){let t=ov();return Ya(t,ie+e)}function uc(e,t){return e<<17|t<<2}function hr(e){return e>>17&32767}function _0(e){return(e&2)==2}function D0(e,t){return e&131071|t<<17}function Jf(e){return e|2}function wo(e){return(e&131068)>>2}function ff(e,t){return e&-131069|t<<2}function b0(e){return(e&1)===1}function Xf(e){return e|1}function I0(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=hr(s),c=wo(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||io(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=hr(e[a+1]);e[r+1]=uc(h,a),h!==0&&(e[h+1]=ff(e[h+1],r)),e[a+1]=D0(e[a+1],r)}else e[r+1]=uc(a,0),a!==0&&(e[a+1]=ff(e[a+1],r)),a=r;else e[r+1]=uc(c,0),a===0?a=r:e[c+1]=ff(e[c+1],r),c=r;u&&(e[r+1]=Jf(e[r+1])),Qv(e,l,r,!0),Qv(e,l,r,!1),T0(t,l,e,r,i),s=uc(a,c),i?t.classBindings=s:t.styleBindings=s}function T0(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&io(i,t)>=0&&(n[r+1]=Xf(n[r+1]))}function Qv(e,t,n,r){let o=e[n+1],i=t===null,s=r?hr(o):wo(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],u=e[s+1];C0(c,t)&&(a=!0,e[s+1]=r?Xf(u):Jf(u)),s=r?hr(u):wo(u)}a&&(e[n+1]=r?Jf(o):Xf(o))}function C0(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?io(e,t)>=0:!1}var yt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S0(e){return e.substring(yt.key,yt.keyEnd)}function A0(e){return N0(e),KE(e,YE(e,0,yt.textEnd))}function KE(e,t){let n=yt.textEnd;return n===t?-1:(t=yt.keyEnd=R0(e,yt.key=t,n),YE(e,t,n))}function N0(e){yt.key=0,yt.keyEnd=0,yt.value=0,yt.valueEnd=0,yt.textEnd=e.length}function YE(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function R0(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function ZE(e,t,n){return JE(e,t,n,!1),ZE}function QE(e,t){return JE(e,t,null,!0),QE}function M0(e){x0(U0,O0,e,!0)}function O0(e,t){for(let n=A0(t);n>=0;n=KE(t,n))Ga(e,S0(t),!0)}function JE(e,t,n,r){let o=O(),i=se(),s=_i(2);if(i.firstUpdatePass&&ew(i,e,s,r),t!==De&&ze(o,s,t)){let a=i.data[mt()];tw(i,a,o,o[Z],e,o[s+1]=B0(t,n),r,s)}}function x0(e,t,n,r){let o=se(),i=_i(2);o.firstUpdatePass&&ew(o,null,i,r);let s=O();if(n!==De&&ze(s,i,n)){let a=o.data[mt()];if(nw(a,r)&&!XE(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=$a(c,n||"")),Qf(o,a,s,n,r)}else $0(o,a,s,s[Z],s[i+1],s[i+1]=j0(e,t,n),r,i)}}function XE(e,t){return t>=e.expandoStartIndex}function ew(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[mt()],s=XE(e,n);nw(i,r)&&t===null&&!s&&(t=!1),t=k0(o,i,t,r),I0(o,i,t,n,s,r)}}function k0(e,t,n,r){let o=uv(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=hf(null,e,t,n,r),n=Oi(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=hf(o,e,t,n,r),i===null){let c=P0(e,t,r);c!==void 0&&Array.isArray(c)&&(c=hf(null,e,t,c[1],r),c=Oi(c,t.attrs,r),L0(e,t,r,c))}else i=F0(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function P0(e,t,n){let r=n?t.classBindings:t.styleBindings;if(wo(r)!==0)return e[hr(r)]}function L0(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[hr(o)]=r}function F0(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Oi(r,s,n)}return Oi(r,t.attrs,n)}function hf(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=Oi(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Oi(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Ga(e,s,n?!0:t[++i]))}return e===void 0?null:e}function j0(e,t,n){if(n==null||n==="")return je;let r=[],o=Et(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function U0(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Ga(e,r,n)}function $0(e,t,n,r,o,i,s,a){o===De&&(o=je);let c=0,u=0,l=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;l!==null||d!==null;){let h=c<o.length?o[c+1]:void 0,f=u<i.length?i[u+1]:void 0,p=null,m;l===d?(c+=2,u+=2,h!==f&&(p=d,m=f)):d===null||l!==null&&l<d?(c+=2,p=l):(u+=2,p=d,m=f),p!==null&&tw(e,t,n,r,p,m,s,a),l=c<o.length?o[c]:null,d=u<i.length?i[u]:null}}function tw(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=b0(u)?Jv(c,t,n,o,wo(u),s):void 0;if(!Oc(l)){Oc(i)||_0(u)&&(i=Jv(c,null,n,o,a,s));let d=xd(mt(),n);wC(r,s,d,o,i)}}function Jv(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===De&&(h=d?je:void 0);let f=d?Wa(h,r):l===r?h:void 0;if(u&&!Oc(f)&&(f=Wa(c,r)),Oc(f)&&(a=f,s))return a;let p=e[o+1];o=s?hr(p):wo(p)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=Wa(c,r))}return a}function Oc(e){return e!==void 0}function B0(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Jt(Et(e)))),e}function nw(e,t){return(e.flags&(t?8:16))!==0}function V0(e,t=""){let n=O(),r=se(),o=e+ie,i=r.firstCreatePass?ji(r,o,1,t,null):r.data[o],s=H0(r,n,i,t,e);n[o]=s,nc()&&Dh(r,n,s,i),lo(i,!1)}var H0=(e,t,n,r,o)=>(rc(!0),zT(t[Z],r));function z0(e,t,n,r=""){return ze(e,en(),n)?t+ft(n)+r:De}function G0(e,t,n,r,o,i=""){let s=Kd(),a=Nh(e,s,n,o);return _i(2),a?t+ft(n)+r+ft(o)+i:De}function W0(e,t,n,r,o,i,s,a=""){let c=Kd(),u=CE(e,c,n,o,s);return _i(3),u?t+ft(n)+r+ft(o)+i+ft(s)+a:De}function rw(e){return zh("",e),rw}function zh(e,t,n){let r=O(),o=z0(r,e,t,n);return o!==De&&Gh(r,mt(),o),zh}function ow(e,t,n,r,o){let i=O(),s=G0(i,e,t,n,r,o);return s!==De&&Gh(i,mt(),s),ow}function iw(e,t,n,r,o,i,s){let a=O(),c=W0(a,e,t,n,r,o,i,s);return c!==De&&Gh(a,mt(),c),iw}function Gh(e,t,n){let r=xd(t,e);GT(e[Z],r,n)}function sw(e,t,n){ef(t)&&(t=t());let r=O(),o=en();if(ze(r,o,t)){let i=se(),s=Di();tE(s,r,e,t,r[Z],n)}return sw}function q0(e,t){let n=ef(e);return n&&e.set(t),n}function aw(e,t){let n=O(),r=se(),o=_e();return qE(r,n,n[Z],o,e,t),aw}function K0(e){return ze(O(),en(),e)?ft(e):De}function Y0(e,t,n){let r=se();if(r.firstCreatePass){let o=kt(e);eh(n,r.data,r.blueprint,o,!0),eh(t,r.data,r.blueprint,o,!1)}}function eh(e,t,n,r,o){if(e=Ce(e),Array.isArray(e))for(let i=0;i<e.length;i++)eh(e[i],t,n,r,o);else{let i=se(),s=O(),a=_e(),c=Xn(e)?e:Ce(e.provide),u=Sd(e),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Xn(e)||!e.multi){let f=new lr(u,o,ae,null),p=gf(c,t,o?l:l+h,d);p===-1?(vf(Ec(a,s),i,c),pf(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=gf(c,t,l+h,d),p=gf(c,t,l,l+h),m=f>=0&&n[f],g=p>=0&&n[p];if(o&&!g||!o&&!m){vf(Ec(a,s),i,c);let v=J0(o?Q0:Z0,n.length,o,r,u,e);!o&&g&&(n[p].providerFactory=v),pf(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else{let v=cw(n[o?p:f],u,!o&&r);pf(i,e,f>-1?f:p,v)}!o&&r&&g&&n[p].componentProviders++}}}function pf(e,t,n,r){let o=Xn(t),i=Vm(t);if(o||i){let c=(i?Ce(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function cw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function gf(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function Z0(e,t,n,r,o){return th(this.multi,[])}function Q0(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Si(r,r[N],this.providerFactory.index,o);s=c.slice(0,a),th(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],th(i,s);return s}function th(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function J0(e,t,n,r,o,i){let s=new lr(e,n,ae,null);return s.multi=[],s.index=t,s.componentProviders=0,cw(s,o,r&&!n),s}function X0(e,t=[]){return n=>{n.providersResolver=(r,o)=>Y0(r,o?o(e):e,t)}}function eA(e,t,n){let r=fo()+e,o=O();return o[r]===De?Wc(o,r,n?t.call(n):t()):pS(o,r)}function tA(e,t,n,r){return uw(O(),fo(),e,t,n,r)}function nA(e,t,n,r,o,i){return oA(O(),fo(),e,t,n,r,o,i)}function Wh(e,t){let n=e[t];return n===De?void 0:n}function uw(e,t,n,r,o,i){let s=t+n;return ze(e,s,o)?Wc(e,s+1,i?r.call(i,o):r(o)):Wh(e,s+1)}function rA(e,t,n,r,o,i,s){let a=t+n;return Nh(e,a,o,i)?Wc(e,a+2,s?r.call(s,o,i):r(o,i)):Wh(e,a+2)}function oA(e,t,n,r,o,i,s,a){let c=t+n;return CE(e,c,o,i,s)?Wc(e,c+3,a?r.call(a,o,i,s):r(o,i,s)):Wh(e,c+3)}function iA(e,t){let n=se(),r,o=e+ie;n.firstCreatePass?(r=sA(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=wn(r.type,!0)),s,a=Fe(ae);try{let c=yc(!1),u=i();return yc(c),kd(n,O(),o,u),u}finally{Fe(a)}}function sA(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function aA(e,t,n){let r=e+ie,o=O(),i=Ya(o,r);return lw(o,r)?uw(o,fo(),t,i.transform,n,i):i.transform(n)}function cA(e,t,n,r){let o=e+ie,i=O(),s=Ya(i,o);return lw(i,o)?rA(i,fo(),t,s.transform,n,r,s):s.transform(n,r)}function lw(e,t){return e[N].data[t].pure}var xc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},qh=(()=>{class e{compileModuleSync(n){return new Ac(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=bd(n),i=jy(o.declarations).reduce((s,a)=>{let c=Cn(a);return c&&s.push(new Eo(c)),s},[]);return new xc(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var uA=(()=>{class e{zone=y(pe);changeDetectionScheduler=y(Dn);applicationRef=y(Pn);applicationErrorHandler=y(He);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dw({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new pe(Y(D({},fw()),{scheduleInRootZone:n})),[{provide:pe,useFactory:e},{provide:Xt,multi:!0,useFactory:()=>{let r=y(uA,{optional:!0});return()=>r.initialize()}},{provide:Xt,multi:!0,useFactory:()=>{let r=y(lA);return()=>{r.initialize()}}},t===!0?{provide:tf,useValue:!0}:[],{provide:nf,useValue:n??qy},{provide:He,useFactory:()=>{let r=y(pe),o=y(de),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(Rt),i.handleError(s))})}}}]}function fw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var lA=(()=>{class e{subscription=new re;initialized=!1;zone=y(pe);pendingTasks=y(Pt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hw=(()=>{class e{applicationErrorHandler=y(He);appRef=y(Pn);taskService=y(Pt);ngZone=y(pe);zonelessEnabled=y(bi);tracing=y(Fi,{optional:!0});disableScheduling=y(tf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new re;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Dc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(nf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?kv:Ky;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Dc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dA(){return typeof $localize<"u"&&$localize.locale||Bi}var Vi=new C("",{providedIn:"root",factory:()=>y(Vi,{optional:!0,skipSelf:!0})||dA()});function Ut(e){return Sm(e)}function Kh(e,t){return ka(e,t?.equal)}var pw=class{[Me];constructor(t){this[Me]=t}destroy(){this[Me].destroy()}};var vw=Symbol("InputSignalNode#UNSET"),SA=Y(D({},Pa),{transformFn:void 0,applyValueToInputSignal(e,t){ro(e,t)}});function yw(e,t){let n=Object.create(SA);n.value=e,n.transformFn=t?.transform;function r(){if(eo(n),n.value===vw){let o=null;throw new w(-950,o)}return n.value}return r[Me]=n,r}var eu=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>ki(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},AA=new C("");AA.__NG_ELEMENT_ID__=e=>{let t=_e();if(t===null)throw new w(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new w(204,!1)};function gw(e,t){return yw(e,t)}function NA(e){return yw(vw,e)}var Ew=(gw.required=NA,gw);var Yh=new C(""),RA=new C("");function Hi(e){return!e.moduleRef}function MA(e){let t=Hi(e)?e.r3Injector:e.moduleRef.injector,n=t.get(pe);return n.run(()=>{Hi(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(He),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),Hi(e)){let i=()=>t.destroy(),s=e.platformInjector.get(Yh);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Yh);s.add(i),e.moduleRef.onDestroy(()=>{Ci(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return xA(r,n,()=>{let i=t.get(Pt),s=i.add(),a=t.get(Ph);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Vi,Bi);if(GE(c||Bi),!t.get(RA,!0))return Hi(e)?t.get(Pn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Hi(e)){let l=t.get(Pn);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return OA?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void i.remove(s))})})}var OA;function xA(e,t,n){try{let r=n();return Io(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Xc=null;function kA(e=[],t){return dt.create({name:t,providers:[{provide:fi,useValue:"platform"},{provide:Yh,useValue:new Set([()=>Xc=null])},...e]})}function PA(e=[]){if(Xc)return Xc;let t=kA(e);return Xc=t,UE(),LA(t),t}function LA(e){let t=e.get(Lc,null);Se(e,()=>{t?.forEach(n=>n())})}var zi=(()=>{class e{static __NG_ELEMENT_ID__=FA}return e})();function FA(e){return jA(_e(),O(),(e&16)===16)}function jA(e,t,n){if(Rn(e)&&!n){let r=ot(e.index,t);return new xn(r,r)}else if(e.type&175){let r=t[Ke];return new xn(r,t)}return null}function ww(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;K(8);try{let i=o?.injector??PA(r),s=[dw({}),{provide:Dn,useExisting:hw},yv,...n||[]],a=new Mi({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return MA({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{K(9)}}function tu(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var bw=null;function sn(){return bw}function Zh(e){bw??=e}var Gi=class{},Wi=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>y(Iw),providedIn:"platform"})}return e})();var Iw=(()=>{class e extends Wi{_location;_history;_doc=y(he);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sn().getBaseHref(this._doc)}onPopState(n){let r=sn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=sn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function nu(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function _w(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Dt(e){return e&&e[0]!=="?"?`?${e}`:e}var $t=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>y(Qh),providedIn:"root"})}return e})(),ru=new C(""),Qh=(()=>{class e extends $t{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return nu(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Dt(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Dt(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Dt(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(S(Wi),S(ru,8))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yr=(()=>{class e{_subject=new me;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=BA(_w(Dw(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Dt(r))}normalize(n){return e.stripTrailingSlash($A(this._basePath,Dw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dt(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Dt;static joinWithSlash=nu;static stripTrailingSlash=_w;static \u0275fac=function(r){return new(r||e)(S($t))};static \u0275prov=b({token:e,factory:()=>UA(),providedIn:"root"})}return e})();function UA(){return new yr(S($t))}function $A(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Dw(e){return e.replace(/\/index.html$/,"")}function BA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var np=(()=>{class e extends $t{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=nu(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Dt(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Dt(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(S(Wi),S(ru,8))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();var xe=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})(xe||{}),W=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(W||{}),Ge=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(Ge||{}),cn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Sw(e){return Ze(e)[le.LocaleId]}function Aw(e,t,n){let r=Ze(e),o=[r[le.DayPeriodsFormat],r[le.DayPeriodsStandalone]],i=st(o,t);return st(i,n)}function Nw(e,t,n){let r=Ze(e),o=[r[le.DaysFormat],r[le.DaysStandalone]],i=st(o,t);return st(i,n)}function Rw(e,t,n){let r=Ze(e),o=[r[le.MonthsFormat],r[le.MonthsStandalone]],i=st(o,t);return st(i,n)}function Mw(e,t){let r=Ze(e)[le.Eras];return st(r,t)}function qi(e,t){let n=Ze(e);return st(n[le.DateFormat],t)}function Ki(e,t){let n=Ze(e);return st(n[le.TimeFormat],t)}function Yi(e,t){let r=Ze(e)[le.DateTimeFormat];return st(r,t)}function Zi(e,t){let n=Ze(e),r=n[le.NumberSymbols][t];if(typeof r>"u"){if(t===cn.CurrencyDecimal)return n[le.NumberSymbols][cn.Decimal];if(t===cn.CurrencyGroup)return n[le.NumberSymbols][cn.Group]}return r}function Ow(e){if(!e[le.ExtraData])throw new w(2303,!1)}function xw(e){let t=Ze(e);return Ow(t),(t[le.ExtraData][2]||[]).map(r=>typeof r=="string"?Jh(r):[Jh(r[0]),Jh(r[1])])}function kw(e,t,n){let r=Ze(e);Ow(r);let o=[r[le.ExtraData][0],r[le.ExtraData][1]],i=st(o,t)||[];return st(i,n)||[]}function st(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new w(2304,!1)}function Jh(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var VA=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ou={},HA=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Pw(e,t,n,r){let o=JA(e);t=an(n,t)||t;let s=[],a;for(;t;)if(a=HA.exec(t),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;t=l}else{s.push(t);break}let c=o.getTimezoneOffset();r&&(c=Fw(r,c),o=QA(o,r));let u="";return s.forEach(l=>{let d=YA(l);u+=d?d(o,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function uu(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function an(e,t){let n=Sw(e);if(ou[n]??={},ou[n][t])return ou[n][t];let r="";switch(t){case"shortDate":r=qi(e,Ge.Short);break;case"mediumDate":r=qi(e,Ge.Medium);break;case"longDate":r=qi(e,Ge.Long);break;case"fullDate":r=qi(e,Ge.Full);break;case"shortTime":r=Ki(e,Ge.Short);break;case"mediumTime":r=Ki(e,Ge.Medium);break;case"longTime":r=Ki(e,Ge.Long);break;case"fullTime":r=Ki(e,Ge.Full);break;case"short":let o=an(e,"shortTime"),i=an(e,"shortDate");r=iu(Yi(e,Ge.Short),[o,i]);break;case"medium":let s=an(e,"mediumTime"),a=an(e,"mediumDate");r=iu(Yi(e,Ge.Medium),[s,a]);break;case"long":let c=an(e,"longTime"),u=an(e,"longDate");r=iu(Yi(e,Ge.Long),[c,u]);break;case"full":let l=an(e,"fullTime"),d=an(e,"fullDate");r=iu(Yi(e,Ge.Full),[l,d]);break}return r&&(ou[n][t]=r),r}function iu(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function bt(e,t,n="-",r,o){let i="";(e<0||o&&e<=0)&&(o?e=-e+1:(e=-e,i=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),i+s}function zA(e,t){return bt(e,3).substring(0,t)}function ge(e,t,n=0,r=!1,o=!1){return function(i,s){let a=GA(e,i);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return zA(a,t);let c=Zi(s,cn.MinusSign);return bt(a,t,c,r,o)}}function GA(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new w(2301,!1)}}function Q(e,t,n=xe.Format,r=!1){return function(o,i){return WA(o,i,e,t,n,r)}}function WA(e,t,n,r,o,i){switch(n){case 2:return Rw(t,o,r)[e.getMonth()];case 1:return Nw(t,o,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(i){let u=xw(t),l=kw(t,o,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,m=s>=f.hours&&a>=f.minutes,g=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(m&&g)return!0}else if(m||g)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return Aw(t,o,r)[s<12?0:1];case 3:return Mw(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new w(2302,!1)}}function su(e){return function(t,n,r){let o=-1*r,i=Zi(n,cn.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case 0:return(o>=0?"+":"")+bt(s,2,i)+bt(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+bt(s,1,i);case 2:return"GMT"+(o>=0?"+":"")+bt(s,2,i)+":"+bt(Math.abs(o%60),2,i);case 3:return r===0?"Z":(o>=0?"+":"")+bt(s,2,i)+":"+bt(Math.abs(o%60),2,i);default:throw new w(2310,!1)}}}var qA=0,cu=4;function KA(e){let t=uu(e,qA,1).getDay();return uu(e,0,1+(t<=cu?cu:cu+7)-t)}function Lw(e){let t=e.getDay(),n=t===0?-3:cu-t;return uu(e.getFullYear(),e.getMonth(),e.getDate()+n)}function Xh(e,t=!1){return function(n,r){let o;if(t){let i=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();o=1+Math.floor((s+i)/7)}else{let i=Lw(n),s=KA(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return bt(o,e,Zi(r,cn.MinusSign))}}function au(e,t=!1){return function(n,r){let i=Lw(n).getFullYear();return bt(i,e,Zi(r,cn.MinusSign),t)}}var ep={};function YA(e){if(ep[e])return ep[e];let t;switch(e){case"G":case"GG":case"GGG":t=Q(3,W.Abbreviated);break;case"GGGG":t=Q(3,W.Wide);break;case"GGGGG":t=Q(3,W.Narrow);break;case"y":t=ge(0,1,0,!1,!0);break;case"yy":t=ge(0,2,0,!0,!0);break;case"yyy":t=ge(0,3,0,!1,!0);break;case"yyyy":t=ge(0,4,0,!1,!0);break;case"Y":t=au(1);break;case"YY":t=au(2,!0);break;case"YYY":t=au(3);break;case"YYYY":t=au(4);break;case"M":case"L":t=ge(1,1,1);break;case"MM":case"LL":t=ge(1,2,1);break;case"MMM":t=Q(2,W.Abbreviated);break;case"MMMM":t=Q(2,W.Wide);break;case"MMMMM":t=Q(2,W.Narrow);break;case"LLL":t=Q(2,W.Abbreviated,xe.Standalone);break;case"LLLL":t=Q(2,W.Wide,xe.Standalone);break;case"LLLLL":t=Q(2,W.Narrow,xe.Standalone);break;case"w":t=Xh(1);break;case"ww":t=Xh(2);break;case"W":t=Xh(1,!0);break;case"d":t=ge(2,1);break;case"dd":t=ge(2,2);break;case"c":case"cc":t=ge(7,1);break;case"ccc":t=Q(1,W.Abbreviated,xe.Standalone);break;case"cccc":t=Q(1,W.Wide,xe.Standalone);break;case"ccccc":t=Q(1,W.Narrow,xe.Standalone);break;case"cccccc":t=Q(1,W.Short,xe.Standalone);break;case"E":case"EE":case"EEE":t=Q(1,W.Abbreviated);break;case"EEEE":t=Q(1,W.Wide);break;case"EEEEE":t=Q(1,W.Narrow);break;case"EEEEEE":t=Q(1,W.Short);break;case"a":case"aa":case"aaa":t=Q(0,W.Abbreviated);break;case"aaaa":t=Q(0,W.Wide);break;case"aaaaa":t=Q(0,W.Narrow);break;case"b":case"bb":case"bbb":t=Q(0,W.Abbreviated,xe.Standalone,!0);break;case"bbbb":t=Q(0,W.Wide,xe.Standalone,!0);break;case"bbbbb":t=Q(0,W.Narrow,xe.Standalone,!0);break;case"B":case"BB":case"BBB":t=Q(0,W.Abbreviated,xe.Format,!0);break;case"BBBB":t=Q(0,W.Wide,xe.Format,!0);break;case"BBBBB":t=Q(0,W.Narrow,xe.Format,!0);break;case"h":t=ge(3,1,-12);break;case"hh":t=ge(3,2,-12);break;case"H":t=ge(3,1);break;case"HH":t=ge(3,2);break;case"m":t=ge(4,1);break;case"mm":t=ge(4,2);break;case"s":t=ge(5,1);break;case"ss":t=ge(5,2);break;case"S":t=ge(6,1);break;case"SS":t=ge(6,2);break;case"SSS":t=ge(6,3);break;case"Z":case"ZZ":case"ZZZ":t=su(0);break;case"ZZZZZ":t=su(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=su(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=su(2);break;default:return null}return ep[e]=t,t}function Fw(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ZA(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function QA(e,t,n){let o=e.getTimezoneOffset(),i=Fw(t,o);return ZA(e,-1*(i-o))}function JA(e){if(Tw(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[o,i=1,s=1]=e.split("-").map(a=>+a);return uu(o,i-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(VA))return XA(r)}let t=new Date(e);if(!Tw(t))throw new w(2311,!1);return t}function XA(e){let t=new Date(0),n=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),u=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return i.call(t,s,a,c,u),t}function Tw(e){return e instanceof Date&&!isNaN(e.valueOf())}var tp=/\s+/,Cw=[],eN=(()=>{class e{_ngEl;_renderer;initialClasses=Cw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(tp):Cw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(tp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(tp).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(ae(jt),ae(bo))};static \u0275dir=kn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();function tN(e,t){return new w(2100,!1)}var nN="mediumDate",jw=new C(""),Uw=new C(""),rN=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,i){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??nN,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Pw(n,s,i||this.locale,a)}catch(s){throw tN(e,s.message)}}static \u0275fac=function(r){return new(r||e)(ae(Vi,16),ae(jw,24),ae(Uw,24))};static \u0275pipe=Oh({name:"date",type:e,pure:!0})}return e})();var $w=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=vr({type:e});static \u0275inj=In({})}return e})();function Qi(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var Er=class{};var Bw="browser";var Ji=class{_doc;constructor(t){this._doc=t}manager},lu=(()=>{class e extends Ji{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(S(he))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),fu=new C(""),ap=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof lu));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof lu);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(S(fu),S(pe))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),rp="ng-app-id";function Vw(e){for(let t of e)t.remove()}function Hw(e,t){let n=t.createElement("style");return n.textContent=e,n}function aN(e,t,n,r){let o=e.head?.querySelectorAll(`style[${rp}="${t}"],link[${rp}="${t}"]`);if(o)for(let i of o)i.removeAttribute(rp),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function ip(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var cp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,aN(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Hw);r?.forEach(o=>this.addUsage(o,this.external,ip))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(Vw(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Vw(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Hw(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,ip(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(S(he),S(Pc),S(Fc,8),S(Do))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),op={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},up=/%COMP%/g;var Gw="%COMP%",cN=`_nghost-${Gw}`,uN=`_ngcontent-${Gw}`,lN=!0,dN=new C("",{providedIn:"root",factory:()=>lN});function fN(e){return uN.replace(up,e)}function hN(e){return cN.replace(up,e)}function Ww(e,t){return t.map(n=>n.replace(up,e))}var lp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Xi(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof du?o.applyToHost(n):o instanceof es&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case tn.Emulated:i=new du(c,u,r,this.appId,l,s,a,d,h);break;case tn.ShadowDom:return new sp(c,u,n,r,s,a,this.nonce,d,h);default:i=new es(c,u,r,l,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(S(ap),S(cp),S(Pc),S(dN),S(he),S(Do),S(pe),S(Fc),S(Fi,8))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Xi=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(op[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(zw(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(zw(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=op[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=op[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Ft.DashCase|Ft.Important)?t.style.setProperty(n,r,o&Ft.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ft.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=sn().getGlobalEventTarget(this.doc,t),!t))throw new w(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function zw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var sp=class extends Xi{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,c,u){super(t,i,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=o.styles;l=Ww(o.id,l);for(let h of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=ip(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},es=class extends Xi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c,u){super(t,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let l=r.styles;this.styles=u?Ww(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&vo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},du=class extends es{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c,u){let l=o+"-"+r.id;super(t,n,r,i,s,a,c,u,l),this.contentAttr=fN(l),this.hostAttr=hN(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var hu=class e extends Gi{supportsDOMEvents=!0;static makeCurrent(){Zh(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=pN();return n==null?null:gN(n)}resetBaseElement(){ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Qi(document.cookie,t)}},ts=null;function pN(){return ts=ts||document.head.querySelector("base"),ts?ts.getAttribute("href"):null}function gN(e){return new URL(e,document.baseURI).pathname}var mN=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),qw=["alt","control","meta","shift"],vN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Kw=(()=>{class e extends Ji{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sn().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),qw.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=vN[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),qw.forEach(s=>{if(s!==o){let a=yN[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(S(he))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function EN(e,t,n){let r=D({rootComponent:e,platformRef:n?.platformRef},wN(t));return ww(r)}function wN(e){return{appProviders:[...TN,...e?.providers??[]],platformProviders:IN}}function _N(){hu.makeCurrent()}function DN(){return new Rt}function bN(){return oh(document),document}var IN=[{provide:Do,useValue:Bw},{provide:Lc,useValue:_N,multi:!0},{provide:he,useFactory:bN}];var TN=[{provide:fi,useValue:"root"},{provide:Rt,useFactory:DN},{provide:fu,useClass:lu,multi:!0,deps:[he]},{provide:fu,useClass:Kw,multi:!0,deps:[he]},lp,cp,ap,{provide:dr,useExisting:lp},{provide:Er,useClass:mN},[]];var So=class{},ns=class{},Ln=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=t.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var gu=class{encodeKey(t){return Yw(t)}encodeValue(t){return Yw(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function CN(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var SN=/%(\d[a-f0-9])/gi,AN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Yw(e){return encodeURIComponent(e).replace(SN,(t,n)=>AN[n]??t)}function pu(e){return`${e}`}var It=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new gu,t.fromString){if(t.fromObject)throw new w(2805,!1);this.map=CN(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],o=Array.isArray(r)?r.map(pu):[pu(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(pu(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],o=r.indexOf(pu(t.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var mu=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function NN(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Zw(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Qw(e){return typeof Blob<"u"&&e instanceof Blob}function Jw(e){return typeof FormData<"u"&&e instanceof FormData}function RN(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Xw="Content-Type",e_="Accept",t_="X-Request-URL",n_="text/plain",r_="application/json",MN=`${r_}, ${n_}, */*`,To=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,o){this.url=n,this.method=t.toUpperCase();let i;if(NN(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new w(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new Ln,this.context??=new mu,!this.params)this.params=new It,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Zw(this.body)||Qw(this.body)||Jw(this.body)||RN(this.body)?this.body:this.body instanceof It?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Jw(this.body)?null:Qw(this.body)?this.body.type||null:Zw(this.body)?null:typeof this.body=="string"?n_:this.body instanceof It?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?r_:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,u=t.redirect||this.redirect,l=t.credentials||this.credentials,d=t.referrer||this.referrer,h=t.integrity||this.integrity,f=t.transferCache??this.transferCache,p=t.timeout??this.timeout,m=t.body!==void 0?t.body:this.body,g=t.withCredentials??this.withCredentials,v=t.reportProgress??this.reportProgress,A=t.headers||this.headers,I=t.params||this.params,_=t.context??this.context;return t.setHeaders!==void 0&&(A=Object.keys(t.setHeaders).reduce((V,we)=>V.set(we,t.setHeaders[we]),A)),t.setParams&&(I=Object.keys(t.setParams).reduce((V,we)=>V.set(we,t.setParams[we]),I)),new e(n,r,m,{params:I,headers:A,context:_,reportProgress:v,responseType:o,withCredentials:g,transferCache:f,keepalive:i,cache:a,priority:s,timeout:p,mode:c,redirect:u,credentials:l,referrer:d,integrity:h})}},wr=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(wr||{}),Ao=class{headers;status;statusText;url;ok;type;redirected;constructor(t,n=200,r="OK"){this.headers=t.headers||new Ln,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},vu=class e extends Ao{constructor(t={}){super(t)}type=wr.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},rs=class e extends Ao{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=wr.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},Co=class extends Ao{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},ON=200,xN=204;function dp(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}var Eu=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof To)i=n;else{let c;o.headers instanceof Ln?c=o.headers:c=new Ln(o.headers);let u;o.params&&(o.params instanceof It?u=o.params:u=new It({fromObject:o.params})),i=new To(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let s=R(i).pipe(Yt(c=>this.handler.handle(c)));if(n instanceof To||o.observe==="events")return s;let a=s.pipe(Le(c=>c instanceof rs));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new w(2806,!1);return c.body}));case"blob":return a.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new w(2807,!1);return c.body}));case"text":return a.pipe(F(c=>{if(c.body!==null&&typeof c.body!="string")throw new w(2808,!1);return c.body}));case"json":default:return a.pipe(F(c=>c.body))}case"response":return a;default:throw new w(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new It().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,dp(o,r))}post(n,r,o={}){return this.request("POST",n,dp(o,r))}put(n,r,o={}){return this.request("PUT",n,dp(o,r))}static \u0275fac=function(r){return new(r||e)(S(So))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();var kN=new C("");function PN(e,t){return t(e)}function LN(e,t,n){return(r,o)=>Se(n,()=>t(r,i=>e(i,o)))}var hp=new C(""),o_=new C(""),i_=new C("",{providedIn:"root",factory:()=>!0});var yu=(()=>{class e extends So{backend;injector;chain=null;pendingTasks=y(oc);contributeToStability=y(i_);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(hp),...this.injector.get(o_,[])]));this.chain=r.reduceRight((o,i)=>LN(o,i,this.injector),PN)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Zn(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(S(ns),S(de))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();var FN=/^\)\]\}',?\n/,jN=RegExp(`^${t_}:`,"m");function UN(e){return"responseURL"in e&&e.responseURL?e.responseURL:jN.test(e.getAllResponseHeaders())?e.getResponseHeader(t_):null}var fp=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new w(-2800,!1);let r=this.xhrFactory;return R(null).pipe(Te(()=>new $(i=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,v)=>s.setRequestHeader(g,v.join(","))),n.headers.has(e_)||s.setRequestHeader(e_,MN),!n.headers.has(Xw)){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader(Xw,g)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let g=s.statusText||"OK",v=new Ln(s.getAllResponseHeaders()),A=UN(s)||n.url;return c=new vu({headers:v,status:s.status,statusText:g,url:A}),c},l=()=>{let{headers:g,status:v,statusText:A,url:I}=u(),_=null;v!==xN&&(_=typeof s.response>"u"?s.responseText:s.response),v===0&&(v=_?ON:0);let V=v>=200&&v<300;if(n.responseType==="json"&&typeof _=="string"){let we=_;_=_.replace(FN,"");try{_=_!==""?JSON.parse(_):null}catch(G){_=we,V&&(V=!1,_={error:G,text:_})}}V?(i.next(new rs({body:_,headers:g,status:v,statusText:A,url:I||void 0})),i.complete()):i.error(new Co({error:_,headers:g,status:v,statusText:A,url:I||void 0}))},d=g=>{let{url:v}=u(),A=new Co({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:v||void 0});i.error(A)},h=d;n.timeout&&(h=g=>{let{url:v}=u(),A=new Co({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:v||void 0});i.error(A)});let f=!1,p=g=>{f||(i.next(u()),f=!0);let v={type:wr.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(v.total=g.total),n.responseType==="text"&&s.responseText&&(v.partialText=s.responseText),i.next(v)},m=g=>{let v={type:wr.UploadProgress,loaded:g.loaded};g.lengthComputable&&(v.total=g.total),i.next(v)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",m)),s.send(a),i.next({type:wr.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(S(Er))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),s_=new C(""),$N="XSRF-TOKEN",BN=new C("",{providedIn:"root",factory:()=>$N}),VN="X-XSRF-TOKEN",HN=new C("",{providedIn:"root",factory:()=>VN}),os=class{},zN=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qi(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(S(he),S(BN))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function GN(e,t){let n=e.url.toLowerCase();if(!y(s_)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=y(os).getToken(),o=y(HN);return r!=null&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var pp=(function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e})(pp||{});function WN(e,t){return{\u0275kind:e,\u0275providers:t}}function qN(...e){let t=[Eu,fp,yu,{provide:So,useExisting:yu},{provide:ns,useFactory:()=>y(kN,{optional:!0})??y(fp)},{provide:hp,useValue:GN,multi:!0},{provide:s_,useValue:!0},{provide:os,useClass:zN}];for(let n of e)t.push(...n.\u0275providers);return nr(t)}function KN(e){return WN(pp.Interceptors,e.map(t=>({provide:hp,useValue:t,multi:!0})))}var a_=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(S(he))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ZN=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=S(QN),o},providedIn:"root"})}return e})(),QN=(()=>{class e extends ZN{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case wt.NONE:return r;case wt.HTML:return rn(r,"HTML")?Et(r):dh(this._doc,String(r)).toString();case wt.STYLE:return rn(r,"Style")?Et(r):r;case wt.SCRIPT:if(rn(r,"Script"))return Et(r);throw new w(5200,!1);case wt.URL:return rn(r,"URL")?Et(r):Pi(String(r));case wt.RESOURCE_URL:if(rn(r,"ResourceURL"))return Et(r);throw new w(5201,!1);default:throw new w(5202,!1)}}bypassSecurityTrustHtml(n){return sh(n)}bypassSecurityTrustStyle(n){return ah(n)}bypassSecurityTrustScript(n){return ch(n)}bypassSecurityTrustUrl(n){return uh(n)}bypassSecurityTrustResourceUrl(n){return lh(n)}static \u0275fac=function(r){return new(r||e)(S(he))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var P="primary",Es=Symbol("RouteTitle"),Ep=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function br(e){return new Ep(e)}function g_(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function XN(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Bt(e[n],t[n]))return!1;return!0}function Bt(e,t){let n=e?wp(e):void 0,r=t?wp(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!m_(e[o],t[o]))return!1;return!0}function wp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function m_(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function v_(e){return e.length>0?e[e.length-1]:null}function dn(e){return Bl(e)?e:Io(e)?ce(Promise.resolve(e)):R(e)}var eR={exact:E_,subset:w_},y_={exact:tR,subset:nR,ignored:()=>!0};function c_(e,t,n){return eR[n.paths](e.root,t.root,n.matrixParams)&&y_[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function tR(e,t){return Bt(e,t)}function E_(e,t,n){if(!_r(e.segments,t.segments)||!Du(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!E_(e.children[r],t.children[r],n))return!1;return!0}function nR(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>m_(e[n],t[n]))}function w_(e,t,n){return __(e,t,t.segments,n)}function __(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!_r(o,n)||t.hasChildren()||!Du(o,n,r))}else if(e.segments.length===n.length){if(!_r(e.segments,n)||!Du(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!w_(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!_r(e.segments,o)||!Du(e.segments,o,r)||!e.children[P]?!1:__(e.children[P],t,i,r)}}function Du(e,t,n){return t.every((r,o)=>y_[n](e[o].parameters,r.parameters))}var Ht=class{root;queryParams;fragment;_queryParamMap;constructor(t=new H([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=br(this.queryParams),this._queryParamMap}toString(){return iR.serialize(this)}},H=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bu(this)}},Fn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=br(this.parameters),this._parameterMap}toString(){return b_(this)}};function rR(e,t){return _r(e,t)&&e.every((n,r)=>Bt(n.parameters,t[r].parameters))}function _r(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function oR(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===P&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==P&&(n=n.concat(t(o,r)))}),n}var ws=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>new Ir,providedIn:"root"})}return e})(),Ir=class{parse(t){let n=new Dp(t);return new Ht(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${is(t.root,!0)}`,r=cR(t.queryParams),o=typeof t.fragment=="string"?`#${sR(t.fragment)}`:"";return`${n}${r}${o}`}},iR=new Ir;function bu(e){return e.segments.map(t=>b_(t)).join("/")}function is(e,t){if(!e.hasChildren())return bu(e);if(t){let n=e.children[P]?is(e.children[P],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==P&&r.push(`${o}:${is(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=oR(e,(r,o)=>o===P?[is(e.children[P],!1)]:[`${o}:${is(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[P]!=null?`${bu(e)}/${n[0]}`:`${bu(e)}/(${n.join("//")})`}}function D_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wu(e){return D_(e).replace(/%3B/gi,";")}function sR(e){return encodeURI(e)}function _p(e){return D_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iu(e){return decodeURIComponent(e)}function u_(e){return Iu(e.replace(/\+/g,"%20"))}function b_(e){return`${_p(e.path)}${aR(e.parameters)}`}function aR(e){return Object.entries(e).map(([t,n])=>`;${_p(t)}=${_p(n)}`).join("")}function cR(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${wu(n)}=${wu(o)}`).join("&"):`${wu(n)}=${wu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var uR=/^[^\/()?;#]+/;function gp(e){let t=e.match(uR);return t?t[0]:""}var lR=/^[^\/()?;=#]+/;function dR(e){let t=e.match(lR);return t?t[0]:""}var fR=/^[^=?&#]+/;function hR(e){let t=e.match(fR);return t?t[0]:""}var pR=/^[^&#]+/;function gR(e){let t=e.match(pR);return t?t[0]:""}var Dp=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new H([],{}):new H([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[P]=new H(t,n)),r}parseSegment(){let t=gp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(t),new Fn(Iu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=dR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=gp(this.remaining);o&&(r=o,this.capture(r))}t[Iu(n)]=Iu(r)}parseQueryParam(t){let n=hR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=gR(this.remaining);s&&(r=s,this.capture(r))}let o=u_(n),i=u_(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gp(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new w(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=P);let s=this.parseChildren();n[i??P]=Object.keys(s).length===1&&s[P]?s[P]:new H([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new w(4011,!1)}};function I_(e){return e.segments.length>0?new H([],{[P]:e}):e}function T_(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=T_(o);if(r===P&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new H(e.segments,t);return mR(n)}function mR(e){if(e.numberOfChildren===1&&e.children[P]){let t=e.children[P];return new H(e.segments.concat(t.segments),t.children)}return e}function jn(e){return e instanceof Ht}function C_(e,t,n=null,r=null){let o=S_(e);return A_(o,t,n,r)}function S_(e){let t;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new H(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=I_(r);return t??o}function A_(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return mp(o,o,o,n,r);let i=vR(t);if(i.toRoot())return mp(o,o,new H([],{}),n,r);let s=yR(i,o,e),a=s.processChildren?as(s.segmentGroup,s.index,i.commands):R_(s.segmentGroup,s.index,i.commands);return mp(o,s.segmentGroup,a,n,r)}function Tu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ls(e){return typeof e=="object"&&e!=null&&e.outlets}function mp(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===t?s=n:s=N_(e,t,n);let a=I_(T_(s));return new Ht(a,i,o)}function N_(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=N_(i,t,n)}),new H(e.segments,r)}var Cu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Tu(r[0]))throw new w(4003,!1);let o=r.find(ls);if(o&&o!==v_(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Cu(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Cu(n,t,r)}var Mo=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function yR(e,t,n){if(e.isAbsolute)return new Mo(t,!0,0);if(!n)return new Mo(t,!1,NaN);if(n.parent===null)return new Mo(n,!0,0);let r=Tu(e.commands[0])?0:1,o=n.segments.length-1+r;return ER(n,o,e.numberOfDoubleDots)}function ER(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new w(4005,!1);o=r.segments.length}return new Mo(r,!1,o-i)}function wR(e){return ls(e[0])?e[0].outlets:{[P]:e}}function R_(e,t,n){if(e??=new H([],{}),e.segments.length===0&&e.hasChildren())return as(e,t,n);let r=_R(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new H(e.segments.slice(0,r.pathIndex),{});return i.children[P]=new H(e.segments.slice(r.pathIndex),e.children),as(i,0,o)}else return r.match&&o.length===0?new H(e.segments,{}):r.match&&!e.hasChildren()?bp(e,t,n):r.match?as(e,0,o):bp(e,t,n)}function as(e,t,n){if(n.length===0)return new H(e.segments,{});{let r=wR(n),o={};if(Object.keys(r).some(i=>i!==P)&&e.children[P]&&e.numberOfChildren===1&&e.children[P].segments.length===0){let i=as(e.children[P],t,n);return new H(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=R_(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new H(e.segments,o)}}function _R(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(ls(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!d_(c,u,s))return i;r+=2}else{if(!d_(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function bp(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(ls(i)){let c=DR(i.outlets);return new H(r,c)}if(o===0&&Tu(n[0])){let c=e.segments[t];r.push(new Fn(c.path,l_(n[0]))),o++;continue}let s=ls(i)?i.outlets[P]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Tu(a)?(r.push(new Fn(s,l_(a))),o+=2):(r.push(new Fn(s,{})),o++)}return new H(r,{})}function DR(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=bp(new H([],{}),0,r))}),t}function l_(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function d_(e,t,n){return e==n.path&&Bt(t,n.parameters)}var cs="imperative",be=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(be||{}),Je=class{id;url;constructor(t,n){this.id=t,this.url=n}},Tr=class extends Je{type=be.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ct=class extends Je{urlAfterRedirects;type=be.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ue=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Ue||{}),ds=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(ds||{}),Vt=class extends Je{reason;code;type=be.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},un=class extends Je{reason;code;type=be.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},xo=class extends Je{error;target;type=be.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fs=class extends Je{urlAfterRedirects;state;type=be.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Su=class extends Je{urlAfterRedirects;state;type=be.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Au=class extends Je{urlAfterRedirects;state;shouldActivate;type=be.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nu=class extends Je{urlAfterRedirects;state;type=be.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ru=class extends Je{urlAfterRedirects;state;type=be.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mu=class{route;type=be.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ou=class{route;type=be.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xu=class{snapshot;type=be.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ku=class{snapshot;type=be.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pu=class{snapshot;type=be.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lu=class{snapshot;type=be.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var hs=class{},ko=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function bR(e){return!(e instanceof hs)&&!(e instanceof ko)}function IR(e,t){return e.providers&&!e._injector&&(e._injector=$i(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Tt(e){return e.outlet||P}function TR(e,t){let n=e.filter(r=>Tt(r)===t);return n.push(...e.filter(r=>Tt(r)!==t)),n}function Fo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Fu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Fo(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new jo(this.rootInjector)}},jo=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Fu(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(S(de))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ju=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Ip(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Ip(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Tp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Tp(t,this._root).map(n=>n.value)}};function Ip(e,t){if(e===t.value)return t;for(let n of t.children){let r=Ip(e,n);if(r)return r}return null}function Tp(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Tp(e,n);if(r.length)return r.unshift(t),r}return[]}var Qe=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ro(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ps=class extends ju{snapshot;constructor(t,n){super(t),this.snapshot=n,xp(this,t)}toString(){return this.snapshot.toString()}};function M_(e){let t=CR(e),n=new Ie([new Fn("",{})]),r=new Ie({}),o=new Ie({}),i=new Ie({}),s=new Ie(""),a=new ln(n,r,i,s,o,P,e,t.root);return a.snapshot=t.root,new ps(new Qe(a,[]),t)}function CR(e){let t={},n={},r={},i=new Dr([],t,r,"",n,P,e,null,{});return new gs("",new Qe(i,[]))}var ln=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(F(u=>u[Es]))??R(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(F(t=>br(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(F(t=>br(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Uu(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:D(D({},t.params),e.params),data:D(D({},t.data),e.data),resolve:D(D(D(D({},e.data),t.data),o?.data),e._resolvedData)}:r={params:D({},e.params),data:D({},e.data),resolve:D(D({},e.data),e._resolvedData??{})},o&&x_(o)&&(r.resolve[Es]=o.title),r}var Dr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Es]}constructor(t,n,r,o,i,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=br(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=br(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},gs=class extends ju{url;constructor(t,n){super(n),this.url=t,xp(this,n)}toString(){return O_(this._root)}};function xp(e,t){t.value._routerState=e,t.children.forEach(n=>xp(e,n))}function O_(e){let t=e.children.length>0?` { ${e.children.map(O_).join(", ")} } `:"";return`${e.value}${t}`}function vp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Bt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Bt(t.params,n.params)||e.paramsSubject.next(n.params),XN(t.url,n.url)||e.urlSubject.next(n.url),Bt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Cp(e,t){let n=Bt(e.params,t.params)&&rR(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Cp(e.parent,t.parent))}function x_(e){return typeof e.title=="string"||e.title===null}var k_=new C(""),kp=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=P;activateEvents=new Oe;deactivateEvents=new Oe;attachEvents=new Oe;detachEvents=new Oe;routerOutletData=Ew();parentContexts=y(jo);location=y(mr);changeDetector=y(zi);inputBinder=y(Hu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Sp(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=kn({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[pr]})}return e})(),Sp=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===ln?this.route:t===jo?this.childContexts:t===k_?this.outletData:this.parent.get(t,n)}},Hu=new C("");var Pp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Mh({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Qc(0,"router-outlet")},dependencies:[kp],encapsulation:2})}return e})();function Lp(e){let t=e.children&&e.children.map(Lp),n=t?Y(D({},e),{children:t}):D({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==P&&(n.component=Pp),n}function SR(e,t,n){let r=ms(e,t._root,n?n._root:void 0);return new ps(r,t)}function ms(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=AR(e,t,n);return new Qe(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ms(e,a)),s}}let r=NR(t.value),o=t.children.map(i=>ms(e,i));return new Qe(r,o)}}function AR(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return ms(e,r,o);return ms(e,r)})}function NR(e){return new ln(new Ie(e.url),new Ie(e.params),new Ie(e.queryParams),new Ie(e.fragment),new Ie(e.data),e.outlet,e.component,e)}var Po=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},P_="ngNavigationCancelingError";function $u(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=jn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=L_(!1,Ue.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function L_(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[P_]=!0,n.cancellationCode=t,n}function RR(e){return F_(e)&&jn(e.url)}function F_(e){return!!e&&e[P_]}var MR=(e,t,n,r)=>F(o=>(new Ap(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),Ap=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),vp(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Ro(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Ro(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Ro(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Ro(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Lu(i.value.snapshot))}),t.children.length&&this.forwardEvent(new ku(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(vp(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vp(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Bu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Oo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function OR(e,t,n){let r=e._root,o=t?t._root:null;return ss(r,o,n,[r.value])}function xR(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Uo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!fd(e)?e:t.get(e):r}function ss(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Ro(t);return e.children.forEach(s=>{kR(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>us(a,n.getContext(s),o)),o}function kR(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=PR(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Bu(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?ss(e,t,a?a.children:null,r,o):ss(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Oo(a.outlet.component,s))}else s&&us(t,a,o),o.canActivateChecks.push(new Bu(r)),i.component?ss(e,null,a?a.children:null,r,o):ss(e,null,n,r,o);return o}function PR(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!_r(e.url,t.url);case"pathParamsOrQueryParamsChange":return!_r(e.url,t.url)||!Bt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cp(e,t)||!Bt(e.queryParams,t.queryParams);case"paramsChange":default:return!Cp(e,t)}}function us(e,t,n){let r=Ro(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?us(s,t.children.getContext(i),n):us(s,null,n):us(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Oo(t.outlet.component,o)):n.canDeactivateChecks.push(new Oo(null,o)):n.canDeactivateChecks.push(new Oo(null,o))}function _s(e){return typeof e=="function"}function LR(e){return typeof e=="boolean"}function FR(e){return e&&_s(e.canLoad)}function jR(e){return e&&_s(e.canActivate)}function UR(e){return e&&_s(e.canActivateChild)}function $R(e){return e&&_s(e.canDeactivate)}function BR(e){return e&&_s(e.canMatch)}function j_(e){return e instanceof Kt||e?.name==="EmptyError"}var _u=Symbol("INITIAL_VALUE");function Lo(){return Te(e=>Da(e.map(t=>t.pipe(Xe(1),Gl(_u)))).pipe(F(t=>{for(let n of t)if(n!==!0){if(n===_u)return _u;if(n===!1||VR(n))return n}return!0}),Le(t=>t!==_u),Xe(1)))}function VR(e){return jn(e)||e instanceof Po}function HR(e,t){return oe(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?R(Y(D({},n),{guardsResult:!0})):zR(s,r,o,e).pipe(oe(a=>a&&LR(a)?GR(r,i,e,t):R(a)),F(a=>Y(D({},n),{guardsResult:a})))})}function zR(e,t,n,r){return ce(e).pipe(oe(o=>ZR(o.component,o.route,n,t,r)),Zt(o=>o!==!0,!0))}function GR(e,t,n,r){return ce(t).pipe(Yt(o=>yn(qR(o.route.parent,r),WR(o.route,r),YR(e,o.path,n),KR(e,o.route,n))),Zt(o=>o!==!0,!0))}function WR(e,t){return e!==null&&t&&t(new Pu(e)),R(!0)}function qR(e,t){return e!==null&&t&&t(new xu(e)),R(!0)}function KR(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let o=r.map(i=>ni(()=>{let s=Fo(t)??n,a=Uo(i,s),c=jR(a)?a.canActivate(t,e):Se(s,()=>a(t,e));return dn(c).pipe(Zt())}));return R(o).pipe(Lo())}function YR(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>xR(s)).filter(s=>s!==null).map(s=>ni(()=>{let a=s.guards.map(c=>{let u=Fo(s.node)??n,l=Uo(c,u),d=UR(l)?l.canActivateChild(r,e):Se(u,()=>l(r,e));return dn(d).pipe(Zt())});return R(a).pipe(Lo())}));return R(i).pipe(Lo())}function ZR(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return R(!0);let s=i.map(a=>{let c=Fo(t)??o,u=Uo(a,c),l=$R(u)?u.canDeactivate(e,t,n,r):Se(c,()=>u(e,t,n,r));return dn(l).pipe(Zt())});return R(s).pipe(Lo())}function QR(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return R(!0);let i=o.map(s=>{let a=Uo(s,e),c=FR(a)?a.canLoad(t,n):Se(e,()=>a(t,n));return dn(c)});return R(i).pipe(Lo(),U_(r))}function U_(e){return Pl(ve(t=>{if(typeof t!="boolean")throw $u(e,t)}),F(t=>t===!0))}function JR(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return R(!0);let i=o.map(s=>{let a=Uo(s,e),c=BR(a)?a.canMatch(t,n):Se(e,()=>a(t,n));return dn(c)});return R(i).pipe(Lo(),U_(r))}var vs=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ys=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function No(e){return Yr(new vs(e))}function XR(e){return Yr(new w(4e3,!1))}function eM(e){return Yr(L_(!1,Ue.GuardRejected))}var Np=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return R(r);if(o.numberOfChildren>1||!o.children[P])return XR(`${t.redirectTo}`);o=o.children[P]}}applyRedirectCommands(t,n,r,o,i){return tM(n,o,i).pipe(F(s=>{if(s instanceof Ht)throw new ys(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new ys(a);return a}))}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new Ht(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new H(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new w(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function tM(e,t,n){if(typeof e=="string")return R(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:u,data:l,title:d}=t;return dn(Se(n,()=>r({params:u,data:l,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d})))}var Rp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nM(e,t,n,r,o){let i=$_(e,t,n);return i.matched?(r=IR(t,r),JR(r,t,n,o).pipe(F(s=>s===!0?i:D({},Rp)))):R(i)}function $_(e,t,n){if(t.path==="**")return rM(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?D({},Rp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||g_)(n,e,t);if(!o)return D({},Rp);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?D(D({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function rM(e){return{matched:!0,parameters:e.length>0?v_(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function f_(e,t,n,r){return n.length>0&&sM(e,n,r)?{segmentGroup:new H(t,iM(r,new H(n,e.children))),slicedSegments:[]}:n.length===0&&aM(e,n,r)?{segmentGroup:new H(e.segments,oM(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new H(e.segments,e.children),slicedSegments:n}}function oM(e,t,n,r){let o={};for(let i of n)if(zu(e,t,i)&&!r[Tt(i)]){let s=new H([],{});o[Tt(i)]=s}return D(D({},r),o)}function iM(e,t){let n={};n[P]=t;for(let r of e)if(r.path===""&&Tt(r)!==P){let o=new H([],{});n[Tt(r)]=o}return n}function sM(e,t,n){return n.some(r=>zu(e,t,r)&&Tt(r)!==P)}function aM(e,t,n){return n.some(r=>zu(e,t,r))}function zu(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function cM(e,t,n){return t.length===0&&!e.children[n]}var Mp=class{};function uM(e,t,n,r,o,i,s="emptyOnly"){return new Op(e,t,n,r,o,s,i).recognize()}var lM=31,Op=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Np(this.urlSerializer,this.urlTree)}noMatchError(t){return new w(4002,`'${t.segmentGroup}'`)}recognize(){let t=f_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(F(({children:n,rootSnapshot:r})=>{let o=new Qe(r,n),i=new gs("",o),s=C_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new Dr([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),P,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,P,n).pipe(F(r=>({children:r,rootSnapshot:n})),At(r=>{if(r instanceof ys)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vs?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(F(s=>s instanceof Qe?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ce(i).pipe(Yt(s=>{let a=r.children[s],c=TR(n,s);return this.processSegmentGroup(t,c,a,s,o)}),zl((s,a)=>(s.push(...a),s)),En(null),Hl(),oe(s=>{if(s===null)return No(r);let a=B_(s);return dM(a),R(a)}))}processSegment(t,n,r,o,i,s,a){return ce(n).pipe(Yt(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a).pipe(At(u=>{if(u instanceof vs)return R(null);throw u}))),Zt(c=>!!c),At(c=>{if(j_(c))return cM(r,o,i)?R(new Mp):No(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return Tt(r)!==s&&(s===P||!zu(o,i,r))?No(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c):No(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=$_(n,o,i);if(!c)return No(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lM&&(this.allowRedirects=!1));let f=new Dr(i,u,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,h_(o),Tt(o),o.component??o._loadedComponent??null,o,p_(o)),p=Uu(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,f,t).pipe(Te(g=>this.applyRedirects.lineralizeSegments(o,g)),oe(g=>this.processSegment(t,r,n,g.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let a=nM(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Te(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Te(({routes:u})=>{let l=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=c,p=new Dr(h,d,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,h_(r),Tt(r),r.component??r._loadedComponent??null,r,p_(r)),m=Uu(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:g,slicedSegments:v}=f_(n,h,f,u);if(v.length===0&&g.hasChildren())return this.processChildren(l,u,g,p).pipe(F(I=>new Qe(p,I)));if(u.length===0&&v.length===0)return R(new Qe(p,[]));let A=Tt(r)===i;return this.processSegment(l,u,g,v,A?P:i,!0,p).pipe(F(I=>new Qe(p,I instanceof Qe?[I]:[])))}))):No(n)))}getChildConfig(t,n,r){return n.children?R({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):QR(t,n,r,this.urlSerializer).pipe(oe(o=>o?this.configLoader.loadChildren(t,n).pipe(ve(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):eM(n))):R({routes:[],injector:t})}};function dM(e){e.sort((t,n)=>t.value.outlet===P?-1:n.value.outlet===P?1:t.value.outlet.localeCompare(n.value.outlet))}function fM(e){let t=e.value.routeConfig;return t&&t.path===""}function B_(e){let t=[],n=new Set;for(let r of e){if(!fM(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=B_(r.children);t.push(new Qe(r.value,o))}return t.filter(r=>!n.has(r))}function h_(e){return e.data||{}}function p_(e){return e.resolve||{}}function hM(e,t,n,r,o,i){return oe(s=>uM(e,t,n,r,s.extractedUrl,o,i).pipe(F(({state:a,tree:c})=>Y(D({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function pM(e,t){return oe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return R(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of V_(c))s.add(u);let a=0;return ce(s).pipe(Yt(c=>i.has(c)?gM(c,r,e,t):(c.data=Uu(c,c.parent,e).resolve,R(void 0))),ve(()=>a++),Qr(1),oe(c=>a===s.size?R(n):Ve))})}function V_(e){let t=e.children.map(n=>V_(n)).flat();return[e,...t]}function gM(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!x_(o)&&(i[Es]=o.title),ni(()=>(e.data=Uu(e,e.parent,n).resolve,mM(i,e,t,r).pipe(F(s=>(e._resolvedData=s,e.data=D(D({},e.data),s),null)))))}function mM(e,t,n,r){let o=wp(e);if(o.length===0)return R({});let i={};return ce(o).pipe(oe(s=>vM(e[s],t,n,r).pipe(Zt(),ve(a=>{if(a instanceof Po)throw $u(new Ir,a);i[s]=a}))),Qr(1),F(()=>i),At(s=>j_(s)?Ve:Yr(s)))}function vM(e,t,n,r){let o=Fo(t)??r,i=Uo(e,o),s=i.resolve?i.resolve(t,n):Se(o,()=>i(t,n));return dn(s)}function yp(e){return Te(t=>{let n=e(t);return n?ce(n).pipe(F(()=>t)):R(t)})}var Fp=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===P);return r}getResolvedTitleForRoute(n){return n.data[Es]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>y(H_),providedIn:"root"})}return e})(),H_=(()=>{class e extends Fp{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(S(a_))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$o=new C("",{providedIn:"root",factory:()=>({})}),Ds=new C(""),z_=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(qh);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return R(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=dn(Se(n,()=>r.loadComponent())).pipe(F(W_),Te(q_),ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Zn(()=>{this.componentLoaders.delete(r)})),i=new qr(o,()=>new me).pipe(Wr());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=G_(r,this.compiler,n,this.onLoadEndListener).pipe(Zn(()=>{this.childrenLoaders.delete(r)})),s=new qr(i,()=>new me).pipe(Wr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function G_(e,t,n,r){return dn(Se(n,()=>e.loadChildren())).pipe(F(W_),Te(q_),oe(o=>o instanceof qc||Array.isArray(o)?R(o):ce(t.compileModuleAsync(o))),F(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(Ds,[],{optional:!0,self:!0}).flat()),{routes:s.map(Lp),injector:i}}))}function yM(e){return e&&typeof e=="object"&&"default"in e}function W_(e){return yM(e)?e.default:e}function q_(e){return R(e)}var Gu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>y(EM),providedIn:"root"})}return e})(),EM=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),K_=new C("");var Y_=new C(""),Z_=(()=>{class e{currentNavigation=On(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new me;transitionAbortWithErrorSubject=new me;configLoader=y(z_);environmentInjector=y(de);destroyRef=y(cr);urlSerializer=y(ws);rootContexts=y(jo);location=y(yr);inputBindingEnabled=y(Hu,{optional:!0})!==null;titleStrategy=y(Fp);options=y($o,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(Gu);createViewTransition=y(K_,{optional:!0});navigationErrorHandler=y(Y_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>R(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new Mu(o)),r=o=>this.events.next(new Ou(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Ut(()=>{this.transitions?.next(Y(D({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new Ie(null),this.transitions.pipe(Le(r=>r!==null),Te(r=>{let o=!1;return R(r).pipe(Te(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ue.SupersededByNewNavigation),Ve;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?Y(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new un(i.id,this.urlSerializer.serialize(i.rawUrl),"",ds.IgnoredSameUrlNavigation)),i.resolve(!1),Ve;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return R(i).pipe(Te(c=>(this.events.next(new Tr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ve:Promise.resolve(c))),hM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ve(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(l=>(l.finalUrl=c.urlAfterRedirects,l));let u=new fs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:u,source:l,restoredState:d,extras:h}=i,f=new Tr(c,this.urlSerializer.serialize(u),l,d);this.events.next(f);let p=M_(this.rootComponentType).snapshot;return this.currentTransition=r=Y(D({},i),{targetSnapshot:p,urlAfterRedirects:u,extras:Y(D({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(m=>(m.finalUrl=u,m)),R(r)}else return this.events.next(new un(i.id,this.urlSerializer.serialize(i.extractedUrl),"",ds.IgnoredByUrlHandlingStrategy)),i.resolve(!1),Ve}),ve(i=>{let s=new Su(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),F(i=>(this.currentTransition=r=Y(D({},i),{guards:OR(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),HR(this.environmentInjector,i=>this.events.next(i)),ve(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw $u(this.urlSerializer,i.guardsResult);let s=new Au(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),Le(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",Ue.GuardRejected),!1)),yp(i=>{if(i.guards.canActivateChecks.length!==0)return R(i).pipe(ve(s=>{let a=new Nu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Te(s=>{let a=!1;return R(s).pipe(pM(this.paramsInheritanceStrategy,this.environmentInjector),ve({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ue.NoDataFromResolver)}}))}),ve(s=>{let a=new Ru(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),yp(i=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=Fo(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(ve(l=>{a.component=l}),F(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return Da(s(i.targetSnapshot.root)).pipe(En(null),Xe(1))}),yp(()=>this.afterPreactivation()),Te(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?ce(a).pipe(F(()=>r)):R(r)}),F(i=>{let s=SR(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=Y(D({},i),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),ve(()=>{this.events.next(new hs)}),MR(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Xe(1),Ia(new $(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Le(()=>!o&&!r.targetRouterState),ve(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ue.Aborted)}))),ve({next:i=>{o=!0,this.lastSuccessfulNavigation=Ut(this.currentNavigation),this.events.next(new Ct(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),Ia(this.transitionAbortWithErrorSubject.pipe(ve(i=>{throw i}))),Zn(()=>{o||this.cancelNavigationTransition(r,"",Ue.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),At(i=>{if(this.destroyed)return r.resolve(!1),Ve;if(o=!0,F_(i))this.events.next(new Vt(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),RR(i)?this.events.next(new ko(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new xo(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=Se(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Po){let{message:c,cancellationCode:u}=$u(this.urlSerializer,a);this.events.next(new Vt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new ko(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ve}))}))}cancelNavigationTransition(n,r,o){let i=new Vt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ut(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wM(e){return e!==cs}var Q_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>y(_M),providedIn:"root"})}return e})(),Vu=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},_M=(()=>{class e extends Vu{static \u0275fac=(()=>{let n;return function(o){return(n||(n=kc(e)))(o||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),J_=(()=>{class e{urlSerializer=y(ws);options=y($o,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(yr);urlHandlingStrategy=y(Gu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ht;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Ht?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=M_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>y(DM),providedIn:"root"})}return e})(),DM=(()=>{class e extends J_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Tr?this.updateStateMemento():n instanceof un?this.commitTransition(r):n instanceof fs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof hs?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Vt&&n.code!==Ue.SupersededByNewNavigation&&n.code!==Ue.Redirect?this.restoreHistory(r):n instanceof xo?this.restoreHistory(r,!0):n instanceof Ct&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=D(D({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=D(D({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=kc(e)))(o||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jp(e,t){e.events.pipe(Le(n=>n instanceof Ct||n instanceof Vt||n instanceof xo||n instanceof un),F(n=>n instanceof Ct||n instanceof un?0:(n instanceof Vt?n.code===Ue.Redirect||n.code===Ue.SupersededByNewNavigation:!1)?2:1),Le(n=>n!==2),Xe(1)).subscribe(()=>{t()})}var bM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Bo=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(Kc);stateManager=y(J_);options=y($o,{optional:!0})||{};pendingTasks=y(Pt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(Z_);urlSerializer=y(ws);location=y(yr);urlHandlingStrategy=y(Gu);injector=y(de);_events=new me;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(Q_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(Ds,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(Hu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new re;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=Ut(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Vt&&r.code!==Ue.Redirect&&r.code!==Ue.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ct)this.navigated=!0;else if(r instanceof ko){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=D({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wM(o.source)},s);this.scheduleNavigation(a,cs,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}bR(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=D({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(He)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ut(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Lp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=D(D({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=S_(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return A_(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=jn(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,cs,null,r)}navigate(n,r={skipLocationChange:!1}){return TM(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(bn(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=D({},bM):r===!1?o=D({},IM):o=r,jn(n))return c_(this.currentUrlTree,n,o);let i=this.parseUrl(n);return c_(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return jp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function TM(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new w(4008,!1)}var Wu=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=On(null);get href(){return Ut(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new me;applicationErrorHandler=y(He);options=y($o,{optional:!0});constructor(n,r,o,i,s,a){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this.reactiveHref.set(y(new eu("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=o=>o==="merge"||o==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Ct&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(jn(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return this.routerLinkInput===null?null:jn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(ae(Bo),ae(ln),ki("tabindex"),ae(bo),ae(jt),ae($t))};static \u0275dir=kn({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&Jc("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Zc("href",o.reactiveHref(),fh)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",tu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",tu],replaceUrl:[2,"replaceUrl","replaceUrl",tu],routerLink:"routerLink"},features:[pr]})}return e})(),SM=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Oe;constructor(n,r,o,i,s){this.router=n,this.element=r,this.renderer=o,this.cdr=i,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Ct&&this.update()})}ngAfterContentInit(){R(this.links.changes,R(null)).pipe(Zr()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ce(n).pipe(Zr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=AM(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let i=o.urlTree;return i?n.isActive(i,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(ae(Bo),ae(jt),ae(bo),ae(zi),ae(Wu,8))};static \u0275dir=kn({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,i){if(r&1&&Bh(i,Wu,5),r&2){let s;Vh(s=Hh())&&(o.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[pr]})}return e})();function AM(e){return!!e.paths}var NM=new C("");function RM(e,...t){return nr([{provide:Ds,multi:!0,useValue:e},[],{provide:ln,useFactory:MM,deps:[Bo]},{provide:Yc,multi:!0,useFactory:xM},t.map(n=>n.\u0275providers)])}function MM(e){return e.routerState.root}function OM(e,t){return{\u0275kind:e,\u0275providers:t}}function xM(){let e=y(dt);return t=>{let n=e.get(Pn);if(t!==n.components[0])return;let r=e.get(Bo),o=e.get(kM);e.get(PM)===1&&r.initialNavigation(),e.get(LM,null,{optional:!0})?.setUpPreloading(),e.get(NM,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var kM=new C("",{factory:()=>new me}),PM=new C("",{providedIn:"root",factory:()=>1});var LM=new C("");function FM(){return OM(6,[{provide:$t,useClass:np}])}var jM={en:{APP_TITLE:"Equipment Maintenance Hub",DASHBOARD:"Dashboard",DEVICES:"Devices",SPARE_PARTS:"Spare Parts",MAINTENANCE:"Maintenance",LOGOUT:"Logout",LOADING_DATA:"Loading data...",PLEASE_WAIT:"Please wait a moment.",DELETE:"Delete",LOGIN_TITLE:"Equipment Maintenance Hub",LOGIN_SUBTITLE:"Enter your credentials to sign in",SIGN_IN_ADMIN:"Sign in as Admin",SIGN_IN_TECHNICIAN:"Sign in as Technician",SIGN_IN:"Sign In",EMAIL:"Email",PASSWORD:"Password",LOADING:"Loading...",OPERATIONAL:"Operational",MAINTENANCE_STATUS:"Maintenance",OFFLINE:"Offline",LOW_STOCK_PARTS:"Low Stock Parts",TOTAL_DOWNTIME:"Total Downtime",RECENT_MAINTENANCE_ACTIVITY:"Recent Maintenance Activity",NO_MAINTENANCE_LOGS_YET:"No maintenance logs yet",ADD_MAINTENANCE_LOG_FROM_DEVICE_DETAIL:"Add maintenance logs from device detail page",DEVICE:"Device",TECHNICIAN:"Technician",DATE:"Date",TYPE:"Type",SCHEDULED:"Scheduled",EMERGENCY:"Emergency",ADD_NEW_DEVICE:"Add New Device",EXPORT_DEVICES:"Export Devices",SEARCH_DEVICES:"Search devices...",DEVICE_NAME:"Name",LOCATION:"Location",STATUS:"Status",NEXT_MAINTENANCE:"Next Maintenance",DETAILS:"Details",DOWNTIME:"Downtime (h)",NO_DEVICES_FOUND:"No devices found for your search.",LOADING_DEVICES:"Loading devices...",BACK_TO_DEVICES:"Back to Devices",DEVICE_DETAILS:"Device Details",DEVICE_ID:"Device ID",LAST_MAINTENANCE:"Last Maintenance",LOG_MAINTENANCE:"Log Maintenance",MAINTENANCE_NOTES_PLACEHOLDER:"Enter maintenance notes...",COMPLETE_LOG_MAINTENANCE:"Complete & Log Maintenance",DEVICE_IN_MAINTENANCE:"This device is currently undergoing maintenance.",DEVICE_QR_CODE:"Device QR Code",SCAN_QR_CODE_INFO:"Scan to quickly identify this device.",ACTIONS:"Actions",VIEW_MANUAL:"View Manual (PDF)",DECOMMISSION_DEVICE:"Decommission Device",LOADING_DEVICE_DETAILS:"Loading device details...",SET_STATUS_MAINTENANCE:"Set to Maintenance",SET_STATUS_OFFLINE:"Set to Offline",SET_STATUS_OPERATIONAL:"Bring Online",SPARE_PARTS_INVENTORY:"Spare Parts Inventory",ADD_NEW_PART:"Add New Part",SEARCH_PARTS:"Search parts by name, SKU, or location...",PART_NAME:"Name",SKU:"SKU",QUANTITY:"Quantity",MIN_QUANTITY:"Min. Quantity",LOADING_PARTS:"Loading parts...",NO_PARTS_FOUND:"No parts found for your search.",FILTER_ALL_PARTS:"All Parts",FILTER_BELOW_MIN:"Below Minimum",FILTER_LOW_STOCK:"Low Stock",FILTER_NORMAL_STOCK:"Normal Stock",MAINTENANCE_LOG:"Maintenance Log",ALL:"All",NOTES:"Notes",LOADING_LOGS:"Loading maintenance logs...",NO_LOGS_FOUND_FILTER:"No logs found for this filter.",STATUS_OPERATIONAL:"Operational",STATUS_MAINTENANCE:"Maintenance",STATUS_OFFLINE:"Offline",DOWNTIME_TRACKING:"Downtime Tracking",MONTH:"Month",TOTAL_DOWNTIME_HOURS:"Total Downtime",AVERAGE_PERCENTAGE:"Average %",DEVICES_IN_TARGET:"Devices in Target",DEVICES_OVER_TARGET:"Devices over Target",DEVICE_DOWNTIME_DETAILS:"Device Downtime Details",DEVICE_TYPE:"Type",MAINTENANCE_COUNT:"Maintenance Count",TARGET:"Target",PROGRESS:"Progress",IN_TARGET:"In target",OVER_TARGET:"Over target",DOWNTIME_INFO_TITLE:"\u2139\uFE0F Calculation Information",DOWNTIME_INFO_TEXT:"Working time: 160 hours/month per device (20 working days \xD7 8 hours). Target downtime: 2.5% = 4 hours/month. Only emergency maintenance counts towards downtime. Minimum maintenance duration: 15 minutes.",MONTHLY_DOWNTIME:"Monthly Downtime",ACTIVE_DEVICES:"active devices",ELECTRICAL_INSPECTION:"Electrical Inspection",INSPECTION_DATE:"Inspection Date",VALIDITY:"Validity",EXPIRATION:"Expiration",YEAR:"year",YEARS:"years",SAVE_INSPECTION:"Save Inspection",INSPECTION_UPDATED:"Electrical inspection successfully updated",INSPECTION_DATE_REQUIRED:"Please enter inspection date.",INSPECTION_PERIOD_INVALID:"Please select a valid period.",MAINTENANCE_PERIOD:"Maintenance Period",SELECT_PERIOD:"-- Select Period --",MONTHLY:"Monthly (1 month)",QUARTERLY:"Quarterly (3 months)",SEMI_ANNUALLY:"Semi-annually (6 months)",ANNUALLY:"Annually (12 months)",AUTO_CALCULATES_NEXT:"Automatically calculates next maintenance date",CALCULATED_AUTOMATICALLY:"Calculated automatically if you select a period",SPECIFICATIONS:"Specifications",ADD_FIELD:"Add Field",SPECIFICATIONS_HELP:"Add technical specifications such as dimensions, weight, power, connections, etc.",SPEC_KEY_PLACEHOLDER:"e.g., Dimensions, Weight, Power",SPEC_VALUE_PLACEHOLDER:"e.g., 100x50x30 cm, 250 kg, 5 kW",NO_SPECIFICATIONS:"No specifications added yet"},sk:{APP_TITLE:"Centrum \xDAdr\u017Eby Zariaden\xED",DASHBOARD:"N\xE1stenka",DEVICES:"Zariadenia",SPARE_PARTS:"N\xE1hradn\xE9 diely",MAINTENANCE:"\xDAdr\u017Eba",LOGOUT:"Odhl\xE1si\u0165 sa",LOADING_DATA:"Na\u010D\xEDtavam d\xE1ta...",PLEASE_WAIT:"Pros\xEDm \u010Dakajte chv\xED\u013Eu.",DELETE:"Vymaza\u0165",LOGIN_TITLE:"Centrum \xDAdr\u017Eby Zariaden\xED",LOGIN_SUBTITLE:"Zadajte prihlasovacie \xFAdaje",SIGN_IN_ADMIN:"Prihl\xE1si\u0165 sa ako Admin",SIGN_IN_TECHNICIAN:"Prihl\xE1si\u0165 sa ako Technik",SIGN_IN:"Prihl\xE1si\u0165 sa",EMAIL:"Email",PASSWORD:"Heslo",LOADING:"Na\u010D\xEDtavam...",OPERATIONAL:"V prev\xE1dzke",MAINTENANCE_STATUS:"V \xFAdr\u017Ebe",OFFLINE:"Mimo prev\xE1dzky",LOW_STOCK_PARTS:"N\xEDzke z\xE1soby dielov",TOTAL_DOWNTIME:"Celkov\xFD prestoj",RECENT_MAINTENANCE_ACTIVITY:"Ned\xE1vna aktivita \xFAdr\u017Eby",NO_MAINTENANCE_LOGS_YET:"Zatia\u013E \u017Eiadne z\xE1znamy o \xFAdr\u017Ebe",ADD_MAINTENANCE_LOG_FROM_DEVICE_DETAIL:"Z\xE1znamy o \xFAdr\u017Ebe pridajte na str\xE1nke detailov zariadenia",DEVICE:"Zariadenie",TECHNICIAN:"Technik",DATE:"D\xE1tum",TYPE:"Typ",SCHEDULED:"Pl\xE1novan\xE1",EMERGENCY:"Neodkladn\xE1",ADD_NEW_DEVICE:"Prida\u0165 nov\xE9 zariadenie",EXPORT_DEVICES:"Exportova\u0165 zariadenia",SEARCH_DEVICES:"H\u013Eada\u0165 zariadenia...",DEVICE_NAME:"N\xE1zov",LOCATION:"Umiestnenie",STATUS:"Stav",NEXT_MAINTENANCE:"Nasleduj\xFAca \xFAdr\u017Eba",DETAILS:"Detaily",DOWNTIME:"Prestoj (h)",NO_DEVICES_FOUND:"Pre va\u0161e vyh\u013Ead\xE1vanie sa nena\u0161li \u017Eiadne zariadenia.",LOADING_DEVICES:"Na\u010D\xEDtavam zariadenia...",BACK_TO_DEVICES:"Sp\xE4\u0165 na zariadenia",DEVICE_DETAILS:"Detaily zariadenia",DEVICE_ID:"ID zariadenia",LAST_MAINTENANCE:"Posledn\xE1 \xFAdr\u017Eba",LOG_MAINTENANCE:"Zaznamena\u0165 \xFAdr\u017Ebu",MAINTENANCE_NOTES_PLACEHOLDER:"Zadajte pozn\xE1mky k \xFAdr\u017Ebe...",COMPLETE_LOG_MAINTENANCE:"Dokon\u010Di\u0165 a zaznamena\u0165 \xFAdr\u017Ebu",DEVICE_IN_MAINTENANCE:"Toto zariadenie je moment\xE1lne v \xFAdr\u017Ebe.",DEVICE_QR_CODE:"QR k\xF3d zariadenia",SCAN_QR_CODE_INFO:"Naskenujte pre r\xFDchlu identifik\xE1ciu zariadenia.",ACTIONS:"Akcie",VIEW_MANUAL:"Zobrazi\u0165 manu\xE1l (PDF)",DECOMMISSION_DEVICE:"Vyradi\u0165 zariadenie",LOADING_DEVICE_DETAILS:"Na\u010D\xEDtavam detaily zariadenia...",SET_STATUS_MAINTENANCE:"Nastavi\u0165 na \xDAdr\u017Ebu",SET_STATUS_OFFLINE:"Nastavi\u0165 Mimo prev\xE1dzky",SET_STATUS_OPERATIONAL:"Spusti\u0165 do prev\xE1dzky",SPARE_PARTS_INVENTORY:"Sklad n\xE1hradn\xFDch dielov",ADD_NEW_PART:"Prida\u0165 nov\xFD diel",SEARCH_PARTS:"H\u013Eada\u0165 diely pod\u013Ea n\xE1zvu, SKU, alebo umiestnenia...",PART_NAME:"N\xE1zov",SKU:"SKU",QUANTITY:"Mno\u017Estvo",MIN_QUANTITY:"Min. mno\u017Estvo",LOADING_PARTS:"Na\u010D\xEDtavam diely...",NO_PARTS_FOUND:"Pre va\u0161e vyh\u013Ead\xE1vanie sa nena\u0161li \u017Eiadne diely.",FILTER_ALL_PARTS:"V\u0161etky diely",FILTER_BELOW_MIN:"Pod minimom",FILTER_LOW_STOCK:"N\xEDzke z\xE1soby",FILTER_NORMAL_STOCK:"Norm\xE1lne z\xE1soby",MAINTENANCE_LOG:"Z\xE1znamy o \xFAdr\u017Ebe",ALL:"V\u0161etky",NOTES:"Pozn\xE1mky",LOADING_LOGS:"Na\u010D\xEDtavam z\xE1znamy o \xFAdr\u017Ebe...",NO_LOGS_FOUND_FILTER:"Pre tento filter sa nena\u0161li \u017Eiadne z\xE1znamy.",STATUS_OPERATIONAL:"V prev\xE1dzke",STATUS_MAINTENANCE:"V \xFAdr\u017Ebe",STATUS_OFFLINE:"Mimo prev\xE1dzky",DOWNTIME_TRACKING:"Sledovanie Prestojov",MONTH:"Mesiac",TOTAL_DOWNTIME_HOURS:"Celkov\xFD prestoj",AVERAGE_PERCENTAGE:"Priemern\xE9 %",DEVICES_IN_TARGET:"Zariadenia v cieli",DEVICES_OVER_TARGET:"Zariadenia nad cie\u013Eom",DEVICE_DOWNTIME_DETAILS:"Detaily prestojov zariaden\xED",DEVICE_TYPE:"Typ",MAINTENANCE_COUNT:"Po\u010Det \xFAdr\u017Eieb",TARGET:"Cie\u013E",PROGRESS:"Priebeh",IN_TARGET:"V cieli",OVER_TARGET:"Nad cie\u013Eom",DOWNTIME_INFO_TITLE:"\u2139\uFE0F Inform\xE1cie o v\xFDpo\u010Dte",DOWNTIME_INFO_TEXT:"Pracovn\xFD \u010Das: 160 hod\xEDn/mesiac na zariadenie (20 pracovn\xFDch dn\xED \xD7 8 hod\xEDn). Cie\u013Eov\xFD prestoj: 2.5% = 4 hodiny/mesiac. Do prestojov sa po\u010D\xEDta len neodkladn\xE1 \xFAdr\u017Eba. Minim\xE1lne trvanie \xFAdr\u017Eby: 15 min\xFAt.",MONTHLY_DOWNTIME:"Mesa\u010Dn\xFD prestoj",ACTIVE_DEVICES:"akt\xEDvne zariadenia",ELECTRICAL_INSPECTION:"Elektrick\xE1 rev\xEDzia",INSPECTION_DATE:"D\xE1tum rev\xEDzie",VALIDITY:"Platnos\u0165",EXPIRATION:"Expir\xE1cia",YEAR:"rok",YEARS:"roky",SAVE_INSPECTION:"Ulo\u017Ei\u0165 rev\xEDziu",INSPECTION_UPDATED:"Elektrick\xE1 rev\xEDzia bola \xFAspe\u0161ne aktualizovan\xE1",INSPECTION_DATE_REQUIRED:"Pros\xEDm zadajte d\xE1tum rev\xEDzie.",INSPECTION_PERIOD_INVALID:"Pros\xEDm vyberte platn\xFA peri\xF3du.",MAINTENANCE_PERIOD:"Perioda \xFAdr\u017Eby",SELECT_PERIOD:"-- Vybra\u0165 peri\xF3du --",MONTHLY:"Mesa\u010Dne (1 mesiac)",QUARTERLY:"\u0160tvr\u0165ro\u010Dne (3 mesiace)",SEMI_ANNUALLY:"Polro\u010Dne (6 mesiacov)",ANNUALLY:"Ro\u010Dne (12 mesiacov)",AUTO_CALCULATES_NEXT:"Automaticky vypo\u010D\xEDta d\xE1tum \u010Fal\u0161ej \xFAdr\u017Eby",CALCULATED_AUTOMATICALLY:"Vypo\u010D\xEDta sa automaticky ak vyberiete peri\xF3du",SPECIFICATIONS:"\u0160pecifik\xE1cie",ADD_FIELD:"Prida\u0165 pole",SPECIFICATIONS_HELP:"Pridajte technick\xE9 \u0161pecifik\xE1cie ako rozmery, v\xE1ha, pr\xEDkon, pripojenia, at\u010F.",SPEC_KEY_PLACEHOLDER:"napr. Rozmery, V\xE1ha, Pr\xEDkon",SPEC_VALUE_PLACEHOLDER:"napr. 100x50x30 cm, 250 kg, 5 kW",NO_SPECIFICATIONS:"Zatia\u013E neboli pridan\xE9 \u017Eiadne \u0161pecifik\xE1cie"},de:{APP_TITLE:"Ger\xE4tewartungs-Hub",DASHBOARD:"Dashboard",DEVICES:"Ger\xE4te",SPARE_PARTS:"Ersatzteile",MAINTENANCE:"Wartung",LOGOUT:"Abmelden",LOADING_DATA:"Daten werden geladen...",PLEASE_WAIT:"Bitte warten Sie einen Moment.",DELETE:"L\xF6schen",LOGIN_TITLE:"Ger\xE4tewartungs-Hub",LOGIN_SUBTITLE:"Geben Sie Ihre Anmeldedaten ein",SIGN_IN_ADMIN:"Als Admin anmelden",SIGN_IN_TECHNICIAN:"Als Techniker anmelden",SIGN_IN:"Anmelden",EMAIL:"E-Mail",PASSWORD:"Passwort",LOADING:"L\xE4dt...",OPERATIONAL:"Betriebsbereit",MAINTENANCE_STATUS:"Wartung",OFFLINE:"Offline",LOW_STOCK_PARTS:"Niedriger Lagerbestand",TOTAL_DOWNTIME:"Gesamtausfallzeit",RECENT_MAINTENANCE_ACTIVITY:"Letzte Wartungsaktivit\xE4ten",NO_MAINTENANCE_LOGS_YET:"Noch keine Wartungsprotokolle",ADD_MAINTENANCE_LOG_FROM_DEVICE_DETAIL:"F\xFCgen Sie Wartungsprotokolle von der Ger\xE4tedetailseite hinzu",DEVICE:"Ger\xE4t",TECHNICIAN:"Techniker",DATE:"Datum",TYPE:"Typ",SCHEDULED:"Geplant",EMERGENCY:"Notfall",ADD_NEW_DEVICE:"Neues Ger\xE4t hinzuf\xFCgen",EXPORT_DEVICES:"Ger\xE4te exportieren",SEARCH_DEVICES:"Ger\xE4te suchen...",DEVICE_NAME:"Name",LOCATION:"Standort",STATUS:"Status",NEXT_MAINTENANCE:"N\xE4chste Wartung",DETAILS:"Details",DOWNTIME:"Ausfallzeit (h)",NO_DEVICES_FOUND:"F\xFCr Ihre Suche wurden keine Ger\xE4te gefunden.",LOADING_DEVICES:"Ger\xE4te werden geladen...",BACK_TO_DEVICES:"Zur\xFCck zu den Ger\xE4ten",DEVICE_DETAILS:"Ger\xE4tedetails",DEVICE_ID:"Ger\xE4te-ID",LAST_MAINTENANCE:"Letzte Wartung",LOG_MAINTENANCE:"Wartung protokollieren",MAINTENANCE_NOTES_PLACEHOLDER:"Wartungsnotizen eingeben...",COMPLETE_LOG_MAINTENANCE:"Wartung abschlie\xDFen & protokollieren",DEVICE_IN_MAINTENANCE:"Dieses Ger\xE4t wird derzeit gewartet.",DEVICE_QR_CODE:"Ger\xE4te-QR-Code",SCAN_QR_CODE_INFO:"Scannen, um dieses Ger\xE4t schnell zu identifizieren.",ACTIONS:"Aktionen",VIEW_MANUAL:"Anleitung ansehen (PDF)",DECOMMISSION_DEVICE:"Ger\xE4t au\xDFer Betrieb nehmen",LOADING_DEVICE_DETAILS:"Ger\xE4tedetails werden geladen...",SET_STATUS_MAINTENANCE:"Auf Wartung setzen",SET_STATUS_OFFLINE:"Offline setzen",SET_STATUS_OPERATIONAL:"Online schalten",SPARE_PARTS_INVENTORY:"Ersatzteilinventar",ADD_NEW_PART:"Neues Teil hinzuf\xFCgen",SEARCH_PARTS:"Teile nach Name, SKU oder Standort suchen...",PART_NAME:"Name",SKU:"SKU",QUANTITY:"Menge",MIN_QUANTITY:"Min. Menge",LOADING_PARTS:"Ersatzteile werden geladen...",NO_PARTS_FOUND:"F\xFCr Ihre Suche wurden keine Teile gefunden.",FILTER_ALL_PARTS:"Alle Teile",FILTER_BELOW_MIN:"Unter Minimum",FILTER_LOW_STOCK:"Niedriger Bestand",FILTER_NORMAL_STOCK:"Normaler Bestand",MAINTENANCE_LOG:"Wartungsprotokoll",ALL:"Alle",NOTES:"Notizen",LOADING_LOGS:"Wartungsprotokolle werden geladen...",NO_LOGS_FOUND_FILTER:"F\xFCr diesen Filter wurden keine Protokolle gefunden.",STATUS_OPERATIONAL:"Betriebsbereit",STATUS_MAINTENANCE:"Wartung",STATUS_OFFLINE:"Offline",DOWNTIME_TRACKING:"Ausfallzeit-Verfolgung",MONTH:"Monat",TOTAL_DOWNTIME_HOURS:"Gesamtausfallzeit",AVERAGE_PERCENTAGE:"Durchschnitt %",DEVICES_IN_TARGET:"Ger\xE4te im Ziel",DEVICES_OVER_TARGET:"Ger\xE4te \xFCber Ziel",DEVICE_DOWNTIME_DETAILS:"Ger\xE4te-Ausfallzeit Details",DEVICE_TYPE:"Typ",MAINTENANCE_COUNT:"Wartungsanzahl",TARGET:"Ziel",PROGRESS:"Fortschritt",IN_TARGET:"Im Ziel",OVER_TARGET:"\xDCber Ziel",DOWNTIME_INFO_TITLE:"\u2139\uFE0F Berechnungsinformationen",DOWNTIME_INFO_TEXT:"Arbeitszeit: 160 Stunden/Monat pro Ger\xE4t (20 Arbeitstage \xD7 8 Stunden). Ziel-Ausfallzeit: 2,5% = 4 Stunden/Monat. Nur Notfallwartungen z\xE4hlen zur Ausfallzeit. Minimale Wartungsdauer: 15 Minuten.",MONTHLY_DOWNTIME:"Monatliche Ausfallzeit",ACTIVE_DEVICES:"aktive Ger\xE4te",ELECTRICAL_INSPECTION:"Elektrische Inspektion",INSPECTION_DATE:"Inspektionsdatum",VALIDITY:"G\xFCltigkeit",EXPIRATION:"Ablaufdatum",YEAR:"Jahr",YEARS:"Jahre",SAVE_INSPECTION:"Inspektion speichern",INSPECTION_UPDATED:"Elektrische Inspektion erfolgreich aktualisiert",INSPECTION_DATE_REQUIRED:"Bitte geben Sie das Inspektionsdatum ein.",INSPECTION_PERIOD_INVALID:"Bitte w\xE4hlen Sie einen g\xFCltigen Zeitraum.",MAINTENANCE_PERIOD:"Wartungsperiode",SELECT_PERIOD:"-- Periode w\xE4hlen --",MONTHLY:"Monatlich (1 Monat)",QUARTERLY:"Viertelj\xE4hrlich (3 Monate)",SEMI_ANNUALLY:"Halbj\xE4hrlich (6 Monate)",ANNUALLY:"J\xE4hrlich (12 Monate)",AUTO_CALCULATES_NEXT:"Berechnet automatisch das n\xE4chste Wartungsdatum",CALCULATED_AUTOMATICALLY:"Wird automatisch berechnet, wenn Sie eine Periode w\xE4hlen",SPECIFICATIONS:"Spezifikationen",ADD_FIELD:"Feld hinzuf\xFCgen",SPECIFICATIONS_HELP:"F\xFCgen Sie technische Spezifikationen wie Abmessungen, Gewicht, Leistung, Anschl\xFCsse usw. hinzu.",SPEC_KEY_PLACEHOLDER:"z.B. Abmessungen, Gewicht, Leistung",SPEC_VALUE_PLACEHOLDER:"z.B. 100x50x30 cm, 250 kg, 5 kW",NO_SPECIFICATIONS:"Noch keine Spezifikationen hinzugef\xFCgt"}},Cr=class Cr{constructor(){this.languageSignal=On(this.getInitialLanguage());this.currentLanguage=this.languageSignal.asReadonly();this.currentTranslations=Kh(()=>jM[this.languageSignal()])}getTranslation(t){return this.currentTranslations()[t]||t}setLanguage(t){this.languageSignal.set(t),localStorage.setItem("language",t)}getInitialLanguage(){let t=localStorage.getItem("language");return t&&(t==="en"||t==="sk"||t==="de")?t:"en"}};Cr.\u0275fac=function(n){return new(n||Cr)},Cr.\u0275prov=b({token:Cr,factory:Cr.\u0275fac,providedIn:"root"});var X_=Cr;var Sr=class Sr{constructor(t){this.http=t}get(t,n){let r=new It;return n&&Object.keys(n).forEach(o=>{n[o]!==null&&n[o]!==void 0&&(r=r.append(o,n[o].toString()))}),this.http.get(t,{params:r})}post(t,n){return this.http.post(t,n)}put(t,n){return this.http.put(t,n)}patch(t,n){return this.http.patch(t,n)}delete(t){return this.http.delete(t)}getById(t,n){return this.get(`${t}/${n}`)}create(t,n){return this.post(t,n)}update(t,n,r){return this.put(`${t}/${n}`,r)}remove(t,n){return this.delete(`${t}/${n}`)}};Sr.\u0275fac=function(n){return new(n||Sr)(S(Eu))},Sr.\u0275prov=b({token:Sr,factory:Sr.\u0275fac,providedIn:"root"});var eD=Sr;var Up={production:!1,enableMockData:!1,enableLogging:!0,supabase:{url:"YOUR_SUPABASE_PROJECT_URL",anonKey:"YOUR_SUPABASE_ANON_KEY"},apiUrl:"http://localhost:3001/api",apiTimeout:3e4,jwtTokenKey:"auth_token",refreshTokenKey:"refresh_token"};J();var tD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var bs=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Is=class extends bs{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ts=class extends bs{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Cs=class extends bs{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},$p=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})($p||{});var Ss=class{constructor(t,{headers:n={},customFetch:r,region:o=$p.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=tD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return E(this,arguments,void 0,function*(n,r={}){var o;try{let{headers:i,method:s,body:a,signal:c}=r,u={},{region:l}=r;l||(l=this.region);let d=new URL(`${this.url}/${n}`);l&&l!=="any"&&(u["x-region"]=l,d.searchParams.set("forceFunctionRegion",l));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(u["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(u["Content-Type"]="application/json",h=JSON.stringify(a)):h=a;let f=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(v=>{throw v.name==="AbortError"?v:new Is(v)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Ts(f);if(!f.ok)throw new Cs(f);let m=((o=f.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield f.json():m==="application/octet-stream"||m==="application/pdf"?g=yield f.blob():m==="text/event-stream"?g=f:m==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Is(i)}:{data:null,error:i,response:i instanceof Cs||i instanceof Ts?i.context:void 0}}})}};var rg=bb(dD(),1),{PostgrestClient:fD,PostgrestQueryBuilder:v3,PostgrestFilterBuilder:y3,PostgrestTransformBuilder:E3,PostgrestBuilder:w3,PostgrestError:YM}=rg.default||rg;var og=class{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},ig=og;var hD="2.78.0";var pD=`realtime-js/${hD}`,gD="1.0.0";var Ns=1e4,mD=1e3,vD=100,Rs=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(Rs||{}),Ee=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(Ee||{}),at=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(at||{}),sg=(function(e){return e.websocket="websocket",e})(sg||{}),Ar=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(Ar||{});var Ku=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+o));s=s+o;let c=r.decode(t.slice(s,s+i));s=s+i;let u=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}};var Ho=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var X=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(X||{}),cg=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=ZM(s,e,t,o),i),{}):{}},ZM=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?yD(i,s):ag(s)},yD=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return eO(t,n)}switch(e){case X.bool:return QM(t);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return JM(t);case X.json:case X.jsonb:return XM(t);case X.timestamp:return tO(t);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return ag(t);default:return ag(t)}},ag=e=>e,QM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JM=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},XM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eO=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>yD(t,a))}return e},tO=e=>typeof e=="string"?e.replace(" ","T"):e,Yu=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var zo=class{constructor(t,n,r={},o=Ns){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Ms=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(g=>g.presence_ref),f=d.map(g=>g.presence_ref),p=l.filter(g=>f.indexOf(g.presence_ref)<0),m=d.filter(g=>h.indexOf(g.presence_ref)<0);p.length>0&&(a[u]=p),m.length>0&&(c[u]=m)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),l.length>0){let d=t[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=t[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),t[a]=u,o(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Os=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(Os||{}),fn=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(fn||{});var xs=class e{constructor(t,n={config:{}},r){var o,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zo(this,at.join,this.params,this.timeout),this.rejoinTimer=new Ho(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(at.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ms(this),this.broadcastEndpointURL=Yu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ee.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,u=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[Os.PRESENCE]&&this.bindings[Os.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(fn.CHANNEL_ERROR,f)),this._onClose(()=>t?.(fn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(fn.SUBSCRIBED);return}else{let m=this.bindings.postgres_changes,g=(p=m?.length)!==null&&p!==void 0?p:0,v=[];for(let A=0;A<g;A++){let I=m[A],{filter:{event:_,schema:V,table:we,filter:G}}=I,ee=f&&f[A];if(ee&&ee.event===_&&ee.schema===V&&ee.table===we&&ee.filter===G)v.push(Object.assign(Object.assign({},I),{id:ee.id}));else{this.unsubscribe(),this.state=Ee.errored,t?.(fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(fn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ee.errored,t?.(fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ee.joined&&t===Os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var o;let i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(at.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new zo(this,at.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ee.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new zo(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vD){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=at;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var p,m,g;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(m=f.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,m,g,v,A,I;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let _=f.id,V=(p=f.filter)===null||p===void 0?void 0:p.event;return _&&((m=n.ids)===null||m===void 0?void 0:m.includes(_))&&(V==="*"||V?.toLocaleLowerCase()===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{let _=(A=(v=f?.filter)===null||v===void 0?void 0:v.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return _==="*"||_===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:m,table:g,commit_timestamp:v,type:A,errors:I}=p;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:v,eventType:A,new:{},old:{},errors:I}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(at.close,{},t)}_onError(t){this._on(at.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=cg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=cg(t.columns,t.old_record)),n}};var ug=()=>{},Zu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rO=[1e3,2e3,5e3,1e4],oO=1e4,iO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ks=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ns,this.transport=null,this.heartbeatIntervalMs=Zu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ug,this.ref=0,this.reconnectTimer=null,this.logger=ug,this.conn=null,this.sendBuffer=[],this.serializer=new Ku,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-MCB5SN47.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${sg.websocket}`,this.httpEndpoint=Yu(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ig.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gD}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rs.connecting:return Ar.Connecting;case Rs.open:return Ar.Open;case Rs.closing:return Ar.Closing;default:return Ar.Closed}}isConnected(){return this.connectionState()===Ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new xs(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(mD,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Zu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(at.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([iO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let o={access_token:n,version:pD};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(at.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ho(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,i,s,a,c,u,l;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ns,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Zu.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:ug,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:d=>rO[d-1]||oO,this.encode=(u=t?.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(l=t?.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};J();var Go=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function q(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Qu=class extends Go{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Nr=class extends Go{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};J();J();var Wo=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ED=()=>E(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MCB5SN47.js")).Response:Response}),Ju=e=>{if(Array.isArray(e))return e.map(n=>Ju(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=Ju(r)}),t},wD=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var lg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},sO=(e,t,n)=>E(void 0,void 0,void 0,function*(){let r=yield ED();e instanceof r&&!n?.noResolveJson?e.json().then(o=>{let i=e.status||500,s=o?.statusCode||i+"";t(new Qu(lg(o),i,s))}).catch(o=>{t(new Nr(lg(o),o))}):t(new Nr(lg(e),e))}),aO=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(wD(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function Ps(e,t,n,r,o,i){return E(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,aO(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>sO(c,a,r))})})}function Un(e,t,n,r){return E(this,void 0,void 0,function*(){return Ps(e,"GET",t,n,r)})}function We(e,t,n,r,o){return E(this,void 0,void 0,function*(){return Ps(e,"POST",t,r,o,n)})}function Ls(e,t,n,r,o){return E(this,void 0,void 0,function*(){return Ps(e,"PUT",t,r,o,n)})}function _D(e,t,n,r){return E(this,void 0,void 0,function*(){return Ps(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function qo(e,t,n,r,o){return E(this,void 0,void 0,function*(){return Ps(e,"DELETE",t,r,o,n)})}J();J();var Xu=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return E(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(q(t))return{data:null,error:t};throw t}})}};var DD,dg=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[DD]="BlobDownloadBuilder",this.promise=null}asStream(){return new Xu(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return E(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(q(t))return{data:null,error:t};throw t}})}};DD=Symbol.toStringTag;var bD=dg;var cO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ID={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},el=class{constructor(t,n={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Wo(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,o){return E(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},ID),o),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let u=this._removeEmptyFolders(n),l=this._getFinalPath(u),d=yield(t=="PUT"?Ls:We)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(q(i))return{data:null,error:i};throw i}})}upload(t,n,r){return E(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return E(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,u=Object.assign({upsert:ID.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield Ls(this.fetch,a.toString(),c,{headers:l});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(q(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return E(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield We(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Go("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}update(t,n,r){return E(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return E(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(q(o))return{data:null,error:o};throw o}})}copy(t,n,r){return E(this,void 0,void 0,function*(){try{return{data:{path:(yield We(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(q(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return E(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield We(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(q(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return E(this,void 0,void 0,function*(){try{let o=yield We(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(q(o))return{data:null,error:o};throw o}})}download(t,n){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),c=()=>Un(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new bD(c,this.shouldThrowOnError)}info(t){return E(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield Un(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ju(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}exists(t){return E(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield _D(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r)&&r instanceof Nr){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return E(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}list(t,n,r){return E(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},cO),n),{prefix:t||""});return{data:yield We(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(q(o))return{data:null,error:o};throw o}})}listV2(t,n){return E(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield We(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};J();var tl="2.78.0";var nl={"X-Client-Info":`storage-js/${tl}`};var rl=class{constructor(t,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nl),n),this.fetch=Wo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return E(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(t);return{data:yield Un(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}getBucket(t){return E(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}createBucket(t){return E(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield We(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(q(o))return{data:null,error:o};throw o}})}updateBucket(t,n){return E(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}emptyBucket(t){return E(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}deleteBucket(t){return E(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){let n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}};J();var ol=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nl),n),this.fetch=Wo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return E(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}listBuckets(t){return E(this,void 0,void 0,function*(){try{let n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);let r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Un(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}deleteBucket(t){return E(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}};J();J();var Ko={"X-Client-Info":`storage-js/${tl}`,"Content-Type":"application/json"};var il=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ke(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Yo=class extends il{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sl=class extends il{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}};J();var Zo=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var TD=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var CD=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uO=(e,t,n)=>E(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let o=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";t(new Yo(CD(s),o,a))}).catch(()=>{let s=o+"",a=i.statusText||`HTTP ${o} error`;t(new Yo(a,o,s))});else{let s=o+"",a=i.statusText||`HTTP ${o} error`;t(new Yo(a,o,s))}}else t(new sl(CD(e),e))}),lO=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(TD(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n))};function dO(e,t,n,r,o,i){return E(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,lO(t,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>uO(c,a,r))})})}function Pe(e,t,n,r,o){return E(this,void 0,void 0,function*(){return dO(e,"POST",t,r,o,n)})}var al=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ko),n),this.fetch=Zo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return E(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}getIndex(t,n){return E(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}listIndexes(t){return E(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return E(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}};J();var cl=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ko),n),this.fetch=Zo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return E(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pe(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}getVectors(t){return E(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}listVectors(t){return E(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Pe(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}queryVectors(t){return E(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}deleteVectors(t){return E(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pe(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}};J();var ul=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ko),n),this.fetch=Zo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return E(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}getBucket(t){return E(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}listBuckets(){return E(this,arguments,void 0,function*(t={}){try{return{data:yield Pe(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}deleteBucket(t){return E(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}};var Fs=class extends ul{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new ll(this.url,this.headers,t,this.fetch)}},ll=class extends al{constructor(t,n,r,o){super(t,n,o),this.vectorBucketName=r}createIndex(t){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return E(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return E(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return E(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return E(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new dl(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},dl=class extends cl{constructor(t,n,r,o,i){super(t,n,i),this.vectorBucketName=r,this.indexName=o}putVectors(t){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return E(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return E(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return E(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return E(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return E(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var js=class extends rl{constructor(t,n={},r,o){super(t,n,r,o)}from(t){return new el(this.url,this.headers,t,this.fetch)}get vectors(){return new Fs(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ol(this.url+"/iceberg",this.headers,this.fetch)}};var SD="2.78.0";var Us="";typeof Deno<"u"?Us="deno":typeof document<"u"?Us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Us="react-native":Us="node";var fO={"X-Client-Info":`supabase-js-${Us}/${SD}`},AD={headers:fO},ND={schema:"public"},RD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MD={};Cg();var hO=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ig:t=fetch,(...n)=>t(...n)},pO=()=>typeof Headers>"u"?Tg:Headers,OD=(e,t,n)=>{let r=hO(n),o=pO();return async(i,s)=>{var a;let c=(a=await t())!==null&&a!==void 0?a:e,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:u}))}};function gO(e){return e.endsWith("/")?e:e+"/"}function xD(e,t){var n,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:u,realtime:l,global:d}=t,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},l),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function kD(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}J();J();var fl="2.78.0";var Rr=30*1e3,hl=3,pl=hl*Rr,PD="http://localhost:9999",LD="supabase.auth.token";var FD={"X-Client-Info":`gotrue-js/${fl}`};var $s="X-Supabase-Api-Version",fg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,UD=600*1e3;var $n=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function T(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var gl=class extends $n{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function $D(e){return T(e)&&e.name==="AuthApiError"}var ct=class extends $n{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},zt=class extends $n{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},Be=class extends zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function BD(e){return T(e)&&e.name==="AuthSessionMissingError"}var hn=class extends zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Mr=class extends zt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Or=class extends zt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function VD(e){return T(e)&&e.name==="AuthImplicitGrantRedirectError"}var Bs=class extends zt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Qo=class extends zt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function ml(e){return T(e)&&e.name==="AuthRetryableFetchError"}var Vs=class extends zt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var xr=class extends zt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),HD=` 	
\r=`.split(""),mO=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<HD.length;t+=1)e[HD[t].charCodeAt(0)]=-2;for(let t=0;t<vl.length;t+=1)e[vl[t].charCodeAt(0)]=t;return e})();function zD(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(vl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(vl[r]),t.queuedBits-=6}}function GD(e,t,n){let r=mO[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hg(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{EO(s,r,n)};for(let s=0;s<e.length;s+=1)GD(e.charCodeAt(s),o,i);return t.join("")}function vO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function yO(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}vO(r,t)}}function EO(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Bn(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)GD(e.charCodeAt(o),n,r);return new Uint8Array(t)}function WD(e){let t=[];return yO(e,n=>t.push(n)),new Uint8Array(t)}function pn(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>zD(o,n,r)),zD(null,n,r),t.join("")}function qD(e){return Math.round(Date.now()/1e3)+e}function KD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var Ae=()=>typeof window<"u"&&typeof document<"u",kr={tested:!1,writable:!1},yl=()=>{if(!Ae())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kr.tested)return kr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),kr.tested=!0,kr.writable=!0}catch{kr.tested=!0,kr.writable=!1}return kr.writable};function YD(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var El=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ZD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Vn=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gn=async(e,t)=>{await e.removeItem(t)},Hs=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Hs.promiseConstructor=Promise;function wl(e){let t=e.split(".");if(t.length!==3)throw new xr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!jD.test(t[r]))throw new xr("JWT not in base64url format");return{header:JSON.parse(hg(t[0])),payload:JSON.parse(hg(t[1])),signature:Bn(t[2]),raw:{header:t[0],payload:t[1]}}}async function QD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function JD(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function wO(e){return("0"+e.toString(16)).substr(-2)}function _O(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,wO).join("")}async function DO(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function bO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await DO(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lr(e,t,n=!1){let r=_O(),o=r;n&&(o+="/PASSWORD_RECOVERY"),await Pr(e,`${t}-code-verifier`,o);let i=await bO(r);return[i,r===i?"plain":"s256"]}var IO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XD(e){let t=e.headers.get($s);if(!t||!t.match(IO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eb(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var TO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fr(e){if(!TO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _l(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nb(e,t){return new Proxy(e,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,o)}})}function pg(e){return JSON.parse(JSON.stringify(e))}var jr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CO=[502,503,504];async function rb(e){var t;if(!ZD(e))throw new Qo(jr(e),0);if(CO.includes(e.status))throw new Qo(jr(e),e.status);let n;try{n=await e.json()}catch(i){throw new ct(jr(i),i)}let r,o=XD(e);if(o&&o.getTime()>=fg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Vs(jr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Be}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Vs(jr(n),e.status,n.weak_password.reasons);throw new gl(jr(n),e.status||500,r)}var SO=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function M(e,t,n,r){var o;let i=Object.assign({},r?.headers);i[$s]||(i[$s]=fg["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await AO(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function AO(e,t,n,r,o,i){let s=SO(t,r,o,i),a;try{a=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new Qo(jr(c),0)}if(a.ok||await rb(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await rb(c)}}function ut(e){var t;let n=null;NO(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=qD(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function gg(e){let t=ut(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ob(e){return{data:e,error:null}}function ib(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=qt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function mg(e){return e}function NO(e){return e.access_token&&e.refresh_token&&e.expires_in}var Dl=["global","local","others"];var Jo=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=El(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Dl[0]){if(Dl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dl.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Gt})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=qt(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:ib,redirectTo:n?.redirectTo})}catch(n){if(T(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gt})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:mg});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(T(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fr(t);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gt})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Fr(t);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Gt})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Fr(t);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Gt})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Fr(t.userId);try{let{data:n,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(T(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Fr(t.userId),Fr(t.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await M(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:mg});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(T(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(T(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await M(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(T(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await M(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(T(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await M(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(T(n))return{data:null,error:n};throw n}}};function vg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var Ur={debug:!!(globalThis&&yl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},zs=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},bl=class extends zs{};async function yg(e,t,n){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bl(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ur.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function sb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Eg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ab(e){return parseInt(e,16)}function cb(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function ub(e){var t;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=Eg(e.address),p=l?`${l}://${r}`:r,m=e.statement?`${e.statement}
`:"",g=`${p} wants you to sign in with your Ethereum account:
${f}

${m}`,v=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(v+=`
Expiration Time: ${o.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let A=`
Resources:`;for(let I of u){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);A+=`
- ${I}`}v+=A}return`${g}
${v}`}J();var ne=class extends Error{constructor({message:t,code:n,cause:r,name:o}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},$r=class extends ne{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function lb({error:e,options:t}){var n,r,o;let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ne({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(wg(s)){if(i.rp.id!==s)return new ne({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function db({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ne({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(wg(r)){if(n.rpId!==r)return new ne({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var _g=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},RO=new _g;function hb(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,o=qt(e,["challenge","user","excludeCredentials"]),i=Bn(t).buffer,s=Object.assign(Object.assign({},n),{id:Bn(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Bn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function pb(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=qt(e,["challenge","allowCredentials"]),o=Bn(t).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Bn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function gb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:pn(new Uint8Array(e.response.attestationObject)),clientDataJSON:pn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:pn(new Uint8Array(o.authenticatorData)),clientDataJSON:pn(new Uint8Array(o.clientDataJSON)),signature:pn(new Uint8Array(o.signature)),userHandle:o.userHandle?pn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function fb(){var e,t;return!!(Ae()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function MO(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $r("Browser returned unexpected credential type",t)}:{data:null,error:new $r("Empty credential response",t)}}catch(t){return{data:null,error:lb({error:t,options:e})}}}async function OO(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $r("Browser returned unexpected credential type",t)}:{data:null,error:new $r("Empty credential response",t)}}catch(t){return{data:null,error:db({error:t,options:e})}}}var xO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},kO={userVerification:"preferred",hints:["security-key"]};function Il(...e){let t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of e)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(t(s)){let a=r[i];t(a)?r[i]=Il(a,s):r[i]=Il(s)}else r[i]=s}return r}function PO(e,t){return Il(xO,e,t||{})}function LO(e,t){return Il(kO,e,t||{})}var Tl=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:o},i){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:a};let c=o??RO.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{let u=PO(s.webauthn.credential_options.publicKey,i?.create),{data:l,error:d}=await MO({publicKey:u,signal:c});return l?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}case"request":{let u=LO(s.webauthn.credential_options.publicKey,i?.request),{data:l,error:d}=await OO(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return l?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}}}catch(s){return T(s)?{data:null,error:s}:{data:null,error:new ct("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!n)return{data:null,error:new $n("rpId is required for WebAuthn authentication")};try{if(!fb())return{data:null,error:new ct("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return T(s)?{data:null,error:s}:{data:null,error:new ct("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!n)return{data:null,error:new $n("rpId is required for WebAuthn registration")};try{if(!fb())return{data:null,error:new ct("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(l=>{var d;return(d=l.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(l=>l?this.client.mfa.unenroll({factorId:l?.id}):void 0),{data:null,error:a};let{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return T(s)?{data:null,error:s}:{data:null,error:new ct("Unexpected error in register",s)}}}};sb();var FO={url:PD,storageKey:LD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vb(e,t,n){return await n()}var Xo={},jO=(()=>{class e{get jwks(){var n,r;return(r=(n=Xo[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Xo[this.storageKey]=Object.assign(Object.assign({},Xo[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Xo[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Xo[this.storageKey]=Object.assign(Object.assign({},Xo[this.storageKey]),{cachedAt:n})}constructor(n){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Ae()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},FO),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Jo({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=El(i.fetch),this.lock=i.lock||vb,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ae()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=yg:this.lock=vb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Tl(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:yl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=vg(this.memoryStorage)),Ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fl}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r=YD(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce"),Ae()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),VD(s)){let u=(n=s.details)===null||n===void 0?void 0:n.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return T(r)?{error:r}:{error:new ct("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,o,i;try{let s=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ut}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(T(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(n){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,m=null;this.flowType==="pkce"&&([p,m]=await Lr(this.storage,this.storageKey)),s=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:m},xform:ut})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ut})}else throw new Mr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(T(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:gg})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:gg})}else throw new Mr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new hn}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,o,i,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,o,i,s,a,c,u,l,d,h,f;let p,m;if("message"in n)p=n.message,m=n.signature;else{let{chain:g,wallet:v,statement:A,options:I}=n,_;if(Ae())if(typeof v=="object")_=v;else{let Wt=window;if("ethereum"in Wt&&typeof Wt.ethereum=="object"&&"request"in Wt.ethereum&&typeof Wt.ethereum.request=="function")_=Wt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}let V=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href),we=await _.request({method:"eth_requestAccounts"}).then(Wt=>Wt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!we||we.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let G=Eg(we[0]),ee=(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ee){let Wt=await _.request({method:"eth_chainId"});ee=ab(Wt)}let wb={domain:V.host,address:G,statement:A,uri:V.href,version:"1",chainId:ee,nonce:(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=I?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=ub(wb),m=await _.request({method:"personal_sign",params:[cb(p),G]})}try{let{data:g,error:v}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ut});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new hn}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(T(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(n){var r,o,i,s,a,c,u,l,d,h,f,p;let m,g;if("message"in n)m=n.message,g=n.signature;else{let{chain:v,wallet:A,statement:I,options:_}=n,V;if(Ae())if(typeof A=="object")V=A;else{let G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))V=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=A}let we=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in V&&V.signIn){let G=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:we.host,uri:we.href}),I?{statement:I}:null)),ee;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")ee=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)ee=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ee&&"signature"in ee&&(typeof ee.signedMessage=="string"||ee.signedMessage instanceof Uint8Array)&&ee.signature instanceof Uint8Array)m=typeof ee.signedMessage=="string"?ee.signedMessage:new TextDecoder().decode(ee.signedMessage),g=ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${we.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${we.href}`,`Issued At: ${(i=(o=_?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=_?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((u=_?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(d=_?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(ee=>`- ${ee}`)]:[]].join(`
`);let G=await V.signMessage(new TextEncoder().encode(m),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=G}}try{let{data:v,error:A}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:pn(g)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ut});if(A)throw A;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new hn}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:A})}catch(v){if(T(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(n){let r=await Vn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:ut});if(await gn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new hn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(T(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(n){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ut}),{data:u,error:l}=c;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new hn}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,o,i,s,a;try{if("email"in n){let{email:c,options:u}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=await Lr(this.storage,this.storageKey));let{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new Mr("You must provide either an email or phone number.")}catch(c){if(T(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(n){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ut});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(n){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Lr(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:ob})}catch(s){if(T(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new Be;let{error:i}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(n){if(T(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=await M(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=await M(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Mr("You must provide either an email or phone number and a type")}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await Vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<pl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=await Vn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=_l()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=nb(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Gt}):await this._useSession(async r=>{var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Be}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Gt})})}catch(r){if(T(r))return BD(r)&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new Be;let a=i.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=await Lr(this.storage,this.storageKey));let{data:l,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:Gt});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(o){if(T(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Be;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=wl(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:u}=await this._callRefreshToken(n.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=await this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(T(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new Be;let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!Ae())throw new Or("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Or(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Bs("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Or("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Bs("No code detected.");let{data:I,error:_}=await this._exchangeCodeForSession(n.code);if(_)throw _;let V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:I.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!s||!c||!a||!l)throw new Or("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let p=f-d;p*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:g,error:v}=await this._getUser(s);if(v)throw v;let A={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:n.type},error:null}}catch(o){if(T(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await Vn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!($D(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){let r=KD(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Lr(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(T(s))return{data:null,error:s};throw s}}async getUserIdentities(){var n;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ae()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(T(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:u,access_token:l,nonce:d}=n,h=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:u,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ut}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new hn}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:p})}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(T(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await JD(async i=>(i>0&&await QD(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ut})),(i,s)=>{let a=200*Math.pow(2,i);return s&&ml(s)&&Date.now()+a-o<Rr})}catch(o){if(this._debug(r,"error",o),T(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),Ae()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=await Vn(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Vn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Pr(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:_l()}else if(i&&!i.user&&!i.user){let a=await Vn(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await gn(this.storage,this.storageKey+"-user"),await Pr(this.storage,this.storageKey,i)):i.user=_l()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<pl;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${pl}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),ml(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var r,o;if(!n)throw new Be;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Hs;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Be;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),T(s)){let a={data:null,error:s};return ml(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,o=!0){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Pr(this.userStorage,this.storageKey+"-user",{user:r.user});let i=Object.assign({},r);delete i.user;let s=pg(i);await Pr(this.storage,this.storageKey,s)}else{let i=pg(r);await Pr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await gn(this.storage,this.storageKey),await gn(this.storage,this.storageKey+"-code-verifier"),await gn(this.storage,this.storageKey+"-user"),this.userStorage&&await gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ae()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Rr}ms, refresh threshold is ${hl} ticks`),i<=hl&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof zs)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ae()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=await Lr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?{data:null,error:s}:await M(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(T(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:u,error:l}=await M(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(n.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(T(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?gb(n.webauthn.credential_response):mb(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:u}=await M(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(r){if(T(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=await M(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:hb(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:pb(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(T(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){let{data:r,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;let{data:{session:o},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=wl(o.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let l=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?{data:null,error:i}:o?await M(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Be}})}catch(r){if(T(r))return{data:null,error:r};throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Be};let a=await M(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Ae()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(T(o))return{data:null,error:o};throw o}}async _denyAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Be};let a=await M(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Ae()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(T(o))return{data:null,error:o};throw o}}async fetchJwk(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+UD>i)return o;let{data:s,error:a}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(c=>c.kid===n),!o)?null:o}async getClaims(n,r={}){try{let o=n;if(!o){let{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};o=p.session.access_token}let{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=wl(o);r?.allowExpired||eb(s.exp);let l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){let{error:p}=await this.getUser(o);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}let d=tb(i.alg),h=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,WD(`${c}.${u}`)))throw new xr("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(o){if(T(o))return{data:null,error:o};throw o}}}return e.nextInstanceID=0,e})(),Dg=jO;var UO=Dg,bg=UO;var Cl=class extends bg{constructor(t){super(t)}};var Sl=class{constructor(t,n,r){var o,i,s;this.supabaseUrl=t,this.supabaseKey=n;let a=kD(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:ND,realtime:MD,auth:Object.assign(Object.assign({},RD),{storageKey:c}),global:AD},l=xD(r??{},u);this.storageKey=(o=l.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=l.auth)!==null&&s!==void 0?s:{},this.headers,l.global.fetch),this.fetch=OD(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new fD(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new js(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Ss(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();let{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:u},l,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cl({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),l),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ks(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var yb=(e,t,n)=>new Sl(e,t,n);function $O(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$O()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Br=class Br{constructor(){this.supabase=yb(Up.supabase.url,Up.supabase.anonKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}getClient(){return this.supabase}get auth(){return this.supabase.auth}get db(){return this.supabase}get storage(){return this.supabase.storage}subscribeToTable(t,n){return this.supabase.channel(`public:${t}`).on("postgres_changes",{event:"*",schema:"public",table:t},n).subscribe()}unsubscribe(t){this.supabase.removeChannel(t)}};Br.\u0275fac=function(n){return new(n||Br)},Br.\u0275prov=b({token:Br,factory:Br.\u0275fac,providedIn:"root"});var Eb=Br;export{me as a,ce as b,R as c,Yr as d,Bb as e,F as f,Qb as g,At as h,Jb as i,Te as j,ve as k,w as l,Ba as m,b as n,In as o,C as p,y as q,ev as r,tv as s,pv as t,gv as u,cr as v,On as w,pr as x,kc as y,jt as z,Py as A,QT as B,Oe as C,pe as D,bo as E,ae as F,Mh as G,vr as H,kn as I,Oh as J,PE as K,FE as L,Io as M,Zc as N,i0 as O,s0 as P,a0 as Q,c0 as R,u0 as S,l0 as T,BE as U,Fh as V,jh as W,Qc as X,Uh as Y,$h as Z,VE as _,p0 as $,zE as aa,Jc as ba,WE as ca,E0 as da,w0 as ea,ZE as fa,QE as ga,M0 as ha,V0 as ia,rw as ja,zh as ka,ow as la,iw as ma,sw as na,q0 as oa,aw as pa,K0 as qa,X0 as ra,eA as sa,tA as ta,nA as ua,iA as va,aA as wa,cA as xa,Ut as ya,Kh as za,Ew as Aa,zi as Ba,tu as Ca,sn as Da,eN as Ea,rN as Fa,$w as Ga,EN as Ha,qN as Ia,KN as Ja,ZN as Ka,ln as La,kp as Ma,Bo as Na,Wu as Oa,SM as Pa,RM as Qa,FM as Ra,X_ as Sa,eD as Ta,Up as Ua,Eb as Va};
