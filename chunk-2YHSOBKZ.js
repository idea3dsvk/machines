import{a as ue,b as we,c as iE,d as zt,e as sE,f as aE,g as Wt,i as rf,j as of,m as cE,n as sf}from"./chunk-K5CSBBV3.js";var Jt={};sE(Jt,{__addDisposableResource:()=>Ff,__assign:()=>li,__asyncDelegator:()=>xf,__asyncGenerator:()=>hi,__asyncValues:()=>pi,__await:()=>Xe,__awaiter:()=>v,__classPrivateFieldGet:()=>kf,__classPrivateFieldIn:()=>Lf,__classPrivateFieldSet:()=>Pf,__createBinding:()=>fi,__decorate:()=>vf,__disposeResources:()=>jf,__esDecorate:()=>_f,__exportStar:()=>Cf,__extends:()=>yf,__generator:()=>Tf,__importDefault:()=>Rf,__importStar:()=>Of,__makeTemplateObject:()=>Mf,__metadata:()=>If,__param:()=>Ef,__propKey:()=>Df,__read:()=>gc,__rest:()=>dt,__rewriteRelativeImportExtension:()=>Vf,__runInitializers:()=>wf,__setFunctionName:()=>bf,__spread:()=>Sf,__spreadArray:()=>Nf,__spreadArrays:()=>Af,__values:()=>di,default:()=>yE});function yf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hc(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function dt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function vf(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function Ef(t,e){return function(n,r){e(n,r,t)}}function _f(t,e,n,r,o,i){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,l=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,f=n.length-1;f>=0;f--){var p={};for(var m in r)p[m]=m==="access"?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(y||null))};var g=(0,n[f])(a==="accessor"?{get:l.get,set:l.set}:l[c],p);if(a==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=s(g.get))&&(l.get=d),(d=s(g.set))&&(l.set=d),(d=s(g.init))&&o.unshift(d)}else(d=s(g))&&(a==="field"?o.unshift(d):l[c]=d)}u&&Object.defineProperty(u,r.name,l),h=!0}function wf(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function Df(t){return typeof t=="symbol"?t:"".concat(t)}function bf(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function If(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function v(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Tf(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Cf(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&fi(e,t,n)}function di(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Sf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(gc(arguments[e]));return t}function Af(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function Nf(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Xe(t){return this instanceof Xe?(this.v=t,this):new Xe(t)}function hi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(o[f]=function(m){return new Promise(function(g,y){i.push([f,m,g,y])>1||c(f,m)})},p&&(o[f]=p(o[f])))}function c(f,p){try{u(r[f](p))}catch(m){h(i[0][3],m)}}function u(f){f.value instanceof Xe?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function xf(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=t[o]?function(s){return(n=!n)?{value:Xe(t[o](s)),done:!1}:i?i(s):s}:i}}function pi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof di=="function"?di(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}function Mf(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Of(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=pc(t),r=0;r<n.length;r++)n[r]!=="default"&&fi(e,t,n[r]);return gE(e,t),e}function Rf(t){return t&&t.__esModule?t:{default:t}}function kf(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Pf(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function Lf(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Ff(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}function jf(t){function e(i){t.error=t.hasError?new mE(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,function(s){return e(s),o()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function Vf(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,i,s){return r?e?".jsx":".js":o&&(!i||!s)?n:o+i+"."+s.toLowerCase()+"js"}):t}var hc,li,fi,gE,pc,mE,yE,z=iE(()=>{hc=function(t,e){return hc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},hc(t,e)};li=function(){return li=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},li.apply(this,arguments)};fi=Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};gE=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},pc=function(t){return pc=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},pc(t)};mE=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};yE={__extends:yf,__assign:li,__rest:dt,__decorate:vf,__param:Ef,__esDecorate:_f,__runInitializers:wf,__propKey:Df,__setFunctionName:bf,__metadata:If,__awaiter:v,__generator:Tf,__createBinding:fi,__exportStar:Cf,__values:di,__read:gc,__spread:Sf,__spreadArrays:Af,__spreadArray:Nf,__await:Xe,__asyncGenerator:hi,__asyncDelegator:xf,__asyncValues:pi,__makeTemplateObject:Mf,__importStar:Of,__importDefault:Rf,__classPrivateFieldGet:kf,__classPrivateFieldSet:Pf,__classPrivateFieldIn:Lf,__addDisposableResource:Ff,__disposeResources:jf,__rewriteRelativeImportExtension:Vf}});var Dd=zt(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});var _d=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};wd.default=_d});var Td=zt(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});var By=(z(),Wt(Jt)),RC=By.__importDefault((sf(),Wt(cE))),kC=By.__importDefault(Dd()),bd=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=RC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,c,u;let l=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){let b=await i.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=b:d=JSON.parse(b))}let g=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");g&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(d=[],l=null,f=200,p="OK")}catch{i.status===404&&g===""?(f=204,p="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((u=l?.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&this.shouldThrowOnError)throw new kC.default(l)}return{error:l,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};Id.default=bd});var Ad=zt(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});var PC=(z(),Wt(Jt)),LC=PC.__importDefault(Td()),Cd=class extends LC.default{select(e){let n=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Sd.default=Cd});var wa=zt(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});var FC=(z(),Wt(Jt)),jC=FC.__importDefault(Ad()),VC=new RegExp("[,()]"),Nd=class extends jC.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&VC.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};xd.default=Nd});var Rd=zt(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});var BC=(z(),Wt(Jt)),jo=BC.__importDefault(wa()),Md=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,n){let{head:r=!1,count:o}=n??{},i=r?"HEAD":"GET",s=!1,a=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),o&&this.headers.append("Prefer",`count=${o}`),new jo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new jo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new jo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new jo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new jo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Od.default=Md});var $y=zt(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});var Uy=(z(),Wt(Jt)),UC=Uy.__importDefault(Rd()),$C=Uy.__importDefault(wa()),kd=class t{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){let n=new URL(`${this.url}/${e}`);return new UC.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${e}`),u;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",u=n);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new $C.default({method:a,url:c,headers:l,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Pd.default=kd});var Yy=zt(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;var _r=(z(),Wt(Jt)),Hy=_r.__importDefault($y());Ee.PostgrestClient=Hy.default;var Gy=_r.__importDefault(Rd());Ee.PostgrestQueryBuilder=Gy.default;var zy=_r.__importDefault(wa());Ee.PostgrestFilterBuilder=zy.default;var Wy=_r.__importDefault(Ad());Ee.PostgrestTransformBuilder=Wy.default;var qy=_r.__importDefault(Td());Ee.PostgrestBuilder=qy.default;var Ky=_r.__importDefault(Dd());Ee.PostgrestError=Ky.default;Ee.default={PostgrestClient:Hy.default,PostgrestQueryBuilder:Gy.default,PostgrestFilterBuilder:zy.default,PostgrestTransformBuilder:Wy.default,PostgrestBuilder:qy.default,PostgrestError:Ky.default}});function x(t){return typeof t=="function"}function nc(t){return x(t?.lift)}function R(t){return e=>{if(nc(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tt(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ti=Tt(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function qt(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(x(r))try{r()}catch(i){e=i instanceof ti?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{af(i)}catch(s){e=e??[],s instanceof ti?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ti(e)}}add(e){var n;if(e&&e!==this)if(this.closed)af(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&qt(n,e)}remove(e){let{_finalizers:n}=this;n&&qt(n,e),e instanceof t&&e._removeParent(this)}};ee.EMPTY=(()=>{let t=new ee;return t.closed=!0,t})();var rc=ee.EMPTY;function ni(t){return t instanceof ee||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function af(t){x(t)?t():t.unsubscribe()}var Ue={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fn={setTimeout(t,e,...n){let{delegate:r}=Fn;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fn;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ri(t){Fn.setTimeout(()=>{let{onUnhandledError:e}=Ue;if(e)e(t);else throw t})}function Kt(){}var cf=oc("C",void 0,void 0);function uf(t){return oc("E",void 0,t)}function lf(t){return oc("N",t,void 0)}function oc(t,e,n){return{kind:t,value:e,error:n}}var Yt=null;function jn(t){if(Ue.useDeprecatedSynchronousErrorHandling){let e=!Yt;if(e&&(Yt={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Yt;if(Yt=null,n)throw r}}else t()}function df(t){Ue.useDeprecatedSynchronousErrorHandling&&Yt&&(Yt.errorThrown=!0,Yt.error=t)}var Zt=class extends ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ni(e)&&e.add(this)):this.destination=dE}static create(e,n,r){return new Vn(e,n,r)}next(e){this.isStopped?sc(lf(e),this):this._next(e)}error(e){this.isStopped?sc(uf(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sc(cf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},uE=Function.prototype.bind;function ic(t,e){return uE.call(t,e)}var ac=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){oi(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){oi(r)}else oi(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){oi(n)}}},Vn=class extends Zt{constructor(e,n,r){super();let o;if(x(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Ue.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&ic(e.next,i),error:e.error&&ic(e.error,i),complete:e.complete&&ic(e.complete,i)}):o=e}this.destination=new ac(o)}};function oi(t){Ue.useDeprecatedSynchronousErrorHandling?df(t):ri(t)}function lE(t){throw t}function sc(t,e){let{onStoppedNotification:n}=Ue;n&&Fn.setTimeout(()=>n(t,e))}var dE={closed:!0,next:Kt,error:lE,complete:Kt};function k(t,e,n,r,o){return new cc(t,e,n,r,o)}var cc=class extends Zt{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function me(t,e){return R((n,r)=>{let o=0;n.subscribe(k(r,i=>{r.next(t.call(e,i,o++))}))})}var Bn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ae(t){return t}function fE(...t){return uc(t)}function uc(t){return t.length===0?Ae:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var F=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=pE(n)?n:new Vn(n,r,o);return jn(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ff(r),new r((o,i)=>{let s=new Vn({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Bn](){return this}pipe(...n){return uc(n)(this)}toPromise(n){return n=ff(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function ff(t){var e;return(e=t??Ue.Promise)!==null&&e!==void 0?e:Promise}function hE(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}function pE(t){return t&&t instanceof Zt||hE(t)&&ni(t)}function lc(){return R((t,e)=>{let n=null;t._refCount++;let r=k(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var dc=class extends F{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nc(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ee;let n=this.getSubject();e.add(this.source.subscribe(k(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ee.EMPTY)}return e}refCount(){return lc()(this)}};var hf=Tt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qe=(()=>{class t extends F{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ii(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new hf}next(n){jn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){jn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){jn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?rc:(this.currentObservers=null,i.push(n),new ee(()=>{this.currentObservers=null,qt(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new F;return n.source=this,n}}return t.create=(e,n)=>new ii(e,n),t})(),ii=class extends Qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:rc}};var Or=class extends Qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fc={now(){return(fc.delegate||Date).now()},delegate:void 0};var si=class extends ee{constructor(e,n){super()}schedule(e,n=0){return this}};var Rr={setInterval(t,e,...n){let{delegate:r}=Rr;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Rr;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ai=class extends si{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Rr.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Rr.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,o;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,qt(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Un=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Un.now=fc.now;var ci=class extends Un{constructor(e,n=Un.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var kr=new ci(ai),pf=kr;var Pr=new F(t=>t.complete());function ui(t){return t&&x(t.schedule)}function gf(t){return t[t.length-1]}function mf(t){return x(gf(t))?t.pop():void 0}function Ct(t){return ui(gf(t))?t.pop():void 0}z();var gi=t=>t&&typeof t.length=="number"&&typeof t!="function";function mi(t){return x(t?.then)}function yi(t){return x(t[Bn])}function vi(t){return Symbol.asyncIterator&&x(t?.[Symbol.asyncIterator])}function Ei(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function vE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _i=vE();function wi(t){return x(t?.[_i])}z();function Di(t){return hi(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield Xe(n.read());if(o)return yield Xe(void 0);yield yield Xe(r)}}finally{n.releaseLock()}})}function bi(t){return x(t?.getReader)}function Z(t){if(t instanceof F)return t;if(t!=null){if(yi(t))return EE(t);if(gi(t))return _E(t);if(mi(t))return wE(t);if(vi(t))return Bf(t);if(wi(t))return DE(t);if(bi(t))return bE(t)}throw Ei(t)}function EE(t){return new F(e=>{let n=t[Bn]();if(x(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _E(t){return new F(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function wE(t){return new F(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ri)})}function DE(t){return new F(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Bf(t){return new F(e=>{IE(t,e).catch(n=>e.error(n))})}function bE(t){return Bf(Di(t))}function IE(t,e){var n,r,o,i;return v(this,void 0,void 0,function*(){try{for(n=pi(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function le(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Ii(t,e=0){return R((n,r)=>{n.subscribe(k(r,o=>le(r,t,()=>r.next(o),e),()=>le(r,t,()=>r.complete(),e),o=>le(r,t,()=>r.error(o),e)))})}function Ti(t,e=0){return R((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Uf(t,e){return Z(t).pipe(Ti(e),Ii(e))}function $f(t,e){return Z(t).pipe(Ti(e),Ii(e))}function Hf(t,e){return new F(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Gf(t,e){return new F(n=>{let r;return le(n,e,()=>{r=t[_i](),le(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>x(r?.return)&&r.return()})}function Ci(t,e){if(!t)throw new Error("Iterable cannot be null");return new F(n=>{le(n,e,()=>{let r=t[Symbol.asyncIterator]();le(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function zf(t,e){return Ci(Di(t),e)}function Wf(t,e){if(t!=null){if(yi(t))return Uf(t,e);if(gi(t))return Hf(t,e);if(mi(t))return $f(t,e);if(vi(t))return Ci(t,e);if(wi(t))return Gf(t,e);if(bi(t))return zf(t,e)}throw Ei(t)}function St(t,e){return e?Wf(t,e):Z(t)}function Si(...t){let e=Ct(t);return St(t,e)}function TE(t,e){let n=x(t)?t:()=>t,r=o=>o.error(n());return new F(e?o=>e.schedule(r,0,o):r)}function CE(t){return!!t&&(t instanceof F||x(t.lift)&&x(t.subscribe))}var Qt=Tt(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ai(t){return t instanceof Date&&!isNaN(t)}var SE=Tt(t=>function(n=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function AE(t,e){let{first:n,each:r,with:o=NE,scheduler:i=e??kr,meta:s=null}=Ai(t)?{first:t}:typeof t=="number"?{each:t}:t;if(n==null&&r==null)throw new TypeError("No timeout provided.");return R((a,c)=>{let u,l,d=null,h=0,f=p=>{l=le(c,i,()=>{try{u.unsubscribe(),Z(o({meta:s,lastValue:d,seen:h})).subscribe(c)}catch(m){c.error(m)}},p)};u=a.subscribe(k(c,p=>{l?.unsubscribe(),h++,c.next(d=p),r>0&&f(r)},void 0,void 0,()=>{l?.closed||l?.unsubscribe(),d=null})),!h&&f(n!=null?typeof n=="number"?n:+n-i.now():r)})}function NE(t){throw new SE(t)}var{isArray:xE}=Array;function ME(t,e){return xE(e)?t(...e):t(e)}function qf(t){return me(e=>ME(t,e))}var{isArray:OE}=Array,{getPrototypeOf:RE,prototype:kE,keys:PE}=Object;function Kf(t){if(t.length===1){let e=t[0];if(OE(e))return{args:e,keys:null};if(LE(e)){let n=PE(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function LE(t){return t&&typeof t=="object"&&RE(t)===kE}function Yf(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function FE(...t){let e=Ct(t),n=mf(t),{args:r,keys:o}=Kf(t);if(r.length===0)return St([],e);let i=new F(jE(r,e,o?s=>Yf(o,s):Ae));return n?i.pipe(qf(n)):i}function jE(t,e,n=Ae){return r=>{Zf(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Zf(e,()=>{let u=St(t[c],e),l=!1;u.subscribe(k(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Zf(t,e,n){t?le(n,t,e):e()}function Jf(t,e,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=m=>u<r?p(m):c.push(m),p=m=>{i&&e.next(m),u++;let g=!1;Z(n(m,l++)).subscribe(k(e,y=>{o?.(y),i?f(y):e.next(y)},()=>{g=!0},void 0,()=>{if(g)try{for(u--;c.length&&u<r;){let y=c.shift();s?le(e,s,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(k(e,f,()=>{d=!0,h()})),()=>{a?.()}}function ft(t,e,n=1/0){return x(e)?ft((r,o)=>me((i,s)=>e(r,i,o,s))(Z(t(r,o))),n):(typeof e=="number"&&(n=e),R((r,o)=>Jf(r,o,t,n)))}function mc(t=1/0){return ft(Ae,t)}function Qf(){return mc(1)}function $n(...t){return Qf()(St(t,Ct(t)))}function VE(t){return new F(e=>{Z(t()).subscribe(e)})}function Xf(t=0,e,n=pf){let r=-1;return e!=null&&(ui(e)?n=e:r=e),new F(o=>{let i=Ai(t)?+t-n.now():t;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function Xt(t,e){return R((n,r)=>{let o=0;n.subscribe(k(r,i=>t.call(e,i,o++)&&r.next(i)))})}function yc(t){return R((e,n)=>{let r=null,o=!1,i;r=e.subscribe(k(n,void 0,void 0,s=>{i=Z(t(s,yc(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function eh(t,e,n,r,o){return(i,s)=>{let a=n,c=e,u=0;i.subscribe(k(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function vc(t,e){return x(e)?ft(t,e,1):ft(t,1)}function Lr(t){return R((e,n)=>{let r=!1;e.subscribe(k(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function Hn(t){return t<=0?()=>Pr:R((e,n)=>{let r=0;e.subscribe(k(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function th(){return R((t,e)=>{t.subscribe(k(e,Kt))})}function nh(t){return me(()=>t)}function Ec(t,e){return e?n=>$n(e.pipe(Hn(1),th()),n.pipe(Ec(t))):ft((n,r)=>Z(t(n,r)).pipe(Hn(1),nh(n)))}function BE(t,e=kr){let n=Xf(t,e);return Ec(()=>n)}function Ni(t=UE){return R((e,n)=>{let r=!1;e.subscribe(k(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function UE(){return new Qt}function _c(t){return R((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function $E(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xt((o,i)=>t(o,i,r)):Ae,Hn(1),n?Lr(e):Ni(()=>new Qt))}function wc(t){return t<=0?()=>Pr:R((e,n)=>{let r=[];e.subscribe(k(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function HE(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xt((o,i)=>t(o,i,r)):Ae,wc(1),n?Lr(e):Ni(()=>new Qt))}function GE(t,e){return R(eh(t,e,arguments.length>=2,!0))}function zE(...t){let e=Ct(t);return R((n,r)=>{(e?$n(t,n,e):$n(t,n)).subscribe(r)})}function Dc(t,e){return R((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(k(r,c=>{o?.unsubscribe();let u=0,l=i++;Z(t(c,l)).subscribe(o=k(r,d=>r.next(e?e(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function WE(t){return R((e,n)=>{Z(t).subscribe(k(n,()=>n.complete(),Kt)),!n.closed&&e.subscribe(n)})}function rh(t,e,n){let r=x(t)||e||n?{next:t,error:e,complete:n}:t;return r?R((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(k(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ae}var bc;function xi(){return bc}function et(t){let e=bc;return bc=t,e}var oh=Symbol("NotFound");function Gn(t){return t===oh||t?.name==="\u0275NotFound"}var de=null,Mi=!1,Ic=1,qE=null,ye=Symbol("SIGNAL");function S(t){let e=de;return de=t,e}function Pi(){return de}var zn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wn(t){if(Mi)throw new Error("");if(de===null)return;de.consumerOnSignalRead(t);let e=de.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=de.recomputing;if(r&&(n=e!==void 0?e.nextProducer:de.producers,n!==void 0&&n.producer===t)){de.producersTail=n,n.lastReadVersion=t.version;return}let o=t.consumersTail;if(o!==void 0&&o.consumer===de&&(!r||YE(o,de)))return;let i=Kn(de),s={producer:t,consumer:de,nextProducer:n,prevConsumer:o,lastReadVersion:t.version,nextConsumer:void 0};de.producersTail=s,e!==void 0?e.nextProducer=s:de.producers=s,i&&ch(t,s)}function ih(){Ic++}function Li(t){if(!(Kn(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ic)){if(!t.producerMustRecompute(t)&&!Vr(t)){ki(t);return}t.producerRecomputeValue(t),ki(t)}}function Tc(t){if(t.consumers===void 0)return;let e=Mi;Mi=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||KE(r)}}finally{Mi=e}}function Cc(){return de?.consumerAllowSignalWrites!==!1}function KE(t){t.dirty=!0,Tc(t),t.consumerMarkedDirty?.(t)}function ki(t){t.dirty=!1,t.lastCleanEpoch=Ic}function qn(t){return t&&sh(t),S(t)}function sh(t){t.producersTail=void 0,t.recomputing=!0}function jr(t,e){S(e),t&&ah(t)}function ah(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Kn(t))do n=Sc(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Vr(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Li(n),r!==n.version))return!0}return!1}function Br(t){if(Kn(t)){let e=t.producers;for(;e!==void 0;)e=Sc(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function ch(t,e){let n=t.consumersTail,r=Kn(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let o=t.producers;o!==void 0;o=o.nextProducer)ch(o.producer,o)}function Sc(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!Kn(e)){let i=e.producers;for(;i!==void 0;)i=Sc(i)}return n}function Kn(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Fi(t){qE?.(t)}function YE(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function ji(t,e){return Object.is(t,e)}function Vi(t,e){let n=Object.create(ZE);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Li(n),Wn(n),n.value===Fr)throw n.error;return n.value};return r[ye]=n,Fi(n),r}var Oi=Symbol("UNSET"),Ri=Symbol("COMPUTING"),Fr=Symbol("ERRORED"),ZE=we(ue({},zn),{value:Oi,dirty:!0,error:null,equal:ji,kind:"computed",producerMustRecompute(t){return t.value===Oi||t.value===Ri},producerRecomputeValue(t){if(t.value===Ri)throw new Error("");let e=t.value;t.value=Ri;let n=qn(t),r,o=!1;try{r=t.computation(),S(null),o=e!==Oi&&e!==Fr&&r!==Fr&&t.equal(e,r)}catch(i){r=Fr,t.error=i}finally{jr(t,n)}if(o){t.value=e;return}t.value=r,t.version++}});function JE(){throw new Error}var uh=JE;function lh(t){uh(t)}function Ac(t){uh=t}var QE=null;function Nc(t,e){let n=Object.create(Bi);n.value=t,e!==void 0&&(n.equal=e);let r=()=>dh(n);return r[ye]=n,Fi(n),[r,s=>Yn(n,s),s=>xc(n,s)]}function dh(t){return Wn(t),t.value}function Yn(t,e){Cc()||lh(t),t.equal(t.value,e)||(t.value=e,XE(t))}function xc(t,e){Cc()||lh(t),Yn(t,e(t.value))}var Bi=we(ue({},zn),{equal:ji,value:void 0,kind:"signal"});function XE(t){t.version++,ih(),Tc(t),QE?.(t)}function fh(t){let e=S(null);try{return t()}finally{S(e)}}var zi="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",C=class extends Error{code;constructor(e,n){super(Gr(e,n)),this.code=e}};function e_(t){return`NG0${Math.abs(t)}`}function Gr(t,e){return`${e_(t)}${e?": "+e:""}`}var tt=globalThis;function j(t){for(let e in t)if(t[e]===j)return e;throw Error("")}function pt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(pt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Wi(t,e){return t?e?`${t} ${e}`:t:e||""}var t_=j({__forward_ref__:j});function qi(t){return t.__forward_ref__=qi,t.toString=function(){return pt(this())},t}function De(t){return $c(t)?t():t}function $c(t){return typeof t=="function"&&t.hasOwnProperty(t_)&&t.__forward_ref__===qi}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wr(t){return r_(t,Ki)}function n_(t){return Wr(t)!==null}function r_(t,e){return t.hasOwnProperty(e)&&t[e]||null}function o_(t){let e=t?.[Ki]??null;return e||null}function Oc(t){return t&&t.hasOwnProperty($i)?t[$i]:null}var Ki=j({\u0275prov:j}),$i=j({\u0275inj:j}),O=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Hc(t){return t&&!!t.\u0275providers}var Gc=j({\u0275cmp:j}),zc=j({\u0275dir:j}),Wc=j({\u0275pipe:j}),qc=j({\u0275mod:j}),$r=j({\u0275fac:j}),sn=j({__NG_ELEMENT_ID__:j}),hh=j({__NG_ENV_ID__:j});function $e(t){return typeof t=="string"?t:t==null?"":String(t)}function gh(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():$e(t)}var mh=j({ngErrorCode:j}),i_=j({ngErrorMessage:j}),s_=j({ngTokenPath:j});function Kc(t,e){return yh("",-200,e)}function Yi(t,e){throw new C(-201,!1)}function yh(t,e,n){let r=new C(e,t);return r[mh]=e,r[i_]=t,n&&(r[s_]=n),r}function a_(t){return t[mh]}var Rc;function vh(){return Rc}function ve(t){let e=Rc;return Rc=t,e}function Yc(t,e,n){let r=Wr(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Yi(t,"Injector")}var c_={},en=c_,u_="__NG_DI_FLAG__",kc=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=tn(n)||0;try{return this.injector.get(e,r&8?null:en,r)}catch(o){if(Gn(o))return o;throw o}}};function l_(t,e=0){let n=xi();if(n===void 0)throw new C(-203,!1);if(n===null)return Yc(t,void 0,e);{let r=d_(e),o=n.retrieve(t,r);if(Gn(o)){if(r.optional)return null;throw o}return o}}function B(t,e=0){return(vh()||l_)(De(t),e)}function D(t,e){return B(t,tn(e))}function tn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function d_(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Pc(t){let e=[];for(let n=0;n<t.length;n++){let r=De(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=f_(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(B(o,i))}else e.push(B(r))}return e}function f_(t){return t[u_]}function At(t,e){let n=t.hasOwnProperty($r);return n?t[$r]:null}function Eh(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function _h(t){return t.flat(Number.POSITIVE_INFINITY)}function Zi(t,e){t.forEach(n=>Array.isArray(n)?Zi(n,e):e(n))}function Zc(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qr(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wh(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function Ji(t,e,n){let r=Jn(t,e);return r>=0?t[r|1]=n:(r=~r,wh(t,r,e,n)),r}function Qi(t,e){let n=Jn(t,e);if(n>=0)return t[n|1]}function Jn(t,e){return h_(t,e,1)}function h_(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var an={},be=[],cn=new O(""),Jc=new O("",-1),Qc=new O(""),Hr=class{get(e,n=en){if(n===en){let o=yh("",-201);throw o.name="\u0275NotFound",o}return n}};function Xc(t){return t[qc]||null}function Mt(t){return t[Gc]||null}function eu(t){return t[zc]||null}function Dh(t){return t[Wc]||null}function Xi(t){return{\u0275providers:t}}function bh(...t){return{\u0275providers:tu(!0,t),\u0275fromNgModule:!0}}function tu(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Zi(e,s=>{let a=s;Hi(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Ih(o,i),n}function Ih(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];nu(o,i=>{e(i,r)})}}function Hi(t,e,n,r){if(t=De(t),!t)return!1;let o=null,i=Oc(t),s=!i&&Mt(t);if(!i&&!s){let c=t.ngModule;if(i=Oc(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Hi(u,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Zi(i.imports,l=>{Hi(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Ih(u,e)}if(!a){let u=At(o)||(()=>new o);e({provide:o,useFactory:u,deps:be},o),e({provide:Qc,useValue:o,multi:!0},o),e({provide:cn,useValue:()=>B(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=t;nu(c,l=>{e(l,u)})}}else return!1;return o!==t&&t.providers!==void 0}function nu(t,e){for(let n of t)Hc(n)&&(n=n.\u0275providers),Array.isArray(n)?nu(n,e):e(n)}var p_=j({provide:String,useValue:j});function Th(t){return t!==null&&typeof t=="object"&&p_ in t}function g_(t){return!!(t&&t.useExisting)}function m_(t){return!!(t&&t.useFactory)}function Gi(t){return typeof t=="function"}var ru=new O(""),Ui={},ph={},Mc;function Kr(){return Mc===void 0&&(Mc=new Hr),Mc}var Ie=class{},nn=class extends Ie{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Fc(e,s=>this.processProvider(s)),this.records.set(Jc,Zn(void 0,this)),o.has("environment")&&this.records.set(Ie,Zn(void 0,this));let i=this.records.get(ru);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Qc,be,{self:!0}))}retrieve(e,n){let r=tn(n)||0;try{return this.get(e,en,r)}catch(o){if(Gn(o))return o;throw o}}destroy(){Ur(this),this._destroyed=!0;let e=S(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),S(e)}}onDestroy(e){return Ur(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ur(this);let n=et(this),r=ve(void 0),o;try{return e()}finally{et(n),ve(r)}}get(e,n=en,r){if(Ur(this),e.hasOwnProperty(hh))return e[hh](this);let o=tn(r),i,s=et(this),a=ve(void 0);try{if(!(o&4)){let u=this.records.get(e);if(u===void 0){let l=w_(e)&&Wr(e);l&&this.injectableDefInScope(l)?u=Zn(Lc(e),Ui):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,o)}let c=o&2?Kr():this.parent;return n=o&8&&n===en?null:n,c.get(e,n)}catch(c){let u=a_(c);throw u===-200||u===-201?new C(u,null):c}finally{ve(a),et(s)}}resolveInjectorInitializers(){let e=S(null),n=et(this),r=ve(void 0),o;try{let i=this.get(cn,be,{self:!0});for(let s of i)s()}finally{et(n),ve(r),S(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(pt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=De(e);let n=Gi(e)?e:De(e&&e.provide),r=v_(e);if(!Gi(e)&&e.multi===!0){let o=this.records.get(n);o||(o=Zn(void 0,Ui,!0),o.factory=()=>Pc(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let o=S(null);try{if(n.value===ph)throw Kc(pt(e));return n.value===Ui&&(n.value=ph,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&__(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{S(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=De(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Lc(t){let e=Wr(t),n=e!==null?e.factory:At(t);if(n!==null)return n;if(t instanceof O)throw new C(204,!1);if(t instanceof Function)return y_(t);throw new C(204,!1)}function y_(t){if(t.length>0)throw new C(204,!1);let n=o_(t);return n!==null?()=>n.factory(t):()=>new t}function v_(t){if(Th(t))return Zn(void 0,t.useValue);{let e=Ch(t);return Zn(e,Ui)}}function Ch(t,e,n){let r;if(Gi(t)){let o=De(t);return At(o)||Lc(o)}else if(Th(t))r=()=>De(t.useValue);else if(m_(t))r=()=>t.useFactory(...Pc(t.deps||[]));else if(g_(t))r=(o,i)=>B(De(t.useExisting),i!==void 0&&i&8?8:void 0);else{let o=De(t&&(t.useClass||t.provide));if(E_(t))r=()=>new o(...Pc(t.deps));else return At(o)||Lc(o)}return r}function Ur(t){if(t.destroyed)throw new C(205,!1)}function Zn(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function E_(t){return!!t.deps}function __(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function w_(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Fc(t,e){for(let n of t)Array.isArray(n)?Fc(n,e):n&&Hc(n)?Fc(n.\u0275providers,e):e(n)}function Qn(t,e){let n;t instanceof nn?(Ur(t),n=t):n=new kc(t);let r,o=et(n),i=ve(void 0);try{return e()}finally{et(o),ve(i)}}function Sh(){return vh()!==void 0||xi()!=null}var He=0,I=1,A=2,re=3,Re=4,ke=5,Xn=6,er=7,J=8,Ot=9,nt=10,K=11,tr=12,ou=13,un=14,Ne=15,Rt=16,ln=17,rt=18,Yr=19,iu=20,ht=21,es=22,Zr=23,xe=24,ts=25,dn=26,Q=27,Ah=1,su=6,kt=7,Jr=8,fn=9,te=10;function ot(t){return Array.isArray(t)&&typeof t[Ah]=="object"}function Ge(t){return Array.isArray(t)&&t[Ah]===!0}function au(t){return(t.flags&4)!==0}function Pt(t){return t.componentOffset>-1}function ns(t){return(t.flags&1)===1}function hn(t){return!!t.template}function nr(t){return(t[A]&512)!==0}function pn(t){return(t[A]&256)===256}var cu="svg",Nh="math";function Pe(t){for(;Array.isArray(t);)t=t[He];return t}function uu(t,e){return Pe(e[t])}function ze(t,e){return Pe(e[t.index])}function Qr(t,e){return t.data[e]}function rs(t,e){return t[e]}function lu(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Le(t,e){let n=e[t];return ot(n)?n:n[He]}function xh(t){return(t[A]&4)===4}function os(t){return(t[A]&128)===128}function Mh(t){return Ge(t[re])}function it(t,e){return e==null?null:t[e]}function du(t){t[ln]=0}function fu(t){t[A]&1024||(t[A]|=1024,os(t)&&eo(t))}function Oh(t,e){for(;t>0;)e=e[un],t--;return e}function Xr(t){return!!(t[A]&9216||t[xe]?.dirty)}function is(t){t[nt].changeDetectionScheduler?.notify(8),t[A]&64&&(t[A]|=1024),Xr(t)&&eo(t)}function eo(t){t[nt].changeDetectionScheduler?.notify(0);let e=Nt(t);for(;e!==null&&!(e[A]&8192||(e[A]|=8192,!os(e)));)e=Nt(e)}function hu(t,e){if(pn(t))throw new C(911,!1);t[ht]===null&&(t[ht]=[]),t[ht].push(e)}function Rh(t,e){if(t[ht]===null)return;let n=t[ht].indexOf(e);n!==-1&&t[ht].splice(n,1)}function Nt(t){let e=t[re];return Ge(e)?e[re]:e}function pu(t){return t[er]??=[]}function gu(t){return t.cleanup??=[]}function kh(t,e,n,r){let o=pu(e);o.push(n),t.firstCreatePass&&gu(t).push(r,o.length-1)}var M={lFrame:Zh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var jc=!1;function Ph(){return M.lFrame.elementDepthCount}function Lh(){M.lFrame.elementDepthCount++}function mu(){M.lFrame.elementDepthCount--}function Fh(){return M.bindingsEnabled}function jh(){return M.skipHydrationRootTNode!==null}function yu(t){return M.skipHydrationRootTNode===t}function vu(){M.skipHydrationRootTNode=null}function N(){return M.lFrame.lView}function ae(){return M.lFrame.tView}function Vh(t){return M.lFrame.contextLView=t,t[J]}function Bh(t){return M.lFrame.contextLView=null,t}function fe(){let t=Eu();for(;t!==null&&t.type===64;)t=t.parent;return t}function Eu(){return M.lFrame.currentTNode}function Uh(){let t=M.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function rr(t,e){let n=M.lFrame;n.currentTNode=t,n.isParent=e}function _u(){return M.lFrame.isParent}function $h(){M.lFrame.isParent=!1}function Hh(){return M.lFrame.contextLView}function wu(){return jc}function Du(t){let e=jc;return jc=t,e}function or(){let t=M.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function bu(){return M.lFrame.bindingIndex}function Gh(t){return M.lFrame.bindingIndex=t}function Lt(){return M.lFrame.bindingIndex++}function to(t){let e=M.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function zh(){return M.lFrame.inI18n}function Wh(t,e){let n=M.lFrame;n.bindingIndex=n.bindingRootIndex=t,ss(e)}function qh(){return M.lFrame.currentDirectiveIndex}function ss(t){M.lFrame.currentDirectiveIndex=t}function Kh(t){let e=M.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Iu(){return M.lFrame.currentQueryIndex}function as(t){M.lFrame.currentQueryIndex=t}function D_(t){let e=t[I];return e.type===2?e.declTNode:e.type===1?t[ke]:null}function Tu(t,e,n){if(n&4){let o=e,i=t;for(;o=o.parent,o===null&&!(n&1);)if(o=D_(i),o===null||(i=i[un],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=M.lFrame=Yh();return r.currentTNode=e,r.lView=t,!0}function cs(t){let e=Yh(),n=t[I];M.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Yh(){let t=M.lFrame,e=t===null?null:t.child;return e===null?Zh(t):e}function Zh(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Jh(){let t=M.lFrame;return M.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Cu=Jh;function us(){let t=Jh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Qh(t){return(M.lFrame.contextLView=Oh(t,M.lFrame.contextLView))[J]}function We(){return M.lFrame.selectedIndex}function Ft(t){M.lFrame.selectedIndex=t}function ls(){let t=M.lFrame;return Qr(t.tView,t.selectedIndex)}function Xh(){M.lFrame.currentNamespace=cu}function ep(){b_()}function b_(){M.lFrame.currentNamespace=null}function tp(){return M.lFrame.currentNamespace}var np=!0;function ds(){return np}function fs(t){np=t}function Vc(t,e=null,n=null,r){let o=Su(t,e,n,r);return o.resolveInjectorInitializers(),o}function Su(t,e=null,n=null,r,o=new Set){let i=[n||be,bh(t)];return r=r||(typeof t=="object"?void 0:pt(t)),new nn(i,e||Kr(),r||null,o)}var rn=class t{static THROW_IF_NOT_FOUND=en;static NULL=new Hr;static create(e,n){if(Array.isArray(e))return Vc({name:""},n,e,"");{let r=e.name??"";return Vc({name:r},e.parent,e.providers,r)}}static \u0275prov=L({token:t,providedIn:"any",factory:()=>B(Jc)});static __NG_ELEMENT_ID__=-1},gn=new O(""),no=(()=>{class t{static __NG_ELEMENT_ID__=I_;static __NG_ENV_ID__=n=>n}return t})(),Bc=class extends no{_lView;constructor(e){super(),this._lView=e}get destroyed(){return pn(this._lView)}onDestroy(e){let n=this._lView;return hu(n,e),()=>Rh(n,e)}};function I_(){return new Bc(N())}var on=class{_console=console;handleError(e){this._console.error("ERROR",e)}},st=new O("",{providedIn:"root",factory:()=>{let t=D(Ie),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(on),e.handleError(n))}}}),rp={provide:cn,useValue:()=>void D(on),multi:!0};function hs(t,e){let[n,r,o]=Nc(t,e?.equal),i=n,s=i[ye];return i.set=r,i.update=o,i.asReadonly=op.bind(i),i}function op(){let t=this[ye];if(t.readonlyFn===void 0){let e=()=>this();e[ye]=t,t.readonlyFn=e}return t.readonlyFn}var xt=class{},ps=new O("",{providedIn:"root",factory:()=>!1});var Au=new O(""),Nu=new O(""),jt=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Or(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new F(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}return t})(),gs=(()=>{class t{internalPendingTasks=D(jt);scheduler=D(xt);errorHandler=D(st);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}return t})();function ro(...t){}var xu=(()=>{class t{static \u0275prov=L({token:t,providedIn:"root",factory:()=>new Uc})}return t})(),Uc=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function go(t){return{toString:t}.toString()}function R_(t){return typeof t=="function"}var Cs=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function jp(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Vp=(()=>{let t=()=>Bp;return t.ngInherit=!0,t})();function Bp(t){return t.type.prototype.ngOnChanges&&(t.setInput=P_),k_}function k_(){let t=$p(this),e=t?.current;if(e){let n=t.previous;if(n===an)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function P_(t,e,n,r,o){let i=this.declaredInputs[r],s=$p(t)||L_(t,{previous:an,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new Cs(u&&u.currentValue,n,c===an),jp(t,e,o,n)}var Up="__ngSimpleChanges__";function $p(t){return t[Up]||null}function L_(t,e){return t[Up]=e}var ip=[];var H=function(t,e=null,n){for(let r=0;r<ip.length;r++){let o=ip[r];o(t,e,n)}};function F_(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=Bp(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function j_(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function ws(t,e,n){Hp(t,e,3,n)}function Ds(t,e,n,r){(t[A]&3)===n&&Hp(t,e,n,r)}function Mu(t,e){let n=t[A];(n&3)===e&&(n&=16383,n+=1,t[A]=n)}function Hp(t,e,n,r){let o=r!==void 0?t[ln]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ln]+=65536),(a<i||i==-1)&&(V_(t,n,e,c),t[ln]=(t[ln]&4294901760)+c+2),c++}function sp(t,e){H(4,t,e);let n=S(null);try{e.call(t)}finally{S(n),H(5,t,e)}}function V_(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[A]>>14<t[ln]>>16&&(t[A]&3)===e&&(t[A]+=16384,sp(a,i)):sp(a,i)}var sr=-1,so=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function B_(t){return(t.flags&8)!==0}function U_(t){return(t.flags&16)!==0}function $_(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];H_(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function Gp(t){return t===3||t===4||t===6}function H_(t){return t.charCodeAt(0)===64}function Ws(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?ap(t,n,o,null,e[++r]):ap(t,n,o,null,null))}}return t}function ap(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}function zp(t){return t!==sr}function Ss(t){return t&32767}function G_(t){return t>>16}function As(t,e){let n=G_(t),r=e;for(;n>0;)r=r[un],n--;return r}var Vu=!0;function Ns(t){let e=Vu;return Vu=t,e}var z_=256,Wp=z_-1,qp=5,W_=0,at={};function q_(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(sn)&&(r=n[sn]),r==null&&(r=n[sn]=W_++);let o=r&Wp,i=1<<o;e.data[t+(o>>qp)]|=i}function Kp(t,e){let n=Yp(t,e);if(n!==-1)return n;let r=e[I];r.firstCreatePass&&(t.injectorIndex=e.length,Ou(r.data,t),Ou(e,null),Ou(r.blueprint,null));let o=Dl(t,e),i=t.injectorIndex;if(zp(o)){let s=Ss(o),a=As(o,e),c=a[I].data;for(let u=0;u<8;u++)e[i+u]=a[s+u]|c[s+u]}return e[i+8]=o,i}function Ou(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Yp(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Dl(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=eg(o),r===null)return sr;if(n++,o=o[un],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return sr}function K_(t,e,n){q_(t,e,n)}function Y_(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(Gp(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===e)return n[o+1];o=o+2}}}return null}function Zp(t,e,n){if(n&8||t!==void 0)return t;Yi(e,"NodeInjector")}function Jp(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=t[Ot],i=ve(void 0);try{return o?o.get(e,r,n&8):Yc(e,r,n&8)}finally{ve(i)}}return Zp(r,e,n)}function Qp(t,e,n,r=0,o){if(t!==null){if(e[A]&2048&&!(r&2)){let s=ew(t,e,n,r,at);if(s!==at)return s}let i=Xp(t,e,n,r,at);if(i!==at)return i}return Jp(e,n,r,o)}function Xp(t,e,n,r,o){let i=J_(n);if(typeof i=="function"){if(!Tu(e,t,r))return r&1?Zp(o,n,r):Jp(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Yi(n);else return s}finally{Cu()}}else if(typeof i=="number"){let s=null,a=Yp(t,e),c=sr,u=r&1?e[Ne][ke]:null;for((a===-1||r&4)&&(c=a===-1?Dl(t,e):e[a+8],c===sr||!up(r,!1)?a=-1:(s=e[I],a=Ss(c),e=As(c,e)));a!==-1;){let l=e[I];if(cp(i,a,l.data)){let d=Z_(a,e,n,s,r,u);if(d!==at)return d}c=e[a+8],c!==sr&&up(r,e[I].data[a+8]===u)&&cp(i,a,e)?(s=l,a=Ss(c),e=As(c,e)):a=-1}}return o}function Z_(t,e,n,r,o,i){let s=e[I],a=s.data[t+8],c=r==null?Pt(a)&&Vu:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=bs(a,s,n,c,u);return l!==null?xs(e,s,l,a,o):at}function bs(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,c=t.directiveStart,u=t.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&hn(f)&&f.type===n)return c}return null}function xs(t,e,n,r,o){let i=t[n],s=e.data;if(i instanceof so){let a=i;if(a.resolving){let f=gh(s[n]);throw Kc(f)}let c=Ns(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?ve(a.injectImpl):null,h=Tu(t,r,0);try{i=t[n]=a.factory(void 0,o,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&F_(n,s[n],e)}finally{d!==null&&ve(d),Ns(c),a.resolving=!1,Cu()}}return i}function J_(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(sn)?t[sn]:void 0;return typeof e=="number"?e>=0?e&Wp:Q_:e}function cp(t,e,n){let r=1<<t;return!!(n[e+(t>>qp)]&r)}function up(t,e){return!(t&2)&&!(t&1&&e)}var mn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Qp(this._tNode,this._lView,e,tn(r),n)}};function Q_(){return new mn(fe(),N())}function X_(t){return go(()=>{let e=t.prototype.constructor,n=e[$r]||Bu(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[$r]||Bu(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Bu(t){return $c(t)?()=>{let e=Bu(De(t));return e&&e()}:At(t)}function ew(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[A]&2048&&!nr(s);){let a=Xp(i,s,n,r|2,at);if(a!==at)return a;let c=i.parent;if(!c){let u=s[iu];if(u){let l=u.get(n,at,r);if(l!==at)return l}c=eg(s),s=s[un]}i=c}return o}function eg(t){let e=t[I],n=e.type;return n===2?e.declTNode:n===1?t[ke]:null}function bl(t){return Y_(fe(),t)}function tw(){return fr(fe(),N())}function fr(t,e){return new En(ze(t,e))}var En=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=tw}return t})();function nw(t){return t instanceof En?t.nativeElement:t}function rw(){return this._results[Symbol.iterator]()}var Ms=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Qe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=_h(e);(this._changesDetected=!Eh(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=rw};function tg(t){return(t.flags&128)===128}var Il=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Il||{}),ng=new Map,ow=0;function iw(){return ow++}function sw(t){ng.set(t[Yr],t)}function Uu(t){ng.delete(t[Yr])}var lp="__ngContext__";function ar(t,e){ot(e)?(t[lp]=e[Yr],sw(e)):t[lp]=e}function rg(t){return ig(t[tr])}function og(t){return ig(t[Re])}function ig(t){for(;t!==null&&!Ge(t);)t=t[Re];return t}var $u;function aw(t){$u=t}function sg(){if($u!==void 0)return $u;if(typeof document<"u")return document;throw new C(210,!1)}var cw=new O("",{providedIn:"root",factory:()=>uw}),uw="ng",ag=new O(""),lw=new O("",{providedIn:"platform",factory:()=>"unknown"});var dw=new O("",{providedIn:"root",factory:()=>sg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var fw="h",hw="b";var cg="r";var ug="di";var lg=!1,dg=new O("",{providedIn:"root",factory:()=>lg});var pw=(t,e,n,r)=>{};function gw(t,e,n,r){pw(t,e,n,r)}function Tl(t){return(t.flags&32)===32}var mw=()=>null;function fg(t,e,n=!1){return mw(t,e,n)}function hg(t,e){let n=t.contentQueries;if(n!==null){let r=S(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];as(i),a.contentQueries(2,e[s],s)}}}finally{S(r)}}}function Hu(t,e,n){as(0);let r=S(null);try{e(t,n)}finally{S(r)}}function pg(t,e,n){if(au(e)){let r=S(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{S(r)}}}var cr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(cr||{}),ms;function yw(){if(ms===void 0&&(ms=null,tt.trustedTypes))try{ms=tt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ms}function qs(t){return yw()?.createHTML(t)||t}var ys;function vw(){if(ys===void 0&&(ys=null,tt.trustedTypes))try{ys=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ys}function dp(t){return vw()?.createScriptURL(t)||t}var mt=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zi})`}},Gu=class extends mt{getTypeName(){return"HTML"}},zu=class extends mt{getTypeName(){return"Style"}},Wu=class extends mt{getTypeName(){return"Script"}},qu=class extends mt{getTypeName(){return"URL"}},Ku=class extends mt{getTypeName(){return"ResourceURL"}};function mo(t){return t instanceof mt?t.changingThisBreaksApplicationSecurity:t}function Cl(t,e){let n=gg(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${zi})`)}return n===e}function gg(t){return t instanceof mt&&t.getTypeName()||null}function Ew(t){return new Gu(t)}function _w(t){return new zu(t)}function ww(t){return new Wu(t)}function Dw(t){return new qu(t)}function bw(t){return new Ku(t)}function Iw(t){let e=new Zu(t);return Tw()?new Yu(e):e}var Yu=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(qs(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Zu=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=qs(e),n}};function Tw(){try{return!!new window.DOMParser().parseFromString(qs(""),"text/html")}catch{return!1}}var Cw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Sl(t){return t=String(t),t.match(Cw)?t:"unsafe:"+t}function yt(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function yo(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var mg=yt("area,br,col,hr,img,wbr"),yg=yt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vg=yt("rp,rt"),Sw=yo(vg,yg),Aw=yo(yg,yt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nw=yo(vg,yt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fp=yo(mg,Aw,Nw,Sw),Eg=yt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xw=yt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mw=yt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Ow=yo(Eg,xw,Mw),Rw=yt("script,style,template"),Ju=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,o=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){o.push(n),n=Lw(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=Pw(n);if(i){n=i;break}n=o.pop()}}return this.buf.join("")}startElement(e){let n=hp(e).toLowerCase();if(!fp.hasOwnProperty(n))return this.sanitizedSomething=!0,!Rw.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let o=0;o<r.length;o++){let i=r.item(o),s=i.name,a=s.toLowerCase();if(!Ow.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;Eg[a]&&(c=Sl(c)),this.buf.push(" ",s,'="',pp(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=hp(e).toLowerCase();fp.hasOwnProperty(n)&&!mg.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(pp(e))}};function kw(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Pw(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw _g(e);return e}function Lw(t){let e=t.firstChild;if(e&&kw(t,e))throw _g(e);return e}function hp(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function _g(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Fw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jw=/([^\#-~ |!])/g;function pp(t){return t.replace(/&/g,"&amp;").replace(Fw,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(jw,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var vs;function Vw(t,e){let n=null;try{vs=vs||Iw(t);let r=e?String(e):"";n=vs.getInertBodyElement(r);let o=5,i=r;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=vs.getInertBodyElement(r)}while(r!==i);let a=new Ju().sanitizeChildren(gp(n)||n);return qs(a)}finally{if(n){let r=gp(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function gp(t){return"content"in t&&Bw(t)?t.content:null}function Bw(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Ks=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Ks||{});function wg(t){let e=bg();return e?e.sanitize(Ks.URL,t)||"":Cl(t,"URL")?mo(t):Sl($e(t))}function Dg(t){let e=bg();if(e)return dp(e.sanitize(Ks.RESOURCE_URL,t)||"");if(Cl(t,"ResourceURL"))return dp(mo(t));throw new C(904,!1)}function Uw(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Dg:wg}function $w(t,e,n){return Uw(e,n)(t)}function bg(){let t=N();return t&&t[nt].sanitizer}function Ig(t){return t instanceof Function?t():t}function Hw(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var Tg="ng-template";function Gw(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&Hw(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Al(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Al(t){return t.type===4&&t.value!==Tg}function zw(t,e,n){let r=t.type===4&&!n?Tg:t.value;return e===r}function Ww(t,e,n){let r=4,o=t.attrs,i=o!==null?Yw(o):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!qe(r)&&!qe(c))return!1;if(s&&qe(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!zw(t,c,n)||c===""&&e.length===1){if(qe(r))return!1;s=!0}}else if(r&8){if(o===null||!Gw(t,o,c,n)){if(qe(r))return!1;s=!0}}else{let u=e[++a],l=qw(c,o,Al(t),n);if(l===-1){if(qe(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(qe(r))return!1;s=!0}}}}return qe(r)||s}function qe(t){return(t&1)===0}function qw(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Zw(e,t)}function Kw(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ww(t,e[r],n))return!0;return!1}function Yw(t){for(let e=0;e<t.length;e++){let n=t[e];if(Gp(n))return e}return t.length}function Zw(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function mp(t,e){return t?":not("+e.trim()+")":e}function Jw(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!qe(s)&&(e+=mp(i,o),o=""),r=s,i=i||!qe(r);n++}return o!==""&&(e+=mp(i,o)),e}function Qw(t){return t.map(Jw).join(",")}function Xw(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!qe(o))break;o=i}r++}return n.length&&e.push(1,...n),e}var se={};function eD(t,e){return t.createText(e)}function tD(t,e,n){t.setValue(e,n)}function Cg(t,e,n){return t.createElement(e,n)}function Os(t,e,n,r,o){t.insertBefore(e,n,r,o)}function Sg(t,e,n){t.appendChild(e,n)}function yp(t,e,n,r,o){r!==null?Os(t,e,n,r,o):Sg(t,e,n)}function Ag(t,e,n,r){t.removeChild(null,e,n,r)}function nD(t,e,n){t.setAttribute(e,"style",n)}function rD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ng(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&$_(t,e,r),o!==null&&rD(t,e,o),i!==null&&nD(t,e,i)}function Nl(t,e,n,r,o,i,s,a,c,u,l){let d=Q+r,h=d+o,f=oD(d,h),p=typeof u=="function"?u():u;return f[I]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function oD(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:se);return n}function iD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Nl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function xl(t,e,n,r,o,i,s,a,c,u,l){let d=e.blueprint.slice();return d[He]=o,d[A]=r|4|128|8|64|1024,(u!==null||t&&t[A]&2048)&&(d[A]|=2048),du(d),d[re]=d[un]=t,d[J]=n,d[nt]=s||t&&t[nt],d[K]=a||t&&t[K],d[Ot]=c||t&&t[Ot]||null,d[ke]=i,d[Yr]=iw(),d[Xn]=l,d[iu]=u,d[Ne]=e.type==2?t[Ne]:d,d}function sD(t,e,n){let r=ze(e,t),o=iD(n),i=t[nt].rendererFactory,s=Ml(t,xl(t,o,null,xg(n),r,e,null,i.createRenderer(r,n),null,null,null));return t[e.index]=s}function xg(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Mg(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function Ml(t,e){return t[tr]?t[ou][Re]=e:t[tr]=e,t[ou]=e,e}function aD(t=1){Og(ae(),N(),We()+t,!1)}function Og(t,e,n,r){if(!r)if((e[A]&3)===3){let i=t.preOrderCheckHooks;i!==null&&ws(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Ds(e,i,0,n)}Ft(n)}var Ys=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Ys||{});function Qu(t,e,n,r){let o=S(null);try{let[i,s,a]=t.inputs[n],c=null;(s&Ys.SignalBased)!==0&&(c=e[i][ye]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,i):jp(e,c,i,r)}finally{S(o)}}var ao=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(ao||{}),cD;function Ol(t,e){return cD(t,e)}var Rs=new Set,Rl=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Rl||{}),kl=new O(""),vp=new Set;function hr(t){vp.has(t)||(vp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Rg=!1,Xu=class extends Qe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Sh()&&(this.destroyRef=D(no,{optional:!0})??void 0,this.pendingTasks=D(jt,{optional:!0})??void 0)}emit(e){let n=S(null);try{super.next(e)}finally{S(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof ee&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},gt=Xu;function kg(t){let e,n;function r(){t=ro;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Ep(t){return queueMicrotask(()=>t()),()=>{t=ro}}var Pl="isAngularZone",ks=Pl+"_ID",uD=0,Te=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new gt(!1);onMicrotaskEmpty=new gt(!1);onStable=new gt(!1);onError=new gt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Rg}=e;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,fD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Pl)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,lD,ro,ro);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},lD={};function Ll(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dD(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){kg(()=>{t.callbackScheduled=!1,el(t),t.isCheckStableRunning=!0,Ll(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),el(t)}function fD(t){let e=()=>{dD(t)},n=uD++;t._inner=t._inner.fork({name:"angular",properties:{[Pl]:!0,[ks]:n,[ks+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(hD(c))return r.invokeTask(i,s,a,c);try{return _p(t),r.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),wp(t)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return _p(t),r.invoke(i,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!pD(c)&&e(),wp(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,el(t),Ll(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function el(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function _p(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wp(t){t._nesting--,Ll(t)}var Ps=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new gt;onMicrotaskEmpty=new gt;onStable=new gt;onError=new gt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function hD(t){return Pg(t,"__ignore_ng_zone__")}function pD(t){return Pg(t,"__scheduler_tick__")}function Pg(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Lg=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}return t})();var gD=new O("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Fg(t,e){let n=t.get(gD);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function mD(t,e){for(let[n,r]of e)Fg(t,r.animateFns)}function Dp(t,e,n,r){let o=t?.[dn]?.enter;e!==null&&o&&o.has(n.index)&&mD(r,o)}function ir(t,e,n,r,o,i,s,a){if(o!=null){let c,u=!1;Ge(o)?c=o:ot(o)&&(u=!0,o=o[He]);let l=Pe(o);t===0&&r!==null?(Dp(a,r,i,n),s==null?Sg(e,r,l):Os(e,r,l,s||null,!0)):t===1&&r!==null?(Dp(a,r,i,n),Os(e,r,l,s||null,!0)):t===2?bp(a,i,n,d=>{Ag(e,l,u,d)}):t===3&&bp(a,i,n,()=>{e.destroyNode(l)}),c!=null&&ND(e,t,n,c,i,r,s)}}function yD(t,e){jg(t,e),e[He]=null,e[ke]=null}function vD(t,e,n,r,o,i){r[He]=o,r[ke]=e,Js(t,r,n,1,o,i)}function jg(t,e){e[nt].changeDetectionScheduler?.notify(9),Js(t,e,e[K],2,null,null)}function ED(t){let e=t[tr];if(!e)return Ru(t[I],t);for(;e;){let n=null;if(ot(e))n=e[tr];else{let r=e[te];r&&(n=r)}if(!n){for(;e&&!e[Re]&&e!==t;)ot(e)&&Ru(e[I],e),e=e[re];e===null&&(e=t),ot(e)&&Ru(e[I],e),n=e&&e[Re]}e=n}}function Fl(t,e){let n=t[fn],r=n.indexOf(e);n.splice(r,1)}function Zs(t,e){if(pn(e))return;let n=e[K];n.destroyNode&&Js(t,e,n,3,null,null),ED(e)}function Ru(t,e){if(pn(e))return;let n=S(null);try{e[A]&=-129,e[A]|=256,e[xe]&&Br(e[xe]),DD(t,e),wD(t,e),e[I].type===1&&e[K].destroy();let r=e[Rt];if(r!==null&&Ge(e[re])){r!==e[re]&&Fl(r,e);let o=e[rt];o!==null&&o.detachView(t)}Uu(e)}finally{S(n)}}function bp(t,e,n,r){let o=t?.[dn];if(o==null||o.leave==null||!o.leave.has(e.index))return r(!1);if(o.skipLeaveAnimations)return o.skipLeaveAnimations=!1,r(!1);t&&Rs.add(t),Fg(n,()=>{if(o.leave&&o.leave.has(e.index)){let s=o.leave.get(e.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}o.running=Promise.allSettled(a),_D(t,r)}else t&&Rs.delete(t),r(!1)})}function _D(t,e){let n=t[dn]?.running;if(n){n.then(()=>{t[dn].running=void 0,Rs.delete(t),e(!0)});return}e(!1)}function wD(t,e){let n=t.cleanup,r=e[er];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[er]=null);let o=e[ht];if(o!==null){e[ht]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=e[Zr];if(i!==null){e[Zr]=null;for(let s of i)s.destroy()}}function DD(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof so)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];H(4,a,c);try{c.call(a)}finally{H(5,a,c)}}else{H(4,o,i);try{i.call(o)}finally{H(5,o,i)}}}}}function bD(t,e,n){return ID(t,e.parent,n)}function ID(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[He];if(Pt(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===cr.None||o===cr.Emulated)return null}return ze(r,n)}function TD(t,e,n){return SD(t,e,n)}function CD(t,e,n){return t.type&40?ze(t,n):null}var SD=CD,Ip;function jl(t,e,n,r){let o=bD(t,r,e),i=e[K],s=r.parent||e[ke],a=TD(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)yp(i,o,n[c],a,!1);else yp(i,o,n,a,!1);Ip!==void 0&&Ip(i,r,e,n,o)}function oo(t,e){if(e!==null){let n=e.type;if(n&3)return ze(e,t);if(n&4)return tl(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return oo(t,r);{let o=t[e.index];return Ge(o)?tl(-1,o):Pe(o)}}else{if(n&128)return oo(t,e.next);if(n&32)return Ol(e,t)()||Pe(t[e.index]);{let r=Vg(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=Nt(t[Ne]);return oo(o,r)}else return oo(t,e.next)}}}return null}function Vg(t,e){if(e!==null){let r=t[Ne][ke],o=e.projection;return r.projection[o]}return null}function tl(t,e){let n=te+t+1;if(n<e.length){let r=e[n],o=r[I].firstChild;if(o!==null)return oo(r,o)}return e[kt]}function Vl(t,e,n,r,o,i,s){for(;n!=null;){let a=r[Ot];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&ar(Pe(c),r),n.flags|=2),!Tl(n))if(u&8)Vl(t,e,n.child,r,o,i,!1),ir(e,t,a,o,c,n,i,r);else if(u&32){let l=Ol(n,r),d;for(;d=l();)ir(e,t,a,o,d,n,i,r);ir(e,t,a,o,c,n,i,r)}else u&16?AD(t,e,r,n,o,i):ir(e,t,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function Js(t,e,n,r,o,i){Vl(n,r,t.firstChild,e,o,i,!1)}function AD(t,e,n,r,o,i){let s=n[Ne],c=s[ke].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ir(e,t,n[Ot],o,l,r,i,n)}else{let u=c,l=s[re];tg(r)&&(u.flags|=128),Vl(t,e,u,l,o,i,!0)}}function ND(t,e,n,r,o,i,s){let a=r[kt],c=Pe(r);a!==c&&ir(e,t,n,i,a,o,s);for(let u=te;u<r.length;u++){let l=r[u];Js(l[I],l,t,e,i,a)}}function xD(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:ao.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ao.Important),t.setStyle(n,r,o,i))}}function Bg(t,e,n,r,o){let i=We(),s=r&2;try{Ft(-1),s&&e.length>Q&&Og(t,e,Q,!1),H(s?2:0,o,n),n(r,o)}finally{Ft(i),H(s?3:1,o,n)}}function Ug(t,e,n){FD(t,e,n),(n.flags&64)===64&&jD(t,e,n)}function Bl(t,e,n=ze){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function MD(t,e,n,r){let i=r.get(dg,lg)||n===cr.ShadowDom,s=t.selectRootElement(e,i);return OD(s),s}function OD(t){RD(t)}var RD=()=>null;function kD(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function PD(t,e,n,r,o,i){let s=e[I];if(Ul(t,s,e,n,r)){Pt(t)&&LD(e,t.index);return}t.type&3&&(n=kD(n)),$g(t,e,n,r,o,i)}function $g(t,e,n,r,o,i){if(t.type&3){let s=ze(t,e);r=i!=null?i(r,t.value||"",n):r,o.setProperty(s,n,r)}else t.type&12}function LD(t,e){let n=Le(e,t);n[A]&16||(n[A]|=64)}function FD(t,e,n){let r=n.directiveStart,o=n.directiveEnd;Pt(n)&&sD(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Kp(n,e);let i=n.initialInputs;for(let s=r;s<o;s++){let a=t.data[s],c=xs(e,t,s,n);if(ar(c,e),i!==null&&HD(e,s-r,c,a,n,i),hn(a)){let u=Le(n.index,e);u[J]=xs(e,t,s,n)}}}function jD(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=qh();try{Ft(i);for(let a=r;a<o;a++){let c=t.data[a],u=e[a];ss(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&VD(c,u)}}finally{Ft(-1),ss(s)}}function VD(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function BD(t,e){let n=t.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];Kw(e,i.selectors,!1)&&(r??=[],hn(i)?r.unshift(i):r.push(i))}return r}function UD(t,e,n,r,o,i){let s=ze(t,e);$D(e[K],s,i,t.value,n,r,o)}function $D(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let a=s==null?$e(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}function HD(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Qu(r,n,c,u)}}function Hg(t,e,n,r,o){let i=Q+n,s=e[I],a=o(s,e,t,r,n);e[i]=a,rr(t,!0);let c=t.type===2;return c?(Ng(e[K],a,t),(Ph()===0||ns(t))&&ar(a,e),Lh()):ar(a,e),ds()&&(!c||!Tl(t))&&jl(s,e,a,t),t}function Gg(t){let e=t;return _u()?$h():(e=e.parent,rr(e,!1)),e}function GD(t,e){let n=t[Ot];if(!n)return;let r;try{r=n.get(st,null)}catch{r=null}r?.(e)}function Ul(t,e,n,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=e.data[u];Qu(d,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=e.data[c];Qu(l,u,r,o),a=!0}return a}function zD(t,e){let n=Le(e,t),r=n[I];WD(r,n);let o=n[He];o!==null&&n[Xn]===null&&(n[Xn]=fg(o,n[Ot])),H(18),$l(r,n,n[J]),H(19,n[J])}function WD(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function $l(t,e,n){cs(e);try{let r=t.viewQuery;r!==null&&Hu(1,r,n);let o=t.template;o!==null&&Bg(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[rt]?.finishViewCreation(t),t.staticContentQueries&&hg(t,e),t.staticViewQueries&&Hu(2,t.viewQuery,n);let i=t.components;i!==null&&qD(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[A]&=-5,us()}}function qD(t,e){for(let n=0;n<e.length;n++)zD(t,e[n])}function Qs(t,e,n,r){let o=S(null);try{let i=e.tView,a=t[A]&4096?4096:16,c=xl(t,i,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Rt]=u;let l=t[rt];return l!==null&&(c[rt]=l.createEmbeddedView(i)),$l(i,c,n),c}finally{S(o)}}function co(t,e){return!e||e.firstChild===null||tg(t)}function uo(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(Pe(i)),Ge(i)&&zg(i,r);let s=n.type;if(s&8)uo(t,e,n.child,r);else if(s&32){let a=Ol(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Vg(e,n);if(Array.isArray(a))r.push(...a);else{let c=Nt(e[Ne]);uo(c[I],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function zg(t,e){for(let n=te;n<t.length;n++){let r=t[n],o=r[I].firstChild;o!==null&&uo(r[I],r,o,e)}t[kt]!==t[He]&&e.push(t[kt])}function Wg(t){if(t[ts]!==null){for(let e of t[ts])e.impl.addSequence(e);t[ts].length=0}}var qg=[];function KD(t){return t[xe]??YD(t)}function YD(t){let e=qg.pop()??Object.create(JD);return e.lView=t,e}function ZD(t){t.lView[xe]!==t&&(t.lView=null,qg.push(t))}var JD=we(ue({},zn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{eo(t.lView)},consumerOnSignalRead(){this.lView[xe]=this}});function QD(t){let e=t[xe]??Object.create(XD);return e.lView=t,e}var XD=we(ue({},zn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Nt(t.lView);for(;e&&!Kg(e[I]);)e=Nt(e);e&&fu(e)},consumerOnSignalRead(){this.lView[xe]=this}});function Kg(t){return t.type!==2}function Yg(t){if(t[Zr]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Zr])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[A]&8192)}}var eb=100;function Zg(t,e=0){let r=t[nt].rendererFactory,o=!1;o||r.begin?.();try{tb(t,e)}finally{o||r.end?.()}}function tb(t,e){let n=wu();try{Du(!0),nl(t,e);let r=0;for(;Xr(t);){if(r===eb)throw new C(103,!1);r++,nl(t,1)}}finally{Du(n)}}function nb(t,e,n,r){if(pn(e))return;let o=e[A],i=!1,s=!1;cs(e);let a=!0,c=null,u=null;i||(Kg(t)?(u=KD(e),c=qn(u)):Pi()===null?(a=!1,u=QD(e),c=qn(u)):e[xe]&&(Br(e[xe]),e[xe]=null));try{du(e),Gh(t.bindingStartIndex),n!==null&&Bg(t,e,n,2,r);let l=(o&3)===3;if(!i)if(l){let f=t.preOrderCheckHooks;f!==null&&ws(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Ds(e,f,0,null),Mu(e,0)}if(s||rb(e),Yg(e),Jg(e,0),t.contentQueries!==null&&hg(t,e),!i)if(l){let f=t.contentCheckHooks;f!==null&&ws(e,f)}else{let f=t.contentHooks;f!==null&&Ds(e,f,1),Mu(e,1)}ib(t,e);let d=t.components;d!==null&&Xg(e,d,0);let h=t.viewQuery;if(h!==null&&Hu(2,h,r),!i)if(l){let f=t.viewCheckHooks;f!==null&&ws(e,f)}else{let f=t.viewHooks;f!==null&&Ds(e,f,2),Mu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[es]){for(let f of e[es])f();e[es]=null}i||(Wg(e),e[A]&=-73)}catch(l){throw i||eo(e),l}finally{u!==null&&(jr(u,c),a&&ZD(u)),us()}}function Jg(t,e){for(let n=rg(t);n!==null;n=og(n))for(let r=te;r<n.length;r++){let o=n[r];Qg(o,e)}}function rb(t){for(let e=rg(t);e!==null;e=og(e)){if(!(e[A]&2))continue;let n=e[fn];for(let r=0;r<n.length;r++){let o=n[r];fu(o)}}}function ob(t,e,n){H(18);let r=Le(e,t);Qg(r,n),H(19,r[J])}function Qg(t,e){os(t)&&nl(t,e)}function nl(t,e){let r=t[I],o=t[A],i=t[xe],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&Vr(i)),s||=!1,i&&(i.dirty=!1),t[A]&=-9217,s)nb(r,t,r.template,t[J]);else if(o&8192){let a=S(null);try{Yg(t),Jg(t,1);let c=r.components;c!==null&&Xg(t,c,1),Wg(t)}finally{S(a)}}}function Xg(t,e,n){for(let r=0;r<e.length;r++)ob(t,e[r],n)}function ib(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Ft(~o);else{let i=o,s=n[++r],a=n[++r];Wh(s,i);let c=e[i];H(24,c),a(2,c),H(25,c)}}}finally{Ft(-1)}}function Hl(t,e){let n=wu()?64:1088;for(t[nt].changeDetectionScheduler?.notify(e);t;){t[A]|=n;let r=Nt(t);if(nr(t)&&!r)return t;t=r}return null}function em(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function tm(t,e){let n=te+e;if(n<t.length)return t[n]}function Xs(t,e,n,r=!0){let o=e[I];if(sb(o,e,t,n),r){let s=tl(n,t),a=e[K],c=a.parentNode(t[kt]);c!==null&&vD(o,t[ke],a,e,c,s)}let i=e[Xn];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function nm(t,e){let n=lo(t,e);return n!==void 0&&Zs(n[I],n),n}function lo(t,e){if(t.length<=te)return;let n=te+e,r=t[n];if(r){let o=r[Rt];o!==null&&o!==t&&Fl(o,r),e>0&&(t[n-1][Re]=r[Re]);let i=qr(t,te+e);yD(r[I],r);let s=i[rt];s!==null&&s.detachView(i[I]),r[re]=null,r[Re]=null,r[A]&=-129}return r}function sb(t,e,n,r){let o=te+r,i=n.length;r>0&&(n[o-1][Re]=e),r<i-te?(e[Re]=n[o],Zc(n,te+r,e)):(n.push(e),e[Re]=null),e[re]=n;let s=e[Rt];s!==null&&n!==s&&rm(s,e);let a=e[rt];a!==null&&a.insertView(t),is(e),e[A]|=128}function rm(t,e){let n=t[fn],r=e[re];if(ot(r))t[A]|=2;else{let o=r[re][Ne];e[Ne]!==o&&(t[A]|=2)}n===null?t[fn]=[e]:n.push(e)}var Vt=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[I];return uo(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[J]}set context(e){this._lView[J]=e}get destroyed(){return pn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[re];if(Ge(e)){let n=e[Jr],r=n?n.indexOf(this):-1;r>-1&&(lo(e,r),qr(n,r))}this._attachedToViewContainer=!1}Zs(this._lView[I],this._lView)}onDestroy(e){hu(this._lView,e)}markForCheck(){Hl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[A]&=-129}reattach(){is(this._lView),this._lView[A]|=128}detectChanges(){this._lView[A]|=1024,Zg(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=nr(this._lView),n=this._lView[Rt];n!==null&&!e&&Fl(n,this._lView),jg(this._lView[I],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e;let n=nr(this._lView),r=this._lView[Rt];r!==null&&!n&&rm(r,this._lView),is(this._lView)}};var ur=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=ab;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=Qs(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Vt(i)}}return t})();function ab(){return Gl(fe(),N())}function Gl(t,e){return t.type&4?new ur(e,t,fr(t,e)):null}function ea(t,e,n,r,o){let i=t.data[e];if(i===null)i=cb(t,e,n,r,o),zh()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Uh();i.injectorIndex=s===null?-1:s.injectorIndex}return rr(i,!0),i}function cb(t,e,n,r,o){let i=Eu(),s=_u(),a=s?i:i&&i.parent,c=t.data[e]=lb(t,a,n,e,r,o);return ub(t,c,i,s),c}function ub(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function lb(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return jh()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Bk=new RegExp(`^(\\d+)*(${hw}|${fw})*(.*)`);function db(t){let e=t[su]??[],r=t[re][K],o=[];for(let i of e)i.data[ug]!==void 0?o.push(i):fb(i,r);t[su]=o}function fb(t,e){let n=0,r=t.firstChild;if(r){let o=t.data[cg];for(;n<o;){let i=r.nextSibling;Ag(e,r,!1),r=i,n++}}}var hb=()=>null,pb=()=>null;function rl(t,e){return hb(t,e)}function om(t,e,n){return pb(t,e,n)}var im=class{},ta=class{},ol=class{resolveComponentFactory(e){throw new C(917,!1)}},vo=class{static NULL=new ol},fo=class{},zl=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>gb()}return t})();function gb(){let t=N(),e=fe(),n=Le(e.index,t);return(ot(n)?n:t)[K]}var sm=(()=>{class t{static \u0275prov=L({token:t,providedIn:"root",factory:()=>null})}return t})();var Is={},il=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let o=this.injector.get(e,Is,r);return o!==Is||n===Is?o:this.parentInjector.get(e,n,r)}};function Ls(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=Wi(o,a);else if(i==2){let c=a,u=e[++s];r=Wi(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function vt(t,e=0){let n=N();if(n===null)return B(t,e);let r=fe();return Qp(r,n,De(t),e)}function mb(t,e,n,r,o){let i=r===null?null:{"":-1},s=o(t,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}Eb(t,e,n,a,i,c,u)}i!==null&&r!==null&&yb(n,r,i)}function yb(t,e,n){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new C(-301,!1);r.push(e[o],i)}}function vb(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Eb(t,e,n,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&hn(f)&&(c=!0,vb(t,n,h)),K_(Kp(n,e),t,f.type)}Tb(n,t.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=Mg(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=Ws(n.mergedAttrs,f.hostAttrs),wb(t,n,e,d,f),Ib(d,f,o),s!==null&&s.has(f)){let[m,g]=s.get(f);n.directiveToIndex.set(f.type,[d,m+n.directiveStart,g+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}_b(t,n,i)}function _b(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=t.data[r];if(n===null||!n.has(o))Tp(0,e,o,r),Tp(1,e,o,r),Sp(e,r,!1);else{let i=n.get(o);Cp(0,e,i,r),Cp(1,e,i,r),Sp(e,r,!0)}}}function Tp(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),am(e,i)}}function Cp(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),am(e,s)}}function am(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Sp(t,e,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!n&&o===null||n&&i===null||Al(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===e){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function wb(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=At(o.type,!0)),s=new so(i,hn(o),vt,null);t.blueprint[r]=s,n[r]=s,Db(t,e,r,Mg(t,n,o.hostVars,se),o)}function Db(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;bb(s)!=a&&s.push(a),s.push(n,r,i)}}function bb(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Ib(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;hn(e)&&(n[""]=t)}}function Tb(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function cm(t,e,n,r,o,i,s,a){let c=e[I],u=c.consts,l=it(u,s),d=ea(c,t,n,r,l);return i&&mb(c,e,d,it(u,a),o),d.mergedAttrs=Ws(d.mergedAttrs,d.attrs),d.attrs!==null&&Ls(d,d.attrs,!1),d.mergedAttrs!==null&&Ls(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function um(t,e){j_(t,e),au(e)&&t.queries.elementEnd(e)}function Cb(t,e,n,r,o,i){let s=e.consts,a=it(s,o),c=ea(e,t,n,r,a);if(c.mergedAttrs=Ws(c.mergedAttrs,c.attrs),i!=null){let u=it(s,i);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&Ls(c,c.attrs,!1),c.mergedAttrs!==null&&Ls(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function na(t,e,n){return t[e]=n}function Sb(t,e){return t[e]}function Me(t,e,n){if(n===se)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Wl(t,e,n,r){let o=Me(t,e,n);return Me(t,e+1,r)||o}function lm(t,e,n,r,o){let i=Wl(t,e,n,r);return Me(t,e+2,o)||i}function Ts(t,e,n){return function r(o){let i=Pt(t)?Le(t.index,e):e;Hl(i,5);let s=e[J],a=Ap(e,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Ap(e,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Ap(t,e,n,r){let o=S(null);try{return H(6,e,n),n(r)!==!1}catch(i){return GD(t,i),!1}finally{H(7,e,n),S(o)}}function dm(t,e,n,r,o,i,s,a){let c=ns(t),u=!1,l=null;if(!r&&c&&(l=Nb(e,n,i,t.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=ze(t,n),h=r?r(d):d;gw(n,h,i,a);let f=o.listen(h,i,a);if(!Ab(i)){let p=r?m=>r(Pe(m[t.index])):t.index;fm(p,e,n,i,a,f,!1)}}return u}function Ab(t){return t.startsWith("animation")||t.startsWith("transition")}function Nb(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[er],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function fm(t,e,n,r,o,i,s){let a=e.firstCreatePass?gu(e):null,c=pu(n),u=c.length;c.push(o,i),a&&a.push(r,t,u,(u+1)*(s?-1:1))}function Np(t,e,n,r,o,i){let s=e[n],a=e[I],u=a.data[n].outputs[r],d=s[u].subscribe(i);fm(t.index,a,e,o,i,d,!0)}var sl=Symbol("BINDING");var Fs=class extends vo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Mt(e);return new lr(n,this.ngModule)}};function xb(t){return Object.keys(t).map(e=>{let[n,r,o]=t[e],i={propName:n,templateName:e,isSignal:(r&Ys.SignalBased)!==0};return o&&(i.transform=o),i})}function Mb(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Ob(t,e,n){let r=e instanceof Ie?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new il(n,r):n}function Rb(t){let e=t.get(fo,null);if(e===null)throw new C(407,!1);let n=t.get(sm,null),r=t.get(xt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function kb(t,e){let n=hm(t);return Cg(e,n,n==="svg"?cu:n==="math"?Nh:null)}function hm(t){return(t.selectors[0][0]||"div").toLowerCase()}var lr=class extends ta{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=xb(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Mb(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Qw(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,o,i,s){H(22);let a=S(null);try{let c=this.componentDef,u=Pb(r,c,s,i),l=Ob(c,o||this.ngModule,e),d=Rb(l),h=d.rendererFactory.createRenderer(null,c),f=r?MD(h,r,c.encapsulation,l):kb(c,h),p=s?.some(xp)||i?.some(y=>typeof y!="function"&&y.bindings.some(xp)),m=xl(null,u,null,512|xg(c),null,null,d,h,l,null,fg(f,l,!0));m[Q]=f,cs(m);let g=null;try{let y=cm(Q,m,2,"#host",()=>u.directiveRegistry,!0,0);Ng(h,f,y),ar(f,m),Ug(u,m,y),pg(u,y,m),um(u,y),n!==void 0&&Fb(y,this.ngContentSelectors,n),g=Le(y.index,m),m[J]=g[J],$l(u,m,null)}catch(y){throw g!==null&&Uu(g),Uu(m),y}finally{H(23),us()}return new js(this.componentType,m,!!p)}finally{S(a)}}};function Pb(t,e,n,r){let o=t?["ng-version","20.3.9"]:Xw(e.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[sl].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let h of d.bindings){a+=h[sl].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[e];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,h=eu(d);c.push(h)}return Nl(0,null,Lb(i,s),1,a,c,null,null,null,[o],null)}function Lb(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function xp(t){let e=t[sl].kind;return e==="input"||e==="twoWay"}var js=class extends im{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Qr(n[I],Q),this.location=fr(this._tNode,n),this.instance=Le(this._tNode.index,n)[J],this.hostView=this.changeDetectorRef=new Vt(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView,i=Ul(r,o[I],o,e,n);this.previousInputValues.set(e,n);let s=Le(r.index,o);Hl(s,1)}get injector(){return new mn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Fb(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Eo=(()=>{class t{static __NG_ELEMENT_ID__=jb}return t})();function jb(){let t=fe();return gm(t,N())}var Vb=Eo,pm=class extends Vb{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fr(this._hostTNode,this._hostLView)}get injector(){return new mn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dl(this._hostTNode,this._hostLView);if(zp(e)){let n=As(e,this._hostLView),r=Ss(e),o=n[I].data[r+8];return new mn(o,n)}else return new mn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Mp(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-te}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=rl(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,co(this._hostTNode,s)),a}createComponent(e,n,r,o,i,s,a){let c=e&&!R_(e),u;if(c)u=n;else{let g=n||{};u=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef,s=g.directives,a=g.bindings}let l=c?e:new lr(Mt(e)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let y=(c?d:this.parentInjector).get(Ie,null);y&&(i=y)}let h=Mt(l.componentType??{}),f=rl(this._lContainer,h?.id??null),p=f?.firstChild??null,m=l.create(d,o,p,i,s,a);return this.insertImpl(m.hostView,u,co(this._hostTNode,f)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(Mh(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[re],u=new pm(c,c[ke],c[re]);u.detach(u.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return Xs(s,o,i,r),e.attachToViewContainerRef(),Zc(ku(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Mp(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=lo(this._lContainer,n);r&&(qr(ku(this._lContainer),n),Zs(r[I],r))}detach(e){let n=this._adjustIndex(e,-1),r=lo(this._lContainer,n);return r&&qr(ku(this._lContainer),n)!=null?new Vt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Mp(t){return t[Jr]}function ku(t){return t[Jr]||(t[Jr]=[])}function gm(t,e){let n,r=e[t.index];return Ge(r)?n=r:(n=em(r,e,null,t),e[t.index]=n,Ml(e,n)),Ub(n,e,t,r),new pm(n,t,e)}function Bb(t,e){let n=t[K],r=n.createComment(""),o=ze(e,t),i=n.parentNode(o);return Os(n,i,r,n.nextSibling(o),!1),r}var Ub=Gb,$b=()=>!1;function Hb(t,e,n){return $b(t,e,n)}function Gb(t,e,n,r){if(t[kt])return;let o;n.type&8?o=Pe(r):o=Bb(e,n),t[kt]=o}var al=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},cl=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)ql(e,n).matches!==null&&this.queries[n].setDirty()}},ul=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Qb(e):this.predicate=e}},ll=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},dl=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,n,zb(n,i)),this.matchTNodeWithReadOption(e,n,bs(n,e,i,!1,!1))}else r===ur?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,bs(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===En||o===Eo||o===ur&&n.type&4)this.addMatch(n.index,-2);else{let i=bs(n,e,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function zb(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Wb(t,e){return t.type&11?fr(t,e):t.type&4?Gl(t,e):null}function qb(t,e,n,r){return n===-1?Wb(e,t):n===-2?Kb(t,e,r):xs(t,t[I],n,e)}function Kb(t,e,n){if(n===En)return fr(e,t);if(n===ur)return Gl(e,t);if(n===Eo)return gm(e,t)}function mm(t,e,n,r){let o=e[rt].queries[r];if(o.matches===null){let i=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=i[u];a.push(qb(e,l,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function fl(t,e,n,r){let o=t.queries.getByIndex(n),i=o.matches;if(i!==null){let s=mm(t,e,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let u=i[a+1],l=e[-c];for(let d=te;d<l.length;d++){let h=l[d];h[Rt]===h[re]&&fl(h[I],h,u,r)}if(l[fn]!==null){let d=l[fn];for(let h=0;h<d.length;h++){let f=d[h];fl(f[I],f,u,r)}}}}}return r}function Yb(t,e){return t[rt].queries[e].queryList}function Zb(t,e,n){let r=new Ms((n&4)===4);return kh(t,e,r,r.destroy),(e[rt]??=new cl).queries.push(new al(r))-1}function Jb(t,e,n,r){let o=ae();if(o.firstCreatePass){let i=fe();Xb(o,new ul(e,n,r),i.index),eI(o,t),(n&2)===2&&(o.staticContentQueries=!0)}return Zb(o,N(),n)}function Qb(t){return t.split(",").map(e=>e.trim())}function Xb(t,e,n){t.queries===null&&(t.queries=new ll),t.queries.track(new dl(e,n))}function eI(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function ql(t,e){return t.queries.getByIndex(e)}function tI(t,e){let n=t[I],r=ql(n,e);return r.crossesNgTemplate?fl(n,t,e,[]):mm(n,t,r,e)}var yn=class{},ym=class{};var Vs=class extends yn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Fs(this);constructor(e,n,r,o=!0){super(),this.ngModuleType=e,this._parent=n;let i=Xc(e);this._bootstrapComponents=Ig(i.bootstrap),this._r3Injector=Su(e,n,[{provide:yn,useValue:this},{provide:vo,useValue:this.componentFactoryResolver},...r],pt(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bs=class extends ym{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Vs(this.moduleType,e,[])}};var ho=class extends yn{injector;componentFactoryResolver=new Fs(this);instance=null;constructor(e){super();let n=new nn([...e.providers,{provide:yn,useValue:this},{provide:vo,useValue:this.componentFactoryResolver}],e.parent||Kr(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vm(t,e,n=null){return new ho({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var nI=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=tu(!1,n.type),o=r.length>0?vm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:t,providedIn:"environment",factory:()=>new t(B(Ie))})}return t})();function rI(t){return go(()=>{let e=Em(t),n=we(ue({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Il.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(nI).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cr.Emulated,styles:t.styles||be,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&hr("NgStandalone"),_m(n);let r=t.dependencies;return n.directiveDefs=Op(r,oI),n.pipeDefs=Op(r,Dh),n.id=aI(n),n})}function oI(t){return Mt(t)||eu(t)}function ra(t){return go(()=>({type:t.type,bootstrap:t.bootstrap||be,declarations:t.declarations||be,imports:t.imports||be,exports:t.exports||be,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function iI(t,e){if(t==null)return an;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Ys.None,c=null),n[i]=[r,a,c],e[i]=s}return n}function sI(t){if(t==null)return an;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Kl(t){return go(()=>{let e=Em(t);return _m(e),e})}function Yl(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Em(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||an,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||be,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:iI(t.inputs,e),outputs:sI(t.outputs),debugInfo:null}}function _m(t){t.features?.forEach(e=>e(t))}function Op(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let o of n){let i=e(o);i!==null&&r.push(i)}return r}:null}function aI(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function cI(t,e,n,r,o,i,s,a){if(n.firstCreatePass){t.mergedAttrs=Ws(t.mergedAttrs,t.attrs);let l=t.tView=Nl(2,t,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),rr(t,!1);let c=uI(n,e,t,r);ds()&&jl(n,e,c,t),ar(c,e);let u=em(c,e,c,t);e[r+Q]=u,Ml(e,u),Hb(u,t,e)}function Us(t,e,n,r,o,i,s,a,c,u,l){let d=n+Q,h;if(e.firstCreatePass){if(h=ea(e,d,4,s||null,a||null),u!=null){let f=it(e.consts,u);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=e.data[d];return cI(h,t,e,n,r,o,i,c),u!=null&&Bl(t,h,l),h}var uI=lI;function lI(t,e,n,r){return fs(!0),e[K].createComment("")}var dI=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var wm=new O("");function oa(t){return!!t&&typeof t.then=="function"}function Zl(t){return!!t&&typeof t.subscribe=="function"}var Dm=new O("");var Jl=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=D(Dm,{optional:!0})??[];injector=D(rn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Qn(this.injector,o);if(oa(i))n.push(i);else if(Zl(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bm=new O("");function Im(){Ac(()=>{let t="";throw new C(600,t)})}function Tm(t){return t.isBoundToModule}var fI=10;var _o=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(st);afterRenderManager=D(Lg);zonelessEnabled=D(ps);rootEffectScheduler=D(xu);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Qe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=D(jt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(me(n=>!n))}constructor(){D(kl,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=D(Ie);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=rn.NULL){return this._injector.get(Te).run(()=>{H(10);let s=n instanceof ta;if(!this._injector.get(Jl).done){let p="";throw new C(405,p)}let c;s?c=n:c=this._injector.get(vo).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=Tm(c)?void 0:this._injector.get(yn),l=r||c.selector,d=c.create(o,[],l,u),h=d.location.nativeElement,f=d.injector.get(wm,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),io(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),H(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){H(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Rl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new C(101,!1);let n=S(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,S(n),this.afterTick.next(),H(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(fo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<fI;)H(14),this.synchronizeOnce(),H(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Xr(o))continue;let i=r&&!this.zonelessEnabled?0:1;Zg(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Xr(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;io(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(bm,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>io(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function io(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Cm(t,e,n,r){let o=N(),i=Lt();if(Me(o,i,e)){let s=ae(),a=ls();UD(a,o,t,e,n,r)}return Cm}var qk=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var hl=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),o=Math.max(e,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(e,n){this.attach(n,this.detach(e,!0))}};function Pu(t,e,n,r,o){return t===n&&Object.is(e,r)?1:Object.is(o(t,e),o(n,r))?-1:0}function hI(t,e,n){let r,o,i=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;i<=s&&i<=c;){let u=t.at(i),l=e[i],d=Pu(i,u,i,l,n);if(d!==0){d<0&&t.updateValue(i,l),i++;continue}let h=t.at(s),f=e[c],p=Pu(s,h,c,f,n);if(p!==0){p<0&&t.updateValue(s,f),s--,c--;continue}let m=n(i,u),g=n(s,h),y=n(i,l);if(Object.is(y,g)){let b=n(c,f);Object.is(b,m)?(t.swap(i,s),t.updateValue(s,f),c--,s--):t.move(s,i),t.updateValue(i,l),i++;continue}if(r??=new $s,o??=kp(t,i,s,n),pl(t,r,i,y))t.updateValue(i,l),i++,s++;else if(o.has(y))r.set(m,t.detach(i)),s--;else{let b=t.create(i,e[i]);t.attach(i,b),i++,s++}}for(;i<=c;)Rp(t,r,n,i,e[i]),i++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&i<=s;){let l=t.at(i),d=u.value,h=Pu(i,l,i,d,n);if(h!==0)h<0&&t.updateValue(i,d),i++,u=c.next();else{r??=new $s,o??=kp(t,i,s,n);let f=n(i,d);if(pl(t,r,i,f))t.updateValue(i,d),i++,s++,u=c.next();else if(!o.has(f))t.attach(i,t.create(i,d)),i++,s++,u=c.next();else{let p=n(i,l);r.set(p,t.detach(i)),s--}}}for(;!u.done;)Rp(t,r,n,t.length,u.value),u=c.next()}for(;i<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function pl(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Rp(t,e,n,r,o){if(pl(t,e,r,n(r,o)))t.updateValue(r,o);else{let i=t.create(r,o);t.attach(r,i)}}function kp(t,e,n,r){let o=new Set;for(let i=e;i<=n;i++)o.add(r(i,t.at(i)));return o}var $s=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),e(r,n)}}};function pI(t,e,n,r,o,i,s,a){hr("NgControlFlow");let c=N(),u=ae(),l=it(u.consts,i);return Us(c,u,t,e,n,r,o,l,256,s,a),Ql}function Ql(t,e,n,r,o,i,s,a){hr("NgControlFlow");let c=N(),u=ae(),l=it(u.consts,i);return Us(c,u,t,e,n,r,o,l,512,s,a),Ql}function gI(t,e){hr("NgControlFlow");let n=N(),r=Lt(),o=n[r]!==se?n[r]:-1,i=o!==-1?Hs(n,Q+o):void 0,s=0;if(Me(n,r,t)){let a=S(null);try{if(i!==void 0&&nm(i,s),t!==-1){let c=Q+t,u=Hs(n,c),l=vl(n[I],c),d=om(u,l,n),h=Qs(n,l,e,{dehydratedView:d});Xs(u,h,s,co(l,d))}}finally{S(a)}}else if(i!==void 0){let a=tm(i,s);a!==void 0&&(a[J]=e)}}var gl=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-te}};function mI(t){return t}function yI(t,e){return e}var ml=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function vI(t,e,n,r,o,i,s,a,c,u,l,d,h){hr("NgControlFlow");let f=N(),p=ae(),m=c!==void 0,g=N(),y=a?s.bind(g[Ne][J]):s,b=new ml(m,y);g[Q+t]=b,Us(f,p,t+1,e,n,r,o,it(p.consts,i),256),m&&Us(f,p,t+2,c,u,l,d,it(p.consts,h),512)}var yl=class extends hl{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-te}at(e){return this.getLView(e)[J].$implicit}attach(e,n){let r=n[Xn];this.needsIndexUpdate||=e!==this.length,Xs(this.lContainer,n,e,co(this.templateTNode,r))}detach(e,n){return this.needsIndexUpdate||=e!==this.length-1,n&&_I(this.lContainer,e),wI(this.lContainer,e)}create(e,n){let r=rl(this.lContainer,this.templateTNode.tView.ssrId),o=Qs(this.hostLView,this.templateTNode,new gl(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(e){Zs(e[I],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[J].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[J].$index=e}getLView(e){return DI(this.lContainer,e)}};function EI(t){let e=S(null),n=We();try{let r=N(),o=r[I],i=r[n],s=n+1,a=Hs(r,s);if(i.liveCollection===void 0){let u=vl(o,s);i.liveCollection=new yl(a,r,u)}else i.liveCollection.reset();let c=i.liveCollection;if(hI(c,t,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let u=Lt(),l=c.length===0;if(Me(r,u,l)){let d=n+2,h=Hs(r,d);if(l){let f=vl(o,d),p=om(h,f,r),m=Qs(r,f,void 0,{dehydratedView:p});Xs(h,m,0,co(f,p))}else o.firstUpdatePass&&db(h),nm(h,0)}}}finally{S(e)}}function Hs(t,e){return t[e]}function _I(t,e){if(t.length<=te)return;let n=te+e,r=t[n];r&&r[dn]&&(r[dn].skipLeaveAnimations=!0)}function wI(t,e){return lo(t,e)}function DI(t,e){return tm(t,e)}function vl(t,e){return Qr(t,e)}function Sm(t,e,n){let r=N(),o=Lt();if(Me(r,o,e)){let i=ae(),s=ls();PD(s,r,t,e,r[K],n)}return Sm}function El(t,e,n,r,o){Ul(e,t,n,o?"class":"style",r)}function Xl(t,e,n,r){let o=N(),i=o[I],s=t+Q,a=i.firstCreatePass?cm(s,o,2,e,BD,Fh(),n,r):i.data[s];if(Hg(a,o,t,e,xm),ns(a)){let c=o[I];Ug(c,o,a),pg(c,a,o)}return r!=null&&Bl(o,a),Xl}function ed(){let t=ae(),e=fe(),n=Gg(e);return t.firstCreatePass&&um(t,n),yu(n)&&vu(),mu(),n.classesWithoutHost!=null&&B_(n)&&El(t,n,N(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&U_(n)&&El(t,n,N(),n.stylesWithoutHost,!1),ed}function Am(t,e,n,r){return Xl(t,e,n,r),ed(),Am}function td(t,e,n,r){let o=N(),i=o[I],s=t+Q,a=i.firstCreatePass?Cb(s,i,2,e,n,r):i.data[s];return Hg(a,o,t,e,xm),r!=null&&Bl(o,a),td}function nd(){let t=fe(),e=Gg(t);return yu(e)&&vu(),mu(),nd}function Nm(t,e,n,r){return td(t,e,n,r),nd(),Nm}var xm=(t,e,n,r,o)=>(fs(!0),Cg(e[K],r,tp()));function bI(){return N()}function Mm(t,e,n){let r=N(),o=Lt();if(Me(r,o,e)){let i=ae(),s=ls();$g(s,r,t,e,r[K],n)}return Mm}var Es=void 0;function II(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var TI=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Es,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Es,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Es,"{1} 'at' {0}",Es],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",II],Lu={};function Oe(t){let e=CI(t),n=Pp(e);if(n)return n;let r=e.split("-")[0];if(n=Pp(r),n)return n;if(r==="en")return TI;throw new C(701,!1)}function Pp(t){return t in Lu||(Lu[t]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[t]),Lu[t]}var X=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(X||{});function CI(t){return t.toLowerCase().replace(/_/g,"-")}var wo="en-US";var SI=wo;function Om(t){typeof t=="string"&&(SI=t.toLowerCase().replace(/_/g,"-"))}function Rm(t,e,n){let r=N(),o=ae(),i=fe();return AI(o,r,r[K],i,t,e,n),Rm}function km(t,e,n){let r=N(),o=ae(),i=fe();return(i.type&3||n)&&dm(i,o,r,n,r[K],t,e,Ts(i,r,e)),km}function AI(t,e,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Ts(r,e,i),dm(r,t,e,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let d=0;d<l.length;d+=2){let h=l[d],f=l[d+1];c??=Ts(r,e,i),Np(r,e,h,f,o,c)}if(u&&u.length)for(let d of u)c??=Ts(r,e,i),Np(r,e,d,o,o,c)}}function NI(t=1){return Qh(t)}function xI(t,e,n,r){Jb(t,e,n,r)}function MI(t){let e=N(),n=ae(),r=Iu();as(r+1);let o=ql(n,r);if(t.dirty&&xh(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=tI(e,r);t.reset(i,nw),t.notifyOnChanges()}return!0}return!1}function OI(){return Yb(N(),Iu())}function RI(t){let e=Hh();return rs(e,Q+t)}function _s(t,e){return t<<17|e<<2}function vn(t){return t>>17&32767}function kI(t){return(t&2)==2}function PI(t,e){return t&131071|e<<17}function _l(t){return t|2}function dr(t){return(t&131068)>>2}function Fu(t,e){return t&-131069|e<<2}function LI(t){return(t&1)===1}function wl(t){return t|1}function FI(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=vn(s),c=dr(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Jn(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=vn(t[a+1]);t[r+1]=_s(h,a),h!==0&&(t[h+1]=Fu(t[h+1],r)),t[a+1]=PI(t[a+1],r)}else t[r+1]=_s(a,0),a!==0&&(t[a+1]=Fu(t[a+1],r)),a=r;else t[r+1]=_s(c,0),a===0?a=r:t[c+1]=Fu(t[c+1],r),c=r;u&&(t[r+1]=_l(t[r+1])),Lp(t,l,r,!0),Lp(t,l,r,!1),jI(e,l,t,r,i),s=_s(a,c),i?e.classBindings=s:e.styleBindings=s}function jI(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Jn(i,e)>=0&&(n[r+1]=wl(n[r+1]))}function Lp(t,e,n,r){let o=t[n+1],i=e===null,s=r?vn(o):dr(o),a=!1;for(;s!==0&&(a===!1||i);){let c=t[s],u=t[s+1];VI(c,e)&&(a=!0,t[s+1]=r?wl(u):_l(u)),s=r?vn(u):dr(u)}a&&(t[n+1]=r?_l(o):wl(o))}function VI(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Jn(t,e)>=0:!1}var Ke={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BI(t){return t.substring(Ke.key,Ke.keyEnd)}function UI(t){return $I(t),Pm(t,Lm(t,0,Ke.textEnd))}function Pm(t,e){let n=Ke.textEnd;return n===e?-1:(e=Ke.keyEnd=HI(t,Ke.key=e,n),Lm(t,e,n))}function $I(t){Ke.key=0,Ke.keyEnd=0,Ke.value=0,Ke.valueEnd=0,Ke.textEnd=t.length}function Lm(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function HI(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Fm(t,e,n){return Vm(t,e,n,!1),Fm}function jm(t,e){return Vm(t,e,null,!0),jm}function GI(t){WI(QI,zI,t,!0)}function zI(t,e){for(let n=UI(e);n>=0;n=Pm(e,n))Ji(t,BI(e),!0)}function Vm(t,e,n,r){let o=N(),i=ae(),s=to(2);if(i.firstUpdatePass&&Um(i,t,s,r),e!==se&&Me(o,s,e)){let a=i.data[We()];$m(i,a,o,o[K],t,o[s+1]=eT(e,n),r,s)}}function WI(t,e,n,r){let o=ae(),i=to(2);o.firstUpdatePass&&Um(o,null,i,r);let s=N();if(n!==se&&Me(s,i,n)){let a=o.data[We()];if(Hm(a,r)&&!Bm(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Wi(c,n||"")),El(o,a,s,n,r)}else XI(o,a,s,s[K],s[i+1],s[i+1]=JI(t,e,n),r,i)}}function Bm(t,e){return e>=t.expandoStartIndex}function Um(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[We()],s=Bm(t,n);Hm(i,r)&&e===null&&!s&&(e=!1),e=qI(o,i,e,r),FI(o,i,e,n,s,r)}}function qI(t,e,n,r){let o=Kh(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=ju(null,t,e,n,r),n=po(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=ju(o,t,e,n,r),i===null){let c=KI(t,e,r);c!==void 0&&Array.isArray(c)&&(c=ju(null,t,e,c[1],r),c=po(c,e.attrs,r),YI(t,e,r,c))}else i=ZI(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function KI(t,e,n){let r=n?e.classBindings:e.styleBindings;if(dr(r)!==0)return t[vn(r)]}function YI(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[vn(o)]=r}function ZI(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=po(r,s,n)}return po(r,e.attrs,n)}function ju(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=po(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function po(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ji(t,s,n?!0:e[++i]))}return t===void 0?null:t}function JI(t,e,n){if(n==null||n==="")return be;let r=[],o=mo(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)t(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&t(r,i,o[i]);else typeof o=="string"&&e(r,o);return r}function QI(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Ji(t,r,n)}function XI(t,e,n,r,o,i,s,a){o===se&&(o=be);let c=0,u=0,l=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;l!==null||d!==null;){let h=c<o.length?o[c+1]:void 0,f=u<i.length?i[u+1]:void 0,p=null,m;l===d?(c+=2,u+=2,h!==f&&(p=d,m=f)):d===null||l!==null&&l<d?(c+=2,p=l):(u+=2,p=d,m=f),p!==null&&$m(t,e,n,r,p,m,s,a),l=c<o.length?o[c]:null,d=u<i.length?i[u]:null}}function $m(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=LI(u)?Fp(c,e,n,o,dr(u),s):void 0;if(!Gs(l)){Gs(i)||kI(u)&&(i=Fp(c,null,n,o,a,s));let d=uu(We(),n);xD(r,s,d,o,i)}}function Fp(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let c=t[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===se&&(h=d?be:void 0);let f=d?Qi(h,r):l===r?h:void 0;if(u&&!Gs(f)&&(f=Qi(c,r)),Gs(f)&&(a=f,s))return a;let p=t[o+1];o=s?vn(p):dr(p)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=Qi(c,r))}return a}function Gs(t){return t!==void 0}function eT(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=pt(mo(t)))),t}function Hm(t,e){return(t.flags&(e?8:16))!==0}function tT(t,e=""){let n=N(),r=ae(),o=t+Q,i=r.firstCreatePass?ea(r,o,1,e,null):r.data[o],s=nT(r,n,i,e,t);n[o]=s,ds()&&jl(r,n,s,i),rr(i,!1)}var nT=(t,e,n,r,o)=>(fs(!0),eD(e[K],r));function rT(t,e,n,r=""){return Me(t,Lt(),n)?e+$e(n)+r:se}function oT(t,e,n,r,o,i=""){let s=bu(),a=Wl(t,s,n,o);return to(2),a?e+$e(n)+r+$e(o)+i:se}function iT(t,e,n,r,o,i,s,a=""){let c=bu(),u=lm(t,c,n,o,s);return to(3),u?e+$e(n)+r+$e(o)+i+$e(s)+a:se}function Gm(t){return rd("",t),Gm}function rd(t,e,n){let r=N(),o=rT(r,t,e,n);return o!==se&&od(r,We(),o),rd}function zm(t,e,n,r,o){let i=N(),s=oT(i,t,e,n,r,o);return s!==se&&od(i,We(),s),zm}function Wm(t,e,n,r,o,i,s){let a=N(),c=iT(a,t,e,n,r,o,i,s);return c!==se&&od(a,We(),c),Wm}function od(t,e,n){let r=uu(e,t);tD(t[K],r,n)}function sT(t){return Me(N(),Lt(),t)?$e(t):se}function aT(t,e,n){let r=or()+t,o=N();return o[r]===se?na(o,r,n?e.call(n):e()):Sb(o,r)}function cT(t,e,n,r){return qm(N(),or(),t,e,n,r)}function uT(t,e,n,r,o,i){return dT(N(),or(),t,e,n,r,o,i)}function id(t,e){let n=t[e];return n===se?void 0:n}function qm(t,e,n,r,o,i){let s=e+n;return Me(t,s,o)?na(t,s+1,i?r.call(i,o):r(o)):id(t,s+1)}function lT(t,e,n,r,o,i,s){let a=e+n;return Wl(t,a,o,i)?na(t,a+2,s?r.call(s,o,i):r(o,i)):id(t,a+2)}function dT(t,e,n,r,o,i,s,a){let c=e+n;return lm(t,c,o,i,s)?na(t,c+3,a?r.call(a,o,i,s):r(o,i,s)):id(t,c+3)}function fT(t,e){let n=ae(),r,o=t+Q;n.firstCreatePass?(r=hT(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=At(r.type,!0)),s,a=ve(vt);try{let c=Ns(!1),u=i();return Ns(c),lu(n,N(),o,u),u}finally{ve(a)}}function hT(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function pT(t,e,n){let r=t+Q,o=N(),i=rs(o,r);return Km(o,r)?qm(o,or(),e,i.transform,n,i):i.transform(n)}function gT(t,e,n,r){let o=t+Q,i=N(),s=rs(i,o);return Km(i,o)?lT(i,or(),e,s.transform,n,r,s):s.transform(n,r)}function Km(t,e){return t[I].data[e].pure}var zs=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},mT=(()=>{class t{compileModuleSync(n){return new Bs(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Xc(n),i=Ig(o.declarations).reduce((s,a)=>{let c=Mt(a);return c&&s.push(new lr(c)),s},[]);return new zs(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yT=(()=>{class t{zone=D(Te);changeDetectionScheduler=D(xt);applicationRef=D(_o);applicationErrorHandler=D(st);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ym({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Te(we(ue({},Zm()),{scheduleInRootZone:n})),[{provide:Te,useFactory:t},{provide:cn,multi:!0,useFactory:()=>{let r=D(yT,{optional:!0});return()=>r.initialize()}},{provide:cn,multi:!0,useFactory:()=>{let r=D(vT);return()=>{r.initialize()}}},e===!0?{provide:Au,useValue:!0}:[],{provide:Nu,useValue:n??Rg},{provide:st,useFactory:()=>{let r=D(Te),o=D(Ie),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(on),i.handleError(s))})}}}]}function Zm(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var vT=(()=>{class t{subscription=new ee;initialized=!1;zone=D(Te);pendingTasks=D(jt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Jm=(()=>{class t{applicationErrorHandler=D(st);appRef=D(_o);taskService=D(jt);ngZone=D(Te);zonelessEnabled=D(ps);tracing=D(kl,{optional:!0});disableScheduling=D(Au,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ee;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ks):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(Nu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ps||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Ep:kg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ks+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ep(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ET(){return typeof $localize<"u"&&$localize.locale||wo}var Do=new O("",{providedIn:"root",factory:()=>D(Do,{optional:!0,skipSelf:!0})||ET()});function Xm(t){return fh(t)}function sd(t,e){return Vi(t,e?.equal)}var Qm=class{[ye];constructor(e){this[ye]=e}destroy(){this[ye].destroy()}};var ny=Symbol("InputSignalNode#UNSET"),CT=we(ue({},Bi),{transformFn:void 0,applyValueToInputSignal(t,e){Yn(t,e)}});function ry(t,e){let n=Object.create(CT);n.value=t,n.transformFn=e?.transform;function r(){if(Wn(n),n.value===ny){let o=null;throw new C(-950,o)}return n.value}return r[ye]=n,r}var ey=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>bl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},ST=new O("");ST.__NG_ELEMENT_ID__=t=>{let e=fe();if(e===null)throw new C(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new C(204,!1)};function ty(t,e){return ry(t,e)}function AT(t){return ry(ny,t)}var vB=(ty.required=AT,ty);var ad=new O(""),NT=new O("");function bo(t){return!t.moduleRef}function xT(t){let e=bo(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Te);return n.run(()=>{bo(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(st),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),bo(t)){let i=()=>e.destroy(),s=t.platformInjector.get(ad);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ad);s.add(i),t.moduleRef.onDestroy(()=>{io(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return OT(r,n,()=>{let i=e.get(jt),s=i.add(),a=e.get(Jl);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Do,wo);if(Om(c||wo),!e.get(NT,!0))return bo(t)?e.get(_o):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(bo(t)){let l=e.get(_o);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return MT?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var MT;function OT(t,e,n){try{let r=n();return oa(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var ia=null;function RT(t=[],e){return rn.create({name:e,providers:[{provide:ru,useValue:"platform"},{provide:ad,useValue:new Set([()=>ia=null])},...t]})}function kT(t=[]){if(ia)return ia;let e=RT(t);return ia=e,Im(),PT(e),e}function PT(t){let e=t.get(ag,null);Qn(t,()=>{e?.forEach(n=>n())})}var LT=(()=>{class t{static __NG_ELEMENT_ID__=FT}return t})();function FT(t){return jT(fe(),N(),(t&16)===16)}function jT(t,e,n){if(Pt(t)&&!n){let r=Le(t.index,e);return new Vt(r,r)}else if(t.type&175){let r=e[Ne];return new Vt(r,e)}return null}function EB(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:o}=t;H(8);try{let i=o?.injector??kT(r),s=[Ym({}),{provide:xt,useExisting:Jm},rp,...n||[]],a=new ho({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return xT({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{H(9)}}function _B(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var sy=null;function sa(){return sy}function VT(t){sy??=t}var cd=class{},Io=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>D(ay),providedIn:"platform"})}return t})();var ay=(()=>{class t extends Io{_location;_history;_doc=D(gn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sa().getBaseHref(this._doc)}onPopState(n){let r=sa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=sa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function aa(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function oy(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Ye(t){return t&&t[0]!=="?"?`?${t}`:t}var gr=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>D(cy),providedIn:"root"})}return t})(),ca=new O(""),cy=(()=>{class t extends gr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(gn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return aa(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ye(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Ye(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Ye(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(B(Io),B(ca,8))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uy=(()=>{class t{_subject=new Qe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=$T(oy(iy(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ye(r))}normalize(n){return t.stripTrailingSlash(UT(this._basePath,iy(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ye(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ye(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Ye;static joinWithSlash=aa;static stripTrailingSlash=oy;static \u0275fac=function(r){return new(r||t)(B(gr))};static \u0275prov=L({token:t,factory:()=>BT(),providedIn:"root"})}return t})();function BT(){return new uy(B(gr))}function UT(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function iy(t){return t.replace(/\/index.html$/,"")}function $T(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var HT=(()=>{class t extends gr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=aa(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Ye(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Ye(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(B(Io),B(ca,8))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();var he=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(he||{}),U=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(U||{}),Ce=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Ce||{}),_t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function fy(t){return Oe(t)[X.LocaleId]}function hy(t,e,n){let r=Oe(t),o=[r[X.DayPeriodsFormat],r[X.DayPeriodsStandalone]],i=Fe(o,e);return Fe(i,n)}function py(t,e,n){let r=Oe(t),o=[r[X.DaysFormat],r[X.DaysStandalone]],i=Fe(o,e);return Fe(i,n)}function gy(t,e,n){let r=Oe(t),o=[r[X.MonthsFormat],r[X.MonthsStandalone]],i=Fe(o,e);return Fe(i,n)}function my(t,e){let r=Oe(t)[X.Eras];return Fe(r,e)}function To(t,e){let n=Oe(t);return Fe(n[X.DateFormat],e)}function Co(t,e){let n=Oe(t);return Fe(n[X.TimeFormat],e)}function So(t,e){let r=Oe(t)[X.DateTimeFormat];return Fe(r,e)}function Ao(t,e){let n=Oe(t),r=n[X.NumberSymbols][e];if(typeof r>"u"){if(e===_t.CurrencyDecimal)return n[X.NumberSymbols][_t.Decimal];if(e===_t.CurrencyGroup)return n[X.NumberSymbols][_t.Group]}return r}function yy(t){if(!t[X.ExtraData])throw new C(2303,!1)}function vy(t){let e=Oe(t);return yy(e),(e[X.ExtraData][2]||[]).map(r=>typeof r=="string"?ud(r):[ud(r[0]),ud(r[1])])}function Ey(t,e,n){let r=Oe(t);yy(r);let o=[r[X.ExtraData][0],r[X.ExtraData][1]],i=Fe(o,e)||[];return Fe(i,n)||[]}function Fe(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new C(2304,!1)}function ud(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var GT=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ua={},zT=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function _y(t,e,n,r){let o=eC(t);e=Et(n,e)||e;let s=[],a;for(;e;)if(a=zT.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=o.getTimezoneOffset();r&&(c=Dy(r,c),o=XT(o,r));let u="";return s.forEach(l=>{let d=JT(l);u+=d?d(o,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function pa(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Et(t,e){let n=fy(t);if(ua[n]??={},ua[n][e])return ua[n][e];let r="";switch(e){case"shortDate":r=To(t,Ce.Short);break;case"mediumDate":r=To(t,Ce.Medium);break;case"longDate":r=To(t,Ce.Long);break;case"fullDate":r=To(t,Ce.Full);break;case"shortTime":r=Co(t,Ce.Short);break;case"mediumTime":r=Co(t,Ce.Medium);break;case"longTime":r=Co(t,Ce.Long);break;case"fullTime":r=Co(t,Ce.Full);break;case"short":let o=Et(t,"shortTime"),i=Et(t,"shortDate");r=la(So(t,Ce.Short),[o,i]);break;case"medium":let s=Et(t,"mediumTime"),a=Et(t,"mediumDate");r=la(So(t,Ce.Medium),[s,a]);break;case"long":let c=Et(t,"longTime"),u=Et(t,"longDate");r=la(So(t,Ce.Long),[c,u]);break;case"full":let l=Et(t,"fullTime"),d=Et(t,"fullDate");r=la(So(t,Ce.Full),[l,d]);break}return r&&(ua[n][e]=r),r}function la(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Ze(t,e,n="-",r,o){let i="";(t<0||o&&t<=0)&&(o?t=-t+1:(t=-t,i=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),i+s}function WT(t,e){return Ze(t,3).substring(0,e)}function ne(t,e,n=0,r=!1,o=!1){return function(i,s){let a=qT(t,i);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return WT(a,e);let c=Ao(s,_t.MinusSign);return Ze(a,e,c,r,o)}}function qT(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new C(2301,!1)}}function G(t,e,n=he.Format,r=!1){return function(o,i){return KT(o,i,t,e,n,r)}}function KT(t,e,n,r,o,i){switch(n){case 2:return gy(e,o,r)[t.getMonth()];case 1:return py(e,o,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(i){let u=vy(e),l=Ey(e,o,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,m=s>=f.hours&&a>=f.minutes,g=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(m&&g)return!0}else if(m||g)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return hy(e,o,r)[s<12?0:1];case 3:return my(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new C(2302,!1)}}function da(t){return function(e,n,r){let o=-1*r,i=Ao(n,_t.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case 0:return(o>=0?"+":"")+Ze(s,2,i)+Ze(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+Ze(s,1,i);case 2:return"GMT"+(o>=0?"+":"")+Ze(s,2,i)+":"+Ze(Math.abs(o%60),2,i);case 3:return r===0?"Z":(o>=0?"+":"")+Ze(s,2,i)+":"+Ze(Math.abs(o%60),2,i);default:throw new C(2310,!1)}}}var YT=0,ha=4;function ZT(t){let e=pa(t,YT,1).getDay();return pa(t,0,1+(e<=ha?ha:ha+7)-e)}function wy(t){let e=t.getDay(),n=e===0?-3:ha-e;return pa(t.getFullYear(),t.getMonth(),t.getDate()+n)}function ld(t,e=!1){return function(n,r){let o;if(e){let i=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();o=1+Math.floor((s+i)/7)}else{let i=wy(n),s=ZT(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Ze(o,t,Ao(r,_t.MinusSign))}}function fa(t,e=!1){return function(n,r){let i=wy(n).getFullYear();return Ze(i,t,Ao(r,_t.MinusSign),e)}}var dd={};function JT(t){if(dd[t])return dd[t];let e;switch(t){case"G":case"GG":case"GGG":e=G(3,U.Abbreviated);break;case"GGGG":e=G(3,U.Wide);break;case"GGGGG":e=G(3,U.Narrow);break;case"y":e=ne(0,1,0,!1,!0);break;case"yy":e=ne(0,2,0,!0,!0);break;case"yyy":e=ne(0,3,0,!1,!0);break;case"yyyy":e=ne(0,4,0,!1,!0);break;case"Y":e=fa(1);break;case"YY":e=fa(2,!0);break;case"YYY":e=fa(3);break;case"YYYY":e=fa(4);break;case"M":case"L":e=ne(1,1,1);break;case"MM":case"LL":e=ne(1,2,1);break;case"MMM":e=G(2,U.Abbreviated);break;case"MMMM":e=G(2,U.Wide);break;case"MMMMM":e=G(2,U.Narrow);break;case"LLL":e=G(2,U.Abbreviated,he.Standalone);break;case"LLLL":e=G(2,U.Wide,he.Standalone);break;case"LLLLL":e=G(2,U.Narrow,he.Standalone);break;case"w":e=ld(1);break;case"ww":e=ld(2);break;case"W":e=ld(1,!0);break;case"d":e=ne(2,1);break;case"dd":e=ne(2,2);break;case"c":case"cc":e=ne(7,1);break;case"ccc":e=G(1,U.Abbreviated,he.Standalone);break;case"cccc":e=G(1,U.Wide,he.Standalone);break;case"ccccc":e=G(1,U.Narrow,he.Standalone);break;case"cccccc":e=G(1,U.Short,he.Standalone);break;case"E":case"EE":case"EEE":e=G(1,U.Abbreviated);break;case"EEEE":e=G(1,U.Wide);break;case"EEEEE":e=G(1,U.Narrow);break;case"EEEEEE":e=G(1,U.Short);break;case"a":case"aa":case"aaa":e=G(0,U.Abbreviated);break;case"aaaa":e=G(0,U.Wide);break;case"aaaaa":e=G(0,U.Narrow);break;case"b":case"bb":case"bbb":e=G(0,U.Abbreviated,he.Standalone,!0);break;case"bbbb":e=G(0,U.Wide,he.Standalone,!0);break;case"bbbbb":e=G(0,U.Narrow,he.Standalone,!0);break;case"B":case"BB":case"BBB":e=G(0,U.Abbreviated,he.Format,!0);break;case"BBBB":e=G(0,U.Wide,he.Format,!0);break;case"BBBBB":e=G(0,U.Narrow,he.Format,!0);break;case"h":e=ne(3,1,-12);break;case"hh":e=ne(3,2,-12);break;case"H":e=ne(3,1);break;case"HH":e=ne(3,2);break;case"m":e=ne(4,1);break;case"mm":e=ne(4,2);break;case"s":e=ne(5,1);break;case"ss":e=ne(5,2);break;case"S":e=ne(6,1);break;case"SS":e=ne(6,2);break;case"SSS":e=ne(6,3);break;case"Z":case"ZZ":case"ZZZ":e=da(0);break;case"ZZZZZ":e=da(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=da(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=da(2);break;default:return null}return dd[t]=e,e}function Dy(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function QT(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function XT(t,e,n){let o=t.getTimezoneOffset(),i=Dy(e,o);return QT(t,-1*(i-o))}function eC(t){if(ly(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[o,i=1,s=1]=t.split("-").map(a=>+a);return pa(o,i-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(GT))return tC(r)}let e=new Date(t);if(!ly(e))throw new C(2311,!1);return e}function tC(t){let e=new Date(0),n=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),o.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return i.call(e,s,a,c,u),e}function ly(t){return t instanceof Date&&!isNaN(t.valueOf())}var fd=/\s+/,dy=[],nC=(()=>{class t{_ngEl;_renderer;initialClasses=dy;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(fd):dy}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(fd):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(fd).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||t)(vt(En),vt(zl))};static \u0275dir=Kl({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();function rC(t,e){return new C(2100,!1)}var oC="mediumDate",by=new O(""),Iy=new O(""),iC=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,i){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??oC,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return _y(n,s,i||this.locale,a)}catch(s){throw rC(t,s.message)}}static \u0275fac=function(r){return new(r||t)(vt(Do,16),vt(by,24),vt(Iy,24))};static \u0275pipe=Yl({name:"date",type:t,pure:!0})}return t})();var sC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ra({type:t});static \u0275inj=zr({})}return t})();function hd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var No=class{};var PU="browser";var vr=class{},xo=class{},Bt=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let o=(e.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=e.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ma=class{encodeKey(e){return Ty(e)}encodeValue(e){return Ty(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function cC(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var uC=/%(\d[a-f0-9])/gi,lC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ty(t){return encodeURIComponent(t).replace(uC,(e,n)=>lC[n]??e)}function ga(t){return`${t}`}var Je=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new ma,e.fromString){if(e.fromObject)throw new C(2805,!1);this.map=cC(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],o=Array.isArray(r)?r.map(ga):[ga(r)];this.map.set(n,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let o=e[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ga(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],o=r.indexOf(ga(e.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ya=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function dC(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Cy(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Sy(t){return typeof Blob<"u"&&t instanceof Blob}function Ay(t){return typeof FormData<"u"&&t instanceof FormData}function fC(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ny="Content-Type",xy="Accept",My="X-Request-URL",Oy="text/plain",Ry="application/json",hC=`${Ry}, ${Oy}, */*`,mr=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,o){this.url=n,this.method=e.toUpperCase();let i;if(dC(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new C(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new Bt,this.context??=new ya,!this.params)this.params=new Je,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Cy(this.body)||Sy(this.body)||Ay(this.body)||fC(this.body)?this.body:this.body instanceof Je?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ay(this.body)?null:Sy(this.body)?this.body.type||null:Cy(this.body)?null:typeof this.body=="string"?Oy:this.body instanceof Je?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Ry:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,u=e.redirect||this.redirect,l=e.credentials||this.credentials,d=e.referrer||this.referrer,h=e.integrity||this.integrity,f=e.transferCache??this.transferCache,p=e.timeout??this.timeout,m=e.body!==void 0?e.body:this.body,g=e.withCredentials??this.withCredentials,y=e.reportProgress??this.reportProgress,b=e.headers||this.headers,w=e.params||this.params,E=e.context??this.context;return e.setHeaders!==void 0&&(b=Object.keys(e.setHeaders).reduce((P,ie)=>P.set(ie,e.setHeaders[ie]),b)),e.setParams&&(w=Object.keys(e.setParams).reduce((P,ie)=>P.set(ie,e.setParams[ie]),w)),new t(n,r,m,{params:w,headers:b,context:E,reportProgress:y,responseType:o,withCredentials:g,transferCache:f,keepalive:i,cache:a,priority:s,timeout:p,mode:c,redirect:u,credentials:l,referrer:d,integrity:h})}},_n=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(_n||{}),Er=class{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,r="OK"){this.headers=e.headers||new Bt,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},va=class t extends Er{constructor(e={}){super(e)}type=_n.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Mo=class t extends Er{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=_n.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},yr=class extends Er{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},pC=200,gC=204;function pd(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}var _a=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof mr)i=n;else{let c;o.headers instanceof Bt?c=o.headers:c=new Bt(o.headers);let u;o.params&&(o.params instanceof Je?u=o.params:u=new Je({fromObject:o.params})),i=new mr(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let s=Si(i).pipe(vc(c=>this.handler.handle(c)));if(n instanceof mr||o.observe==="events")return s;let a=s.pipe(Xt(c=>c instanceof Mo));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(me(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new C(2806,!1);return c.body}));case"blob":return a.pipe(me(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new C(2807,!1);return c.body}));case"text":return a.pipe(me(c=>{if(c.body!==null&&typeof c.body!="string")throw new C(2808,!1);return c.body}));case"json":default:return a.pipe(me(c=>c.body))}case"response":return a;default:throw new C(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Je().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,pd(o,r))}post(n,r,o={}){return this.request("POST",n,pd(o,r))}put(n,r,o={}){return this.request("PUT",n,pd(o,r))}static \u0275fac=function(r){return new(r||t)(B(vr))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();var mC=new O("");function yC(t,e){return e(t)}function vC(t,e,n){return(r,o)=>Qn(n,()=>e(r,i=>t(i,o)))}var md=new O(""),ky=new O(""),Py=new O("",{providedIn:"root",factory:()=>!0});var Ea=(()=>{class t extends vr{backend;injector;chain=null;pendingTasks=D(gs);contributeToStability=D(Py);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(md),...this.injector.get(ky,[])]));this.chain=r.reduceRight((o,i)=>vC(o,i,this.injector),yC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(_c(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(B(xo),B(Ie))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();var EC=/^\)\]\}',?\n/,_C=RegExp(`^${My}:`,"m");function wC(t){return"responseURL"in t&&t.responseURL?t.responseURL:_C.test(t.getAllResponseHeaders())?t.getResponseHeader(My):null}var gd=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new C(-2800,!1);let r=this.xhrFactory;return Si(null).pipe(Dc(()=>new F(i=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,y)=>s.setRequestHeader(g,y.join(","))),n.headers.has(xy)||s.setRequestHeader(xy,hC),!n.headers.has(Ny)){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader(Ny,g)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let g=s.statusText||"OK",y=new Bt(s.getAllResponseHeaders()),b=wC(s)||n.url;return c=new va({headers:y,status:s.status,statusText:g,url:b}),c},l=()=>{let{headers:g,status:y,statusText:b,url:w}=u(),E=null;y!==gC&&(E=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=E?pC:0);let P=y>=200&&y<300;if(n.responseType==="json"&&typeof E=="string"){let ie=E;E=E.replace(EC,"");try{E=E!==""?JSON.parse(E):null}catch(V){E=ie,P&&(P=!1,E={error:V,text:E})}}P?(i.next(new Mo({body:E,headers:g,status:y,statusText:b,url:w||void 0})),i.complete()):i.error(new yr({error:E,headers:g,status:y,statusText:b,url:w||void 0}))},d=g=>{let{url:y}=u(),b=new yr({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});i.error(b)},h=d;n.timeout&&(h=g=>{let{url:y}=u(),b=new yr({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:y||void 0});i.error(b)});let f=!1,p=g=>{f||(i.next(u()),f=!0);let y={type:_n.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),n.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),i.next(y)},m=g=>{let y={type:_n.UploadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),i.next(y)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",m)),s.send(a),i.next({type:_n.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(B(No))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),Ly=new O(""),DC="XSRF-TOKEN",bC=new O("",{providedIn:"root",factory:()=>DC}),IC="X-XSRF-TOKEN",TC=new O("",{providedIn:"root",factory:()=>IC}),Oo=class{},CC=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=hd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(B(gn),B(bC))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();function SC(t,e){let n=t.url.toLowerCase();if(!D(Ly)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=D(Oo).getToken(),o=D(TC);return r!=null&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,r)})),e(t)}var yd=(function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t})(yd||{});function AC(t,e){return{\u0275kind:t,\u0275providers:e}}function NC(...t){let e=[_a,gd,Ea,{provide:vr,useExisting:Ea},{provide:xo,useFactory:()=>D(mC,{optional:!0})??D(gd)},{provide:md,useValue:SC,multi:!0},{provide:Ly,useValue:!0},{provide:Oo,useClass:CC}];for(let n of t)e.push(...n.\u0275providers);return Xi(e)}function xC(t){return AC(yd.Interceptors,t.map(e=>({provide:md,useValue:e,multi:!0})))}var OC={en:{APP_TITLE:"Equipment Maintenance Hub",DASHBOARD:"Dashboard",DEVICES:"Devices",SPARE_PARTS:"Spare Parts",MAINTENANCE:"Maintenance",LOGOUT:"Logout",LOADING_DATA:"Loading data...",PLEASE_WAIT:"Please wait a moment.",LOGIN_TITLE:"Equipment Maintenance Hub",LOGIN_SUBTITLE:"Select a role to sign in",SIGN_IN_ADMIN:"Sign in as Admin",SIGN_IN_TECHNICIAN:"Sign in as Technician",OPERATIONAL:"Operational",MAINTENANCE_STATUS:"Maintenance",OFFLINE:"Offline",LOW_STOCK_PARTS:"Low Stock Parts",TOTAL_DOWNTIME:"Total Downtime",RECENT_MAINTENANCE_ACTIVITY:"Recent Maintenance Activity",DEVICE:"Device",TECHNICIAN:"Technician",DATE:"Date",TYPE:"Type",SCHEDULED:"Scheduled",EMERGENCY:"Emergency",ADD_NEW_DEVICE:"Add New Device",EXPORT_DEVICES:"Export Devices",SEARCH_DEVICES:"Search devices...",DEVICE_NAME:"Name",LOCATION:"Location",STATUS:"Status",NEXT_MAINTENANCE:"Next Maintenance",DETAILS:"Details",DOWNTIME:"Downtime (h)",NO_DEVICES_FOUND:"No devices found for your search.",LOADING_DEVICES:"Loading devices...",BACK_TO_DEVICES:"Back to Devices",DEVICE_DETAILS:"Device Details",DEVICE_ID:"Device ID",LAST_MAINTENANCE:"Last Maintenance",LOG_MAINTENANCE:"Log Maintenance",MAINTENANCE_NOTES_PLACEHOLDER:"Enter maintenance notes...",COMPLETE_LOG_MAINTENANCE:"Complete & Log Maintenance",DEVICE_IN_MAINTENANCE:"This device is currently undergoing maintenance.",DEVICE_QR_CODE:"Device QR Code",SCAN_QR_CODE_INFO:"Scan to quickly identify this device.",ACTIONS:"Actions",VIEW_MANUAL:"View Manual (PDF)",DECOMMISSION_DEVICE:"Decommission Device",LOADING_DEVICE_DETAILS:"Loading device details...",SET_STATUS_MAINTENANCE:"Set to Maintenance",SET_STATUS_OFFLINE:"Set to Offline",SET_STATUS_OPERATIONAL:"Bring Online",SPARE_PARTS_INVENTORY:"Spare Parts Inventory",ADD_NEW_PART:"Add New Part",SEARCH_PARTS:"Search parts by name, SKU, or location...",PART_NAME:"Name",SKU:"SKU",QUANTITY:"Quantity",LOADING_PARTS:"Loading parts...",NO_PARTS_FOUND:"No parts found for your search.",MAINTENANCE_LOG:"Maintenance Log",ALL:"All",NOTES:"Notes",LOADING_LOGS:"Loading maintenance logs...",NO_LOGS_FOUND_FILTER:"No logs found for this filter.",STATUS_OPERATIONAL:"Operational",STATUS_MAINTENANCE:"Maintenance",STATUS_OFFLINE:"Offline",DOWNTIME_TRACKING:"Downtime Tracking",MONTH:"Month",TOTAL_DOWNTIME_HOURS:"Total Downtime",AVERAGE_PERCENTAGE:"Average %",DEVICES_IN_TARGET:"Devices in Target",DEVICES_OVER_TARGET:"Devices over Target",DEVICE_DOWNTIME_DETAILS:"Device Downtime Details",DEVICE_TYPE:"Type",MAINTENANCE_COUNT:"Maintenance Count",TARGET:"Target",PROGRESS:"Progress",IN_TARGET:"In target",OVER_TARGET:"Over target",DOWNTIME_INFO_TITLE:"\u2139\uFE0F Calculation Information",DOWNTIME_INFO_TEXT:"Working time: 160 hours/month per device (20 working days \xD7 8 hours). Target downtime: 2.5% = 4 hours/month. Minimum maintenance duration: 15 minutes.",MONTHLY_DOWNTIME:"Monthly Downtime",ACTIVE_DEVICES:"active devices",ELECTRICAL_INSPECTION:"Electrical Inspection",INSPECTION_DATE:"Inspection Date",VALIDITY:"Validity",EXPIRATION:"Expiration",YEAR:"year",YEARS:"years",SAVE_INSPECTION:"Save Inspection",INSPECTION_UPDATED:"Electrical inspection successfully updated",INSPECTION_DATE_REQUIRED:"Please enter inspection date.",INSPECTION_PERIOD_INVALID:"Please select a valid period.",MAINTENANCE_PERIOD:"Maintenance Period",SELECT_PERIOD:"-- Select Period --",MONTHLY:"Monthly (1 month)",QUARTERLY:"Quarterly (3 months)",SEMI_ANNUALLY:"Semi-annually (6 months)",ANNUALLY:"Annually (12 months)",AUTO_CALCULATES_NEXT:"Automatically calculates next maintenance date",CALCULATED_AUTOMATICALLY:"Calculated automatically if you select a period",SPECIFICATIONS:"Specifications",ADD_FIELD:"Add Field",SPECIFICATIONS_HELP:"Add technical specifications such as dimensions, weight, power, connections, etc.",SPEC_KEY_PLACEHOLDER:"e.g., Dimensions, Weight, Power",SPEC_VALUE_PLACEHOLDER:"e.g., 100x50x30 cm, 250 kg, 5 kW",NO_SPECIFICATIONS:"No specifications added yet"},sk:{APP_TITLE:"Centrum \xDAdr\u017Eby Zariaden\xED",DASHBOARD:"N\xE1stenka",DEVICES:"Zariadenia",SPARE_PARTS:"N\xE1hradn\xE9 diely",MAINTENANCE:"\xDAdr\u017Eba",LOGOUT:"Odhl\xE1si\u0165 sa",LOADING_DATA:"Na\u010D\xEDtavam d\xE1ta...",PLEASE_WAIT:"Pros\xEDm \u010Dakajte chv\xED\u013Eu.",LOGIN_TITLE:"Centrum \xDAdr\u017Eby Zariaden\xED",LOGIN_SUBTITLE:"Pre prihl\xE1senie si vyberte rolu",SIGN_IN_ADMIN:"Prihl\xE1si\u0165 sa ako Admin",SIGN_IN_TECHNICIAN:"Prihl\xE1si\u0165 sa ako Technik",OPERATIONAL:"V prev\xE1dzke",MAINTENANCE_STATUS:"V \xFAdr\u017Ebe",OFFLINE:"Mimo prev\xE1dzky",LOW_STOCK_PARTS:"N\xEDzke z\xE1soby dielov",TOTAL_DOWNTIME:"Celkov\xFD prestoj",RECENT_MAINTENANCE_ACTIVITY:"Ned\xE1vna aktivita \xFAdr\u017Eby",DEVICE:"Zariadenie",TECHNICIAN:"Technik",DATE:"D\xE1tum",TYPE:"Typ",SCHEDULED:"Pl\xE1novan\xE1",EMERGENCY:"Neodkladn\xE1",ADD_NEW_DEVICE:"Prida\u0165 nov\xE9 zariadenie",EXPORT_DEVICES:"Exportova\u0165 zariadenia",SEARCH_DEVICES:"H\u013Eada\u0165 zariadenia...",DEVICE_NAME:"N\xE1zov",LOCATION:"Umiestnenie",STATUS:"Stav",NEXT_MAINTENANCE:"Nasleduj\xFAca \xFAdr\u017Eba",DETAILS:"Detaily",DOWNTIME:"Prestoj (h)",NO_DEVICES_FOUND:"Pre va\u0161e vyh\u013Ead\xE1vanie sa nena\u0161li \u017Eiadne zariadenia.",LOADING_DEVICES:"Na\u010D\xEDtavam zariadenia...",BACK_TO_DEVICES:"Sp\xE4\u0165 na zariadenia",DEVICE_DETAILS:"Detaily zariadenia",DEVICE_ID:"ID zariadenia",LAST_MAINTENANCE:"Posledn\xE1 \xFAdr\u017Eba",LOG_MAINTENANCE:"Zaznamena\u0165 \xFAdr\u017Ebu",MAINTENANCE_NOTES_PLACEHOLDER:"Zadajte pozn\xE1mky k \xFAdr\u017Ebe...",COMPLETE_LOG_MAINTENANCE:"Dokon\u010Di\u0165 a zaznamena\u0165 \xFAdr\u017Ebu",DEVICE_IN_MAINTENANCE:"Toto zariadenie je moment\xE1lne v \xFAdr\u017Ebe.",DEVICE_QR_CODE:"QR k\xF3d zariadenia",SCAN_QR_CODE_INFO:"Naskenujte pre r\xFDchlu identifik\xE1ciu zariadenia.",ACTIONS:"Akcie",VIEW_MANUAL:"Zobrazi\u0165 manu\xE1l (PDF)",DECOMMISSION_DEVICE:"Vyradi\u0165 zariadenie",LOADING_DEVICE_DETAILS:"Na\u010D\xEDtavam detaily zariadenia...",SET_STATUS_MAINTENANCE:"Nastavi\u0165 na \xDAdr\u017Ebu",SET_STATUS_OFFLINE:"Nastavi\u0165 Mimo prev\xE1dzky",SET_STATUS_OPERATIONAL:"Spusti\u0165 do prev\xE1dzky",SPARE_PARTS_INVENTORY:"Sklad n\xE1hradn\xFDch dielov",ADD_NEW_PART:"Prida\u0165 nov\xFD diel",SEARCH_PARTS:"H\u013Eada\u0165 diely pod\u013Ea n\xE1zvu, SKU, alebo umiestnenia...",PART_NAME:"N\xE1zov",SKU:"SKU",QUANTITY:"Mno\u017Estvo",LOADING_PARTS:"Na\u010D\xEDtavam diely...",NO_PARTS_FOUND:"Pre va\u0161e vyh\u013Ead\xE1vanie sa nena\u0161li \u017Eiadne diely.",MAINTENANCE_LOG:"Z\xE1znamy o \xFAdr\u017Ebe",ALL:"V\u0161etky",NOTES:"Pozn\xE1mky",LOADING_LOGS:"Na\u010D\xEDtavam z\xE1znamy o \xFAdr\u017Ebe...",NO_LOGS_FOUND_FILTER:"Pre tento filter sa nena\u0161li \u017Eiadne z\xE1znamy.",STATUS_OPERATIONAL:"V prev\xE1dzke",STATUS_MAINTENANCE:"V \xFAdr\u017Ebe",STATUS_OFFLINE:"Mimo prev\xE1dzky",DOWNTIME_TRACKING:"Sledovanie Prestojov",MONTH:"Mesiac",TOTAL_DOWNTIME_HOURS:"Celkov\xFD prestoj",AVERAGE_PERCENTAGE:"Priemern\xE9 %",DEVICES_IN_TARGET:"Zariadenia v cieli",DEVICES_OVER_TARGET:"Zariadenia nad cie\u013Eom",DEVICE_DOWNTIME_DETAILS:"Detaily prestojov zariaden\xED",DEVICE_TYPE:"Typ",MAINTENANCE_COUNT:"Po\u010Det \xFAdr\u017Eieb",TARGET:"Cie\u013E",PROGRESS:"Priebeh",IN_TARGET:"V cieli",OVER_TARGET:"Nad cie\u013Eom",DOWNTIME_INFO_TITLE:"\u2139\uFE0F Inform\xE1cie o v\xFDpo\u010Dte",DOWNTIME_INFO_TEXT:"Pracovn\xFD \u010Das: 160 hod\xEDn/mesiac na zariadenie (20 pracovn\xFDch dn\xED \xD7 8 hod\xEDn). Cie\u013Eov\xFD prestoj: 2.5% = 4 hodiny/mesiac. Minim\xE1lne trvanie \xFAdr\u017Eby: 15 min\xFAt.",MONTHLY_DOWNTIME:"Mesa\u010Dn\xFD prestoj",ACTIVE_DEVICES:"akt\xEDvne zariadenia",ELECTRICAL_INSPECTION:"Elektrick\xE1 rev\xEDzia",INSPECTION_DATE:"D\xE1tum rev\xEDzie",VALIDITY:"Platnos\u0165",EXPIRATION:"Expir\xE1cia",YEAR:"rok",YEARS:"roky",SAVE_INSPECTION:"Ulo\u017Ei\u0165 rev\xEDziu",INSPECTION_UPDATED:"Elektrick\xE1 rev\xEDzia bola \xFAspe\u0161ne aktualizovan\xE1",INSPECTION_DATE_REQUIRED:"Pros\xEDm zadajte d\xE1tum rev\xEDzie.",INSPECTION_PERIOD_INVALID:"Pros\xEDm vyberte platn\xFA peri\xF3du.",MAINTENANCE_PERIOD:"Perioda \xFAdr\u017Eby",SELECT_PERIOD:"-- Vybra\u0165 peri\xF3du --",MONTHLY:"Mesa\u010Dne (1 mesiac)",QUARTERLY:"\u0160tvr\u0165ro\u010Dne (3 mesiace)",SEMI_ANNUALLY:"Polro\u010Dne (6 mesiacov)",ANNUALLY:"Ro\u010Dne (12 mesiacov)",AUTO_CALCULATES_NEXT:"Automaticky vypo\u010D\xEDta d\xE1tum \u010Fal\u0161ej \xFAdr\u017Eby",CALCULATED_AUTOMATICALLY:"Vypo\u010D\xEDta sa automaticky ak vyberiete peri\xF3du",SPECIFICATIONS:"\u0160pecifik\xE1cie",ADD_FIELD:"Prida\u0165 pole",SPECIFICATIONS_HELP:"Pridajte technick\xE9 \u0161pecifik\xE1cie ako rozmery, v\xE1ha, pr\xEDkon, pripojenia, at\u010F.",SPEC_KEY_PLACEHOLDER:"napr. Rozmery, V\xE1ha, Pr\xEDkon",SPEC_VALUE_PLACEHOLDER:"napr. 100x50x30 cm, 250 kg, 5 kW",NO_SPECIFICATIONS:"Zatia\u013E neboli pridan\xE9 \u017Eiadne \u0161pecifik\xE1cie"},de:{APP_TITLE:"Ger\xE4tewartungs-Hub",DASHBOARD:"Dashboard",DEVICES:"Ger\xE4te",SPARE_PARTS:"Ersatzteile",MAINTENANCE:"Wartung",LOGOUT:"Abmelden",LOADING_DATA:"Daten werden geladen...",PLEASE_WAIT:"Bitte warten Sie einen Moment.",LOGIN_TITLE:"Ger\xE4tewartungs-Hub",LOGIN_SUBTITLE:"W\xE4hlen Sie eine Rolle zum Anmelden",SIGN_IN_ADMIN:"Als Admin anmelden",SIGN_IN_TECHNICIAN:"Als Techniker anmelden",OPERATIONAL:"Betriebsbereit",MAINTENANCE_STATUS:"Wartung",OFFLINE:"Offline",LOW_STOCK_PARTS:"Niedriger Lagerbestand",TOTAL_DOWNTIME:"Gesamtausfallzeit",RECENT_MAINTENANCE_ACTIVITY:"Letzte Wartungsaktivit\xE4ten",DEVICE:"Ger\xE4t",TECHNICIAN:"Techniker",DATE:"Datum",TYPE:"Typ",SCHEDULED:"Geplant",EMERGENCY:"Notfall",ADD_NEW_DEVICE:"Neues Ger\xE4t hinzuf\xFCgen",EXPORT_DEVICES:"Ger\xE4te exportieren",SEARCH_DEVICES:"Ger\xE4te suchen...",DEVICE_NAME:"Name",LOCATION:"Standort",STATUS:"Status",NEXT_MAINTENANCE:"N\xE4chste Wartung",DETAILS:"Details",DOWNTIME:"Ausfallzeit (h)",NO_DEVICES_FOUND:"F\xFCr Ihre Suche wurden keine Ger\xE4te gefunden.",LOADING_DEVICES:"Ger\xE4te werden geladen...",BACK_TO_DEVICES:"Zur\xFCck zu den Ger\xE4ten",DEVICE_DETAILS:"Ger\xE4tedetails",DEVICE_ID:"Ger\xE4te-ID",LAST_MAINTENANCE:"Letzte Wartung",LOG_MAINTENANCE:"Wartung protokollieren",MAINTENANCE_NOTES_PLACEHOLDER:"Wartungsnotizen eingeben...",COMPLETE_LOG_MAINTENANCE:"Wartung abschlie\xDFen & protokollieren",DEVICE_IN_MAINTENANCE:"Dieses Ger\xE4t wird derzeit gewartet.",DEVICE_QR_CODE:"Ger\xE4te-QR-Code",SCAN_QR_CODE_INFO:"Scannen, um dieses Ger\xE4t schnell zu identifizieren.",ACTIONS:"Aktionen",VIEW_MANUAL:"Anleitung ansehen (PDF)",DECOMMISSION_DEVICE:"Ger\xE4t au\xDFer Betrieb nehmen",LOADING_DEVICE_DETAILS:"Ger\xE4tedetails werden geladen...",SET_STATUS_MAINTENANCE:"Auf Wartung setzen",SET_STATUS_OFFLINE:"Offline setzen",SET_STATUS_OPERATIONAL:"Online schalten",SPARE_PARTS_INVENTORY:"Ersatzteilinventar",ADD_NEW_PART:"Neues Teil hinzuf\xFCgen",SEARCH_PARTS:"Teile nach Name, SKU oder Standort suchen...",PART_NAME:"Name",SKU:"SKU",QUANTITY:"Menge",LOADING_PARTS:"Teile werden geladen...",NO_PARTS_FOUND:"F\xFCr Ihre Suche wurden keine Teile gefunden.",MAINTENANCE_LOG:"Wartungsprotokoll",ALL:"Alle",NOTES:"Notizen",LOADING_LOGS:"Wartungsprotokolle werden geladen...",NO_LOGS_FOUND_FILTER:"F\xFCr diesen Filter wurden keine Protokolle gefunden.",STATUS_OPERATIONAL:"Betriebsbereit",STATUS_MAINTENANCE:"Wartung",STATUS_OFFLINE:"Offline",DOWNTIME_TRACKING:"Ausfallzeit-Verfolgung",MONTH:"Monat",TOTAL_DOWNTIME_HOURS:"Gesamtausfallzeit",AVERAGE_PERCENTAGE:"Durchschnitt %",DEVICES_IN_TARGET:"Ger\xE4te im Ziel",DEVICES_OVER_TARGET:"Ger\xE4te \xFCber Ziel",DEVICE_DOWNTIME_DETAILS:"Ger\xE4te-Ausfallzeit Details",DEVICE_TYPE:"Typ",MAINTENANCE_COUNT:"Wartungsanzahl",TARGET:"Ziel",PROGRESS:"Fortschritt",IN_TARGET:"Im Ziel",OVER_TARGET:"\xDCber Ziel",DOWNTIME_INFO_TITLE:"\u2139\uFE0F Berechnungsinformationen",DOWNTIME_INFO_TEXT:"Arbeitszeit: 160 Stunden/Monat pro Ger\xE4t (20 Arbeitstage \xD7 8 Stunden). Ziel-Ausfallzeit: 2,5% = 4 Stunden/Monat. Minimale Wartungsdauer: 15 Minuten.",MONTHLY_DOWNTIME:"Monatliche Ausfallzeit",ACTIVE_DEVICES:"aktive Ger\xE4te",ELECTRICAL_INSPECTION:"Elektrische Inspektion",INSPECTION_DATE:"Inspektionsdatum",VALIDITY:"G\xFCltigkeit",EXPIRATION:"Ablaufdatum",YEAR:"Jahr",YEARS:"Jahre",SAVE_INSPECTION:"Inspektion speichern",INSPECTION_UPDATED:"Elektrische Inspektion erfolgreich aktualisiert",INSPECTION_DATE_REQUIRED:"Bitte geben Sie das Inspektionsdatum ein.",INSPECTION_PERIOD_INVALID:"Bitte w\xE4hlen Sie einen g\xFCltigen Zeitraum.",MAINTENANCE_PERIOD:"Wartungsperiode",SELECT_PERIOD:"-- Periode w\xE4hlen --",MONTHLY:"Monatlich (1 Monat)",QUARTERLY:"Viertelj\xE4hrlich (3 Monate)",SEMI_ANNUALLY:"Halbj\xE4hrlich (6 Monate)",ANNUALLY:"J\xE4hrlich (12 Monate)",AUTO_CALCULATES_NEXT:"Berechnet automatisch das n\xE4chste Wartungsdatum",CALCULATED_AUTOMATICALLY:"Wird automatisch berechnet, wenn Sie eine Periode w\xE4hlen",SPECIFICATIONS:"Spezifikationen",ADD_FIELD:"Feld hinzuf\xFCgen",SPECIFICATIONS_HELP:"F\xFCgen Sie technische Spezifikationen wie Abmessungen, Gewicht, Leistung, Anschl\xFCsse usw. hinzu.",SPEC_KEY_PLACEHOLDER:"z.B. Abmessungen, Gewicht, Leistung",SPEC_VALUE_PLACEHOLDER:"z.B. 100x50x30 cm, 250 kg, 5 kW",NO_SPECIFICATIONS:"Noch keine Spezifikationen hinzugef\xFCgt"}},wn=class wn{constructor(){this.languageSignal=hs(this.getInitialLanguage());this.currentLanguage=this.languageSignal.asReadonly();this.currentTranslations=sd(()=>OC[this.languageSignal()])}getTranslation(e){return this.currentTranslations()[e]||e}setLanguage(e){this.languageSignal.set(e),localStorage.setItem("language",e)}getInitialLanguage(){let e=localStorage.getItem("language");return e&&(e==="en"||e==="sk"||e==="de")?e:"en"}};wn.\u0275fac=function(n){return new(n||wn)},wn.\u0275prov=L({token:wn,factory:wn.\u0275fac,providedIn:"root"});var Fy=wn;var Dn=class Dn{constructor(e){this.http=e}get(e,n){let r=new Je;return n&&Object.keys(n).forEach(o=>{n[o]!==null&&n[o]!==void 0&&(r=r.append(o,n[o].toString()))}),this.http.get(e,{params:r})}post(e,n){return this.http.post(e,n)}put(e,n){return this.http.put(e,n)}patch(e,n){return this.http.patch(e,n)}delete(e){return this.http.delete(e)}getById(e,n){return this.get(`${e}/${n}`)}create(e,n){return this.post(e,n)}update(e,n,r){return this.put(`${e}/${n}`,r)}remove(e,n){return this.delete(`${e}/${n}`)}};Dn.\u0275fac=function(n){return new(n||Dn)(B(_a))},Dn.\u0275prov=L({token:Dn,factory:Dn.\u0275fac,providedIn:"root"});var jy=Dn;var vd={production:!1,enableMockData:!1,enableLogging:!0,supabase:{url:"https://qqkcnogssccsekhemyua.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFxa2Nub2dzc2Njc2VraGVteXVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyNDQ0NTgsImV4cCI6MjA3NzgyMDQ1OH0.1bhhRVvaQU2C9nh0LU_y-i2GfX58VcbJCve94UvU9RY"},apiUrl:"http://localhost:3001/api",apiTimeout:3e4,jwtTokenKey:"auth_token",refreshTokenKey:"refresh_token"};z();var Vy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var Ro=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},ko=class extends Ro{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Po=class extends Ro{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Lo=class extends Ro{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Ed=(function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t})(Ed||{});var Fo=class{constructor(e,{headers:n={},customFetch:r,region:o=Ed.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=Vy(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return v(this,arguments,void 0,function*(n,r={}){var o;try{let{headers:i,method:s,body:a,signal:c}=r,u={},{region:l}=r;l||(l=this.region);let d=new URL(`${this.url}/${n}`);l&&l!=="any"&&(u["x-region"]=l,d.searchParams.set("forceFunctionRegion",l));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(u["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(u["Content-Type"]="application/json",h=JSON.stringify(a)):h=a;let f=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new ko(y)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Po(f);if(!f.ok)throw new Lo(f);let m=((o=f.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield f.json():m==="application/octet-stream"||m==="application/pdf"?g=yield f.blob():m==="text/event-stream"?g=f:m==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new ko(i)}:{data:null,error:i,response:i instanceof Lo||i instanceof Po?i.context:void 0}}})}};var Ld=aE(Yy(),1),{PostgrestClient:Zy,PostgrestQueryBuilder:B$,PostgrestFilterBuilder:U$,PostgrestTransformBuilder:$$,PostgrestBuilder:H$,PostgrestError:HC}=Ld.default||Ld;var Fd=class{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){let r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},jd=Fd;var Jy="2.78.0";var Qy=`realtime-js/${Jy}`,Xy="1.0.0";var Vo=1e4,ev=1e3,tv=100,Bo=(function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t})(Bo||{}),oe=(function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t})(oe||{}),je=(function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t})(je||{}),Vd=(function(t){return t.websocket="websocket",t})(Vd||{}),bn=(function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t})(bn||{});var Da=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+o));s=s+o;let c=r.decode(e.slice(s,s+i));s=s+i;let u=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}};var wr=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var W=(function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t})(W||{}),Ud=(t,e,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,s)=>(i[s]=GC(s,t,e,o),i),{}):{}},GC=(t,e,n,r)=>{let o=e.find(a=>a.name===t),i=o?.type,s=n[t];return i&&!r.includes(i)?nv(i,s):Bd(s)},nv=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return KC(e,n)}switch(t){case W.bool:return zC(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return WC(e);case W.json:case W.jsonb:return qC(e);case W.timestamp:return YC(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return Bd(e);default:return Bd(e)}},Bd=t=>t,zC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},WC=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},KC=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i,s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>nv(e,a))}return t},YC=t=>typeof t=="string"?t.replace(" ","T"):t,ba=t=>{let e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var Dr=class{constructor(e,n,r={},o=Vo){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Uo=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){let i=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(g=>g.presence_ref),f=d.map(g=>g.presence_ref),p=l.filter(g=>f.indexOf(g.presence_ref)<0),m=d.filter(g=>h.indexOf(g.presence_ref)<0);p.length>0&&(a[u]=p),m.length>0&&(c[u]=m)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(e,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),l.length>0){let d=e[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=e[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),e[a]=u,o(a,u,c),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var $o=(function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t})($o||{}),wt=(function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t})(wt||{});var Ho=class t{constructor(e,n={config:{}},r){var o,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dr(this,je.join,this.params,this.timeout),this.rejoinTimer=new wr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(je.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Uo(this),this.broadcastEndpointURL=ba(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,u=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[$o.PRESENCE]&&this.bindings[$o.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(wt.CHANNEL_ERROR,f)),this._onClose(()=>e?.(wt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e?.(wt.SUBSCRIBED);return}else{let m=this.bindings.postgres_changes,g=(p=m?.length)!==null&&p!==void 0?p:0,y=[];for(let b=0;b<g;b++){let w=m[b],{filter:{event:E,schema:P,table:ie,filter:V}}=w,q=f&&f[b];if(q&&q.event===E&&q.schema===P&&q.table===ie&&q.filter===V)y.push(Object.assign(Object.assign({},w),{id:q.id}));else{this.unsubscribe(),this.state=oe.errored,e?.(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(wt.SUBSCRIBED);return}}).receive("error",f=>{this.state=oe.errored,e?.(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===oe.joined&&e===$o.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;let i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=oe.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(je.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Dr(this,je.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Dr(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>tv){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=je;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var p,m,g;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(m=f.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,m,g,y,b,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,P=(p=f.filter)===null||p===void 0?void 0:p.event;return E&&((m=n.ids)===null||m===void 0?void 0:m.includes(E))&&(P==="*"||P?.toLocaleLowerCase()===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{let E=(b=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((w=n?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:m,table:g,commit_timestamp:y,type:b,errors:w}=p;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&t.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(je.close,{},e)}_onError(e){this._on(je.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ud(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ud(e.columns,e.old_record)),n}};var $d=()=>{},Ia={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},JC=[1e3,2e3,5e3,1e4],QC=1e4,XC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Go=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vo,this.transport=null,this.heartbeatIntervalMs=Ia.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$d,this.ref=0,this.reconnectTimer=null,this.logger=$d,this.conn=null,this.sendBuffer=[],this.serializer=new Da,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-MCB5SN47.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Vd.websocket}`,this.httpEndpoint=ba(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jd.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xy}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){let n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bo.connecting:return bn.Connecting;case Bo.open:return bn.Open;case Bo.closing:return bn.Closing;default:return bn.Closed}}isConnected(){return this.connectionState()===bn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){let r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Ho(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){let{topic:n,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ev,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ia.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(je.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{let r=new Blob([XC],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let o={access_token:n,version:Qy};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(je.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new wr(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ia.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,i,s,a,c,u,l;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Vo,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ia.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:$d,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:d=>JC[d-1]||QC,this.encode=(u=e?.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(l=e?.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};z();var br=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function $(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ta=class extends br{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},In=class extends br{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};z();z();var Ir=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},rv=()=>v(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MCB5SN47.js")).Response:Response}),Ca=t=>{if(Array.isArray(t))return t.map(n=>Ca(n));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=Ca(r)}),e},ov=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Hd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},eS=(t,e,n)=>v(void 0,void 0,void 0,function*(){let r=yield rv();t instanceof r&&!n?.noResolveJson?t.json().then(o=>{let i=t.status||500,s=o?.statusCode||i+"";e(new Ta(Hd(o),i,s))}).catch(o=>{e(new In(Hd(o),o))}):e(new In(Hd(t),t))}),tS=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(ov(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function zo(t,e,n,r,o,i){return v(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,tS(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>eS(c,a,r))})})}function Ut(t,e,n,r){return v(this,void 0,void 0,function*(){return zo(t,"GET",e,n,r)})}function Se(t,e,n,r,o){return v(this,void 0,void 0,function*(){return zo(t,"POST",e,r,o,n)})}function Wo(t,e,n,r,o){return v(this,void 0,void 0,function*(){return zo(t,"PUT",e,r,o,n)})}function iv(t,e,n,r){return v(this,void 0,void 0,function*(){return zo(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Tr(t,e,n,r,o){return v(this,void 0,void 0,function*(){return zo(t,"DELETE",e,r,o,n)})}z();z();var Sa=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return v(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($(e))return{data:null,error:e};throw e}})}};var sv,Gd=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[sv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Sa(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return v(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($(e))return{data:null,error:e};throw e}})}};sv=Symbol.toStringTag;var av=Gd;var nS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Aa=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ir(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return v(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},cv),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let u=this._removeEmptyFolders(n),l=this._getFinalPath(u),d=yield(e=="PUT"?Wo:Se)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($(i))return{data:null,error:i};throw i}})}upload(e,n,r){return v(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return v(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,u=Object.assign({upsert:cv.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield Wo(this.fetch,a.toString(),c,{headers:l});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return v(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield Se(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new br("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($(r))return{data:null,error:r};throw r}})}update(e,n,r){return v(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return v(this,void 0,void 0,function*(){try{return{data:yield Se(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($(o))return{data:null,error:o};throw o}})}copy(e,n,r){return v(this,void 0,void 0,function*(){try{return{data:{path:(yield Se(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return v(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield Se(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return v(this,void 0,void 0,function*(){try{let o=yield Se(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($(o))return{data:null,error:o};throw o}})}download(e,n){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(e),c=()=>Ut(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new av(c,this.shouldThrowOnError)}info(e){return v(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{let r=yield Ut(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ca(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($(r))return{data:null,error:r};throw r}})}exists(e){return v(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{return yield iv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($(r)&&r instanceof In){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){let r=this._getFinalPath(e),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return v(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}list(e,n,r){return v(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},nS),n),{prefix:e||""});return{data:yield Se(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($(o))return{data:null,error:o};throw o}})}listV2(e,n){return v(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield Se(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};z();var Na="2.78.0";var xa={"X-Client-Info":`storage-js/${Na}`};var Ma=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xa),n),this.fetch=Ir(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return v(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(e);return{data:yield Ut(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}getBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}createBucket(e){return v(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Se(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return v(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($(r))return{data:null,error:r};throw r}})}emptyBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Se(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}deleteBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){let n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}};z();var Oa=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xa),n),this.fetch=Ir(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Se(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}listBuckets(e){return v(this,void 0,void 0,function*(){try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Ut(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}deleteBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($(n))return{data:null,error:n};throw n}})}};z();z();var Cr={"X-Client-Info":`storage-js/${Na}`,"Content-Type":"application/json"};var Ra=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function pe(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Sr=class extends Ra{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ka=class extends Ra{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}};z();var Ar=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var uv=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var lv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rS=(t,e,n)=>v(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){let o=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";e(new Sr(lv(s),o,a))}).catch(()=>{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new Sr(a,o,s))});else{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new Sr(a,o,s))}}else e(new ka(lv(t),t))}),oS=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(uv(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n))};function iS(t,e,n,r,o,i){return v(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,oS(e,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>rS(c,a,r))})})}function ge(t,e,n,r,o){return v(this,void 0,void 0,function*(){return iS(t,"POST",e,r,o,n)})}var Pa=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cr),n),this.fetch=Ar(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return v(this,void 0,void 0,function*(){try{return{data:(yield ge(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}getIndex(e,n){return v(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}listIndexes(e){return v(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return v(this,void 0,void 0,function*(){try{return{data:(yield ge(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}};z();var La=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cr),n),this.fetch=Ar(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return v(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ge(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}getVectors(e){return v(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}listVectors(e){return v(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ge(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}queryVectors(e){return v(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}deleteVectors(e){return v(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ge(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}};z();var Fa=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cr),n),this.fetch=Ar(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return v(this,void 0,void 0,function*(){try{return{data:(yield ge(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}getBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}listBuckets(){return v(this,arguments,void 0,function*(e={}){try{return{data:yield ge(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return v(this,void 0,void 0,function*(){try{return{data:(yield ge(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}};var qo=class extends Fa{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new ja(this.url,this.headers,e,this.fetch)}},ja=class extends Pa{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return v(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return v(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return v(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return v(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Va(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Va=class extends La{constructor(e,n,r,o,i){super(e,n,i),this.vectorBucketName=r,this.indexName=o}putVectors(e){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return v(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return v(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return v(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return v(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return v(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var Ko=class extends Ma{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new Aa(this.url,this.headers,e,this.fetch)}get vectors(){return new qo(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Oa(this.url+"/iceberg",this.headers,this.fetch)}};var dv="2.78.0";var Yo="";typeof Deno<"u"?Yo="deno":typeof document<"u"?Yo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yo="react-native":Yo="node";var sS={"X-Client-Info":`supabase-js-${Yo}/${dv}`},fv={headers:sS},hv={schema:"public"},pv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gv={};sf();var aS=t=>{let e;return t?e=t:typeof fetch>"u"?e=rf:e=fetch,(...n)=>e(...n)},cS=()=>typeof Headers>"u"?of:Headers,mv=(t,e,n)=>{let r=aS(n),o=cS();return async(i,s)=>{var a;let c=(a=await e())!==null&&a!==void 0?a:t,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:u}))}};function uS(t){return t.endsWith("/")?t:t+"/"}function yv(t,e){var n,r;let{db:o,auth:i,realtime:s,global:a}=t,{db:c,auth:u,realtime:l,global:d}=e,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},l),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function vv(t){let e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}z();z();var Ba="2.78.0";var Tn=30*1e3,Ua=3,$a=Ua*Tn,Ev="http://localhost:9999",_v="supabase.auth.token";var wv={"X-Client-Info":`gotrue-js/${Ba}`};var Zo="X-Supabase-Api-Version",zd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bv=600*1e3;var $t=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function _(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Ha=class extends $t{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Iv(t){return _(t)&&t.name==="AuthApiError"}var Ve=class extends $t{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},ct=class extends $t{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}},_e=class extends ct{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Tv(t){return _(t)&&t.name==="AuthSessionMissingError"}var Dt=class extends ct{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Cn=class extends ct{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Sn=class extends ct{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Cv(t){return _(t)&&t.name==="AuthImplicitGrantRedirectError"}var Jo=class extends ct{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Nr=class extends ct{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function Ga(t){return _(t)&&t.name==="AuthRetryableFetchError"}var Qo=class extends ct{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var An=class extends ct{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sv=` 	
\r=`.split(""),lS=(()=>{let t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Sv.length;e+=1)t[Sv[e].charCodeAt(0)]=-2;for(let e=0;e<za.length;e+=1)t[za[e].charCodeAt(0)]=e;return t})();function Av(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(za[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(za[r]),e.queuedBits-=6}}function Nv(t,e,n){let r=lS[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Wd(t){let e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{hS(s,r,n)};for(let s=0;s<t.length;s+=1)Nv(t.charCodeAt(s),o,i);return e.join("")}function dS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function fS(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}dS(r,e)}}function hS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ht(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Nv(t.charCodeAt(o),n,r);return new Uint8Array(e)}function xv(t){let e=[];return fS(t,n=>e.push(n)),new Uint8Array(e)}function bt(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>Av(o,n,r)),Av(null,n,r),e.join("")}function Mv(t){return Math.round(Date.now()/1e3)+t}function Ov(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var ce=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},Wa=()=>{if(!ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function Rv(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}var qa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},kv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gt=async(t,e)=>{let n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},It=async(t,e)=>{await t.removeItem(e)},Xo=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Xo.promiseConstructor=Promise;function Ka(t){let e=t.split(".");if(e.length!==3)throw new An("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Dv.test(e[r]))throw new An("JWT not in base64url format");return{header:JSON.parse(Wd(e[0])),payload:JSON.parse(Wd(e[1])),signature:Ht(e[2]),raw:{header:e[0],payload:e[1]}}}async function Pv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Lv(t,e){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})()})}function pS(t){return("0"+t.toString(16)).substr(-2)}function gS(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,pS).join("")}async function mS(t){let n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function yS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=await mS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mn(t,e,n=!1){let r=gS(),o=r;n&&(o+="/PASSWORD_RECOVERY"),await xn(t,`${e}-code-verifier`,o);let i=await yS(r);return[i,r===i?"plain":"s256"]}var vS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fv(t){let e=t.headers.get(Zo);if(!e||!e.match(vS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function jv(t){if(!t)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Vv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ES=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function On(t){if(!ES.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ya(){let t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bv(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function qd(t){return JSON.parse(JSON.stringify(t))}var Rn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_S=[502,503,504];async function Uv(t){var e;if(!kv(t))throw new Nr(Rn(t),0);if(_S.includes(t.status))throw new Nr(Rn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ve(Rn(i),i)}let r,o=Fv(t);if(o&&o.getTime()>=zd["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Qo(Rn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new _e}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Qo(Rn(n),t.status,n.weak_password.reasons);throw new Ha(Rn(n),t.status||500,r)}var wS=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function T(t,e,n,r){var o;let i=Object.assign({},r?.headers);i[Zo]||(i[Zo]=zd["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await DS(t,e,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function DS(t,e,n,r,o,i){let s=wS(e,r,o,i),a;try{a=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new Nr(Rn(c),0)}if(a.ok||await Uv(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await Uv(c)}}function Be(t){var e;let n=null;bS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Mv(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Kd(t){let e=Be(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ut(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $v(t){return{data:t,error:null}}function Hv(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,s=dt(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Yd(t){return t}function bS(t){return t.access_token&&t.refresh_token&&t.expires_in}var Za=["global","local","others"];var xr=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=qa(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Za[0]){if(Za.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Za.join(", ")}`);try{return await T(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await T(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ut})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{let{options:n}=e,r=dt(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await T(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Hv,redirectTo:n?.redirectTo})}catch(n){if(_(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await T(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ut})}catch(n){if(_(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await T(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Yd});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(_(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){On(e);try{return await T(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ut})}catch(n){if(_(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){On(e);try{return await T(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ut})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){On(e);try{return await T(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ut})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){On(e.userId);try{let{data:n,error:r}=await T(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(_(n))return{data:null,error:n};throw n}}async _deleteFactor(e){On(e.userId),On(e.id);try{return{data:await T(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await T(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Yd});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(_(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await T(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await T(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await T(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await T(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await T(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_(n))return{data:null,error:n};throw n}}};function Zd(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}var kn={debug:!!(globalThis&&Wa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ei=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Ja=class extends ei{};async function Jd(t,e,n){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ja(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kn.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Gv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qd(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function zv(t){return parseInt(t,16)}function Wv(t){let e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function qv(t){var e;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let f=Qd(t.address),p=l?`${l}://${r}`:r,m=t.statement?`${t.statement}
`:"",g=`${p} wants you to sign in with your Ethereum account:
${f}

${m}`,y=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(y+=`
Expiration Time: ${o.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(let w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}y+=b}return`${g}
${y}`}z();var Y=class extends Error{constructor({message:e,code:n,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},Pn=class extends Y{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}};function Kv({error:t,options:e}){var n,r,o;let{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Y({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Y({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Y({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Y({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Y({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Y({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Y({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Y({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let s=window.location.hostname;if(Xd(s)){if(i.rp.id!==s)return new Y({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Y({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Y({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Y({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Y({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Yv({error:t,options:e}){let{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Y({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Y({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(Xd(r)){if(n.rpId!==r)return new Y({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Y({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Y({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Y({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var ef=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},IS=new ef;function Jv(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:e,user:n,excludeCredentials:r}=t,o=dt(t,["challenge","user","excludeCredentials"]),i=Ht(e).buffer,s=Object.assign(Object.assign({},n),{id:Ht(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ht(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Qv(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:e,allowCredentials:n}=t,r=dt(t,["challenge","allowCredentials"]),o=Ht(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Ht(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Xv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t;return{id:t.id,rawId:t.id,response:{attestationObject:bt(new Uint8Array(t.response.attestationObject)),clientDataJSON:bt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function eE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:bt(new Uint8Array(o.authenticatorData)),clientDataJSON:bt(new Uint8Array(o.clientDataJSON)),signature:bt(new Uint8Array(o.signature)),userHandle:o.userHandle?bt(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Xd(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Zv(){var t,e;return!!(ce()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function TS(t){try{let e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pn("Browser returned unexpected credential type",e)}:{data:null,error:new Pn("Empty credential response",e)}}catch(e){return{data:null,error:Kv({error:e,options:t})}}}async function CS(t){try{let e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pn("Browser returned unexpected credential type",e)}:{data:null,error:new Pn("Empty credential response",e)}}catch(e){return{data:null,error:Yv({error:e,options:t})}}}var SS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},AS={userVerification:"preferred",hints:["security-key"]};function Qa(...t){let e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of t)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(e(s)){let a=r[i];e(a)?r[i]=Qa(a,s):r[i]=Qa(s)}else r[i]=s}return r}function NS(t,e){return Qa(SS,t,e||{})}function xS(t,e){return Qa(AS,t,e||{})}var Xa=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},i){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:a};let c=o??IS.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{let u=NS(s.webauthn.credential_options.publicKey,i?.create),{data:l,error:d}=await TS({publicKey:u,signal:c});return l?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}case"request":{let u=xS(s.webauthn.credential_options.publicKey,i?.request),{data:l,error:d}=await CS(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return l?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}}}catch(s){return _(s)?{data:null,error:s}:{data:null,error:new Ve("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!n)return{data:null,error:new $t("rpId is required for WebAuthn authentication")};try{if(!Zv())return{data:null,error:new Ve("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return _(s)?{data:null,error:s}:{data:null,error:new Ve("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!n)return{data:null,error:new $t("rpId is required for WebAuthn registration")};try{if(!Zv())return{data:null,error:new Ve("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(l=>{var d;return(d=l.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(l=>l?this.client.mfa.unenroll({factorId:l?.id}):void 0),{data:null,error:a};let{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return _(s)?{data:null,error:s}:{data:null,error:new Ve("Unexpected error in register",s)}}}};Gv();var MS={url:Ev,storageKey:_v,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tE(t,e,n){return await n()}var Mr={},OS=(()=>{class t{get jwks(){var n,r;return(r=(n=Mr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Mr[this.storageKey]=Object.assign(Object.assign({},Mr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Mr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Mr[this.storageKey]=Object.assign(Object.assign({},Mr[this.storageKey]),{cachedAt:n})}constructor(n){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&ce()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},MS),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new xr({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=qa(i.fetch),this.lock=i.lock||tE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ce()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Jd:this.lock=tE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Xa(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Wa()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Zd(this.memoryStorage)),ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ba}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r=Rv(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce"),ce()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Cv(s)){let u=(n=s.details)===null||n===void 0?void 0:n.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _(r)?{error:r}:{error:new Ve("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,o,i;try{let s=await T(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Be}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(_(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(n){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,m=null;this.flowType==="pkce"&&([p,m]=await Mn(this.storage,this.storageKey)),s=await T(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:m},xform:Be})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await T(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Be})}else throw new Cn("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(_(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await T(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Kd})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await T(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Kd})}else throw new Cn("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Dt}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,o,i,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,o,i,s,a,c,u,l,d,h,f;let p,m;if("message"in n)p=n.message,m=n.signature;else{let{chain:g,wallet:y,statement:b,options:w}=n,E;if(ce())if(typeof y=="object")E=y;else{let lt=window;if("ethereum"in lt&&typeof lt.ethereum=="object"&&"request"in lt.ethereum&&typeof lt.ethereum.request=="function")E=lt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}let P=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href),ie=await E.request({method:"eth_requestAccounts"}).then(lt=>lt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ie||ie.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let V=Qd(ie[0]),q=(o=w?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!q){let lt=await E.request({method:"eth_chainId"});q=zv(lt)}let oE={domain:P.host,address:V,statement:b,uri:P.href,version:"1",chainId:q,nonce:(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=w?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=w?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=w?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=w?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=qv(oE),m=await E.request({method:"personal_sign",params:[Wv(p),V]})}try{let{data:g,error:y}=await T(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Be});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Dt}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(_(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(n){var r,o,i,s,a,c,u,l,d,h,f,p;let m,g;if("message"in n)m=n.message,g=n.signature;else{let{chain:y,wallet:b,statement:w,options:E}=n,P;if(ce())if(typeof b=="object")P=b;else{let V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))P=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=b}let ie=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){let V=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),w?{statement:w}:null)),q;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")q=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)q=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)m=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),g=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${ie.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(i=(o=E?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);let V=await P.signMessage(new TextEncoder().encode(m),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=V}}try{let{data:y,error:b}=await T(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:bt(g)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Be});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Dt}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(_(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(n){let r=await Gt(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=await T(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Be});if(await It(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Dt}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(_(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(n){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=await T(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Be}),{data:u,error:l}=c;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Dt}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,o,i,s,a;try{if("email"in n){let{email:c,options:u}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=await Mn(this.storage,this.storageKey));let{error:h}=await T(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=await T(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new Cn("You must provide either an email or phone number.")}catch(c){if(_(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(n){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await T(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Be});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(_(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(n){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Mn(this.storage,this.storageKey)),await T(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:$v})}catch(s){if(_(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new _e;let{error:i}=await T(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(n){if(_(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=await T(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=await T(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Cn("You must provide either an email or phone number and a type")}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await Gt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<$a:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=await Gt(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Ya()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=Bv(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await T(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ut}):await this._useSession(async r=>{var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _e}:await T(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ut})})}catch(r){if(_(r))return Tv(r)&&(await this._removeSession(),await It(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new _e;let a=i.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=await Mn(this.storage,this.storageKey));let{data:l,error:d}=await T(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:ut});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(o){if(_(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new _e;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Ka(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:u}=await this._callRefreshToken(n.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=await this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(_(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new _e;let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!ce())throw new Sn("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Sn(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Jo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Jo("No code detected.");let{data:w,error:E}=await this._exchangeCodeForSession(n.code);if(E)throw E;let P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:w.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!s||!c||!a||!l)throw new Sn("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let p=f-d;p*1e3<=Tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:g,error:y}=await this._getUser(s);if(y)throw y;let b={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:n.type},error:null}}catch(o){if(_(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await Gt(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(Iv(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(await this._removeSession(),await It(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){let r=Ov(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Mn(this.storage,this.storageKey,!0));try{return await T(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(_(s))return{data:null,error:s};throw s}}async getUserIdentities(){var n;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await T(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ce()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(_(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:u,access_token:l,nonce:d}=n,h=await T(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:u,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Be}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Dt}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:p})}catch(i){if(_(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await T(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await Lv(async i=>(i>0&&await Pv(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await T(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Be})),(i,s)=>{let a=200*Math.pow(2,i);return s&&Ga(s)&&Date.now()+a-o<Tn})}catch(o){if(this._debug(r,"error",o),_(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),ce()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=await Gt(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Gt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await xn(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:Ya()}else if(i&&!i.user&&!i.user){let a=await Gt(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await It(this.storage,this.storageKey+"-user"),await xn(this.storage,this.storageKey,i)):i.user=Ya()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$a;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${$a}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Ga(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var r,o;if(!n)throw new _e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xo;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new _e;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),_(s)){let a={data:null,error:s};return Ga(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,o=!0){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await xn(this.userStorage,this.storageKey+"-user",{user:r.user});let i=Object.assign({},r);delete i.user;let s=qd(i);await xn(this.storage,this.storageKey,s)}else{let i=qd(r);await xn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await It(this.storage,this.storageKey),await It(this.storage,this.storageKey+"-code-verifier"),await It(this.storage,this.storageKey+"-user"),this.userStorage&&await It(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ce()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Tn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Tn}ms, refresh threshold is ${Ua} ticks`),i<=Ua&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof ei)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ce()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=await Mn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?{data:null,error:s}:await T(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:u,error:l}=await T(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(n.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Xv(n.webauthn.credential_response):eE(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:u}=await T(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(r){if(_(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=await T(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Jv(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Qv(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){let{data:r,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;let{data:{session:o},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Ka(o.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let l=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?{data:null,error:i}:o?await T(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new _e}})}catch(r){if(_(r))return{data:null,error:r};throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return{data:null,error:s};if(!i)return{data:null,error:new _e};let a=await T(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ce()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(_(o))return{data:null,error:o};throw o}}async _denyAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return{data:null,error:s};if(!i)return{data:null,error:new _e};let a=await T(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ce()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(_(o))return{data:null,error:o};throw o}}async fetchJwk(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+bv>i)return o;let{data:s,error:a}=await T(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(c=>c.kid===n),!o)?null:o}async getClaims(n,r={}){try{let o=n;if(!o){let{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};o=p.session.access_token}let{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=Ka(o);r?.allowExpired||jv(s.exp);let l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){let{error:p}=await this.getUser(o);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}let d=Vv(i.alg),h=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,xv(`${c}.${u}`)))throw new An("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(o){if(_(o))return{data:null,error:o};throw o}}}return t.nextInstanceID=0,t})(),tf=OS;var RS=tf,nf=RS;var ec=class extends nf{constructor(e){super(e)}};var tc=class{constructor(e,n,r){var o,i,s;this.supabaseUrl=e,this.supabaseKey=n;let a=vv(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:hv,realtime:gv,auth:Object.assign(Object.assign({},pv),{storageKey:c}),global:fv},l=yv(r??{},u);this.storageKey=(o=l.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=l.auth)!==null&&s!==void 0?s:{},this.headers,l.global.fetch),this.fetch=mv(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new Zy(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Ko(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Fo(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();let{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:u},l,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ec({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),l),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Go(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var nE=(t,e,n)=>new tc(t,e,n);function kS(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}kS()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Ln=class Ln{constructor(){this.supabase=nE(vd.supabase.url,vd.supabase.anonKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}getClient(){return this.supabase}get auth(){return this.supabase.auth}get db(){return this.supabase}get storage(){return this.supabase.storage}subscribeToTable(e,n){return this.supabase.channel(`public:${e}`).on("postgres_changes",{event:"*",schema:"public",table:e},n).subscribe()}unsubscribe(e){this.supabase.removeChannel(e)}};Ln.\u0275fac=function(n){return new(n||Ln)},Ln.\u0275prov=L({token:Ln,factory:Ln.\u0275fac,providedIn:"root"});var rE=Ln;export{ee as a,fE as b,F as c,lc as d,dc as e,Qe as f,Or as g,Pr as h,St as i,Si as j,TE as k,CE as l,Qt as m,AE as n,me as o,FE as p,ft as q,mc as r,$n as s,VE as t,Xt as u,yc as v,vc as w,Lr as x,Hn as y,BE as z,_c as A,$E as B,wc as C,HE as D,GE as E,zE as F,Dc as G,WE as H,rh as I,C as J,Gr as K,L,n_ as M,O as N,B as O,D as P,Xi as Q,ru as R,Ie as S,Qn as T,Vh as U,Bh as V,Xh as W,ep as X,rn as Y,gn as Z,no as _,on as $,st as aa,hs as ba,jt as ca,Vp as da,X_ as ea,bl as fa,En as ga,aw as ha,cw as ia,ag as ja,lw as ka,dw as la,cr as ma,mo as na,Cl as oa,Ew as pa,_w as qa,ww as ra,Dw as sa,bw as ta,Sl as ua,Vw as va,Ks as wa,wg as xa,$w as ya,aD as za,ao as Aa,Rs as Ba,kl as Ca,gt as Da,Te as Ea,fo as Fa,zl as Ga,vt as Ha,Eo as Ia,ym as Ja,vm as Ka,rI as La,Kl as Ma,Yl as Na,dI as Oa,oa as Pa,bm as Qa,_o as Ra,Cm as Sa,pI as Ta,gI as Ua,mI as Va,yI as Wa,vI as Xa,EI as Ya,Sm as Za,Xl as _a,ed as $a,Am as ab,td as bb,nd as cb,Nm as db,bI as eb,Mm as fb,Rm as gb,km as hb,NI as ib,xI as jb,MI as kb,OI as lb,RI as mb,Fm as nb,jm as ob,GI as pb,tT as qb,Gm as rb,rd as sb,zm as tb,Wm as ub,sT as vb,aT as wb,cT as xb,uT as yb,fT as zb,pT as Ab,gT as Bb,mT as Cb,Xm as Db,sd as Eb,ey as Fb,vB as Gb,LT as Hb,EB as Ib,_B as Jb,sa as Kb,VT as Lb,cd as Mb,gr as Nb,uy as Ob,HT as Pb,nC as Qb,iC as Rb,sC as Sb,hd as Tb,No as Ub,PU as Vb,NC as Wb,xC as Xb,Fy as Yb,jy as Zb,vd as _b,rE as $b};
